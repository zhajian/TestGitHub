(function(b){var a=(function(){return false===b.support.boxModel&&b.support.objectAll&&b.support.leadingWhitespace})();b.jGrowl=function(c,d){if(b("#jGrowl").size()===0){b('<div id="jGrowl"></div>').addClass((d&&d.position)?d.position:b.jGrowl.defaults.position).appendTo("body")}b("#jGrowl").jGrowl(c,d)};b.fn.jGrowl=function(c,e){if(b.isFunction(this.each)){var d=arguments;return this.each(function(){if(b(this).data("jGrowl.instance")===undefined){b(this).data("jGrowl.instance",b.extend(new b.fn.jGrowl(),{notifications:[],element:null,interval:null}));b(this).data("jGrowl.instance").startup(this)}if(b.isFunction(b(this).data("jGrowl.instance")[c])){b(this).data("jGrowl.instance")[c].apply(b(this).data("jGrowl.instance"),b.makeArray(d).slice(1))}else{b(this).data("jGrowl.instance").create(c,e)}})}};b.extend(b.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3000,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(d,c){var e=b.extend({},this.defaults,c);if(typeof e.speed!=="undefined"){e.openDuration=e.speed;e.closeDuration=e.speed}this.notifications.push({message:d,options:e});e.log.apply(this.element,[this.element,d,e])},render:function(g){var c=this;var d=g.message;var f=g.options;f.themeState=(f.themeState==="")?"":"ui-state-"+f.themeState;var e=b("<div/>").addClass("jGrowl-notification "+f.themeState+" ui-corner-all"+((f.group!==undefined&&f.group!=="")?" "+f.group:"")).append(b("<div/>").addClass("jGrowl-close").html(f.closeTemplate)).append(b("<div/>").addClass("jGrowl-header").html(f.header)).append(b("<div/>").addClass("jGrowl-message").html(d)).data("jGrowl",f).addClass(f.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){b(this).parent().trigger("jGrowl.beforeClose")}).parent();b(e).bind("mouseover.jGrowl",function(){b("div.jGrowl-notification",c.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){b("div.jGrowl-notification",c.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(f.beforeOpen.apply(e,[e,d,f,c.element])!==false){b(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(f.open.apply(e,[e,d,f,c.element])!==false){if(f.glue=="after"){b("div.jGrowl-notification:last",c.element).after(e)}else{b("div.jGrowl-notification:first",c.element).before(e)}b(this).animate(f.animateOpen,f.openDuration,f.easing,function(){if(b.support.opacity===false){this.style.removeAttribute("filter")}if(b(this).data("jGrowl")!==null){b(this).data("jGrowl").created=new Date()}b(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){f.afterOpen.apply(e,[e,d,f,c.element])}).bind("jGrowl.beforeClose",function(){if(f.beforeClose.apply(e,[e,d,f,c.element])!==false){b(this).trigger("jGrowl.close")}}).bind("jGrowl.close",function(){b(this).data("jGrowl.pause",true);b(this).animate(f.animateClose,f.closeDuration,f.easing,function(){if(b.isFunction(f.close)){if(f.close.apply(e,[e,d,f,c.element])!==false){b(this).remove()}}else{b(this).remove()}})}).trigger("jGrowl.beforeOpen");if(f.corners!==""&&b.fn.corner!==undefined){b(e).corner(f.corners)}if(b("div.jGrowl-notification:parent",c.element).size()>1&&b("div.jGrowl-closer",c.element).size()===0&&this.defaults.closer!==false){b(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(c.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){b(this).siblings().trigger("jGrowl.beforeClose");if(b.isFunction(c.defaults.closer)){c.defaults.closer.apply(b(this).parent()[0],[b(this).parent()[0]])}})}},update:function(){b(this.element).find("div.jGrowl-notification:parent").each(function(){if(b(this).data("jGrowl")!==undefined&&b(this).data("jGrowl").created!==undefined&&(b(this).data("jGrowl").created.getTime()+parseInt(b(this).data("jGrowl").life,10))<(new Date()).getTime()&&b(this).data("jGrowl").sticky!==true&&(b(this).data("jGrowl.pause")===undefined||b(this).data("jGrowl.pause")!==true)){b(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool===0||b(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)){this.render(this.notifications.shift())}if(b(this.element).find("div.jGrowl-notification:parent").size()<2){b(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){b(this).remove()})}},startup:function(c){this.element=b(c).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){b(c).data("jGrowl.instance").update()},parseInt(this.defaults.check,10));if(a){b(this.element).addClass("ie6")}},shutdown:function(){b(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty();clearInterval(this.interval)},close:function(){b(this.element).find("div.jGrowl-notification").each(function(){b(this).trigger("jGrowl.beforeClose")})}});b.jGrowl.defaults=b.fn.jGrowl.prototype.defaults})(jQuery);
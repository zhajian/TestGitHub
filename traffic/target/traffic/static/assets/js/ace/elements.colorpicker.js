(function(b,c){var a=function(e,g){var l=b.extend({},b.fn.ace_colorpicker.defaults,g);var j=b(e);var h="";var f="";var i=null;var d=[];j.addClass("hide").find("option").each(function(){var n="colorpick-btn";var m=this.value.replace(/[^\w\s,#\(\)\.]/g,"");if(this.value!=m){this.value=m}if(this.selected){n+=" selected";f=m}d.push(m);h+='<li><a class="'+n+'" href="#" style="background-color:'+m+';" data-color="'+m+'"></a></li>'}).end().on("change.color",function(){j.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">		<a data-toggle="dropdown" class="dropdown-toggle" '+(l.auto_pos?'data-position="auto"':"")+' href="#"><span class="btn-colorpicker" style="background-color:'+f+'"></span></a><ul class="dropdown-menu'+(l.caret?" dropdown-caret":"")+(l.pull_right?" dropdown-menu-right":"")+'">'+h+"</ul></div>");var k=j.next().find(".dropdown-menu");k.on(ace.click_event,function(o){var m=b(o.target);if(!m.is(".colorpick-btn")){return false}if(i){i.removeClass("selected")}i=m;i.addClass("selected");var n=i.data("color");j.val(n).trigger("change");o.preventDefault();return true});i=j.next().find("a.selected");this.pick=function(n,o){if(typeof n==="number"){if(n>=d.length){return}e.selectedIndex=n;k.find("a:eq("+n+")").trigger(ace.click_event)}else{if(typeof n==="string"){var m=n.replace(/[^\w\s,#\(\)\.]/g,"");n=d.indexOf(m);if(n==-1&&o===true){d.push(m);b("<option />").appendTo(j).val(m);b('<li><a class="colorpick-btn" href="#"></a></li>').appendTo(k).find("a").css("background-color",m).data("color",m);n=d.length-1}if(n==-1){return}k.find("a:eq("+n+")").trigger(ace.click_event)}}};this.destroy=function(){j.removeClass("hide").off("change.color").next().remove();d=[]}};b.fn.ace_colorpicker=function(f,g){var e;var d=this.each(function(){var j=b(this);var i=j.data("ace_colorpicker");var h=typeof f==="object"&&f;if(!i){j.data("ace_colorpicker",(i=new a(this,h)))}if(typeof f==="string"){e=i[f](g)}});return(e===c)?d:e};b.fn.ace_colorpicker.defaults={pull_right:false,caret:true,auto_pos:true}})(window.jQuery);
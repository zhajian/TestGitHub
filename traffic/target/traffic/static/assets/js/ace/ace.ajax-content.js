(function(b,d){var c={};function a(o,j){var p=b(o);var q=this;var t=j.content_url||false;var l=j.default_url||false;var e=j.loading_icon||"fa-spinner fa-2x orange";var s=j.loading_text||"";var k=j.update_breadcrumbs||j.update_breadcrumbs===d;var i=j.update_title||j.update_breadcrumbs===d;var m=j.update_active||j.update_breadcrumbs===d;var r=j.close_active||false;var v=j.max_load_wait||false;var g=false;this.loadUrl=function(x){var w=false;x=x.replace(/^(\#\!)?\#/,"");if(typeof t==="function"){w=t(x)}if(typeof w==="string"){this.getUrl(w,x,false)}};this.getUrl=function(w,z,y){if(g){return}var x;p.trigger(x=b.Event("ajaxloadstart"),{url:w,hash:z});if(x.isDefaultPrevented()){return}q.startLoading();b.ajax({url:w}).error(function(){p.trigger("ajaxloaderror",{url:w,hash:z});q.stopLoading(true)}).done(function(A){p.trigger("ajaxloaddone",{url:w,hash:z});var D=null,B="";if(typeof m==="function"){D=m.call(null,z,w)}else{if(m===true){D=b('a[data-url="'+z+'"]');if(D.length>0){var E=D.closest(".nav");if(E.length>0){E.find(".active").each(function(){var F="active";if(b(this).hasClass("hover")||r){F+=" open"}b(this).removeClass(F);if(r){b(this).find(" > .submenu").css("display","")}});var C=D.closest("li").addClass("active").parents(".nav li").addClass("active open");E.closest(".sidebar[data-sidebar-scroll=true]").each(function(){var F=b(this);F.ace_sidebar_scroll("reset");if(y){F.ace_sidebar_scroll("scroll_to_active")}})}}}}if(typeof k==="function"){B=k.call(null,z,w,D)}else{if(k===true&&D!=null&&D.length>0){B=n(D)}}A=String(A).replace(/<(title|link)([\s\>])/gi,'<div class="hidden ajax-append-$1"$2').replace(/<\/(title|link)\>/gi,"</div>");p.empty().html(A);p.css("opacity",0.6);setTimeout(function(){b("head").find("link.ace-ajax-stylesheet").remove();var H=["link.ace-main-stylesheet","link#main-ace-style",'link[href*="/ace.min.css"]','link[href*="/ace.css"]'];var G=[];for(var F=0;F<H.length;F++){G=b("head").find(H[F]).first();if(G.length>0){break}}p.find(".ajax-append-link").each(function(J){var I=b(this);if(I.attr("href")){var K=jQuery("<link />",{type:"text/css",rel:"stylesheet","class":"ace-ajax-stylesheet"});if(G.length>0){K.insertBefore(G)}else{K.appendTo("head")}K.attr("href",I.attr("href"))}I.remove()})},10);if(typeof i==="function"){i.call(null,z,w,B)}else{if(i===true){u(B)}}if(!y){b("html,body").animate({scrollTop:0},250)}p.trigger("ajaxloadcomplete",{url:w,hash:z});q.stopLoading()})};var f=null;this.startLoading=function(){if(g){return}g=true;p.css("opacity",0.25).prevAll(".ajax-loading-overlay").remove();b('<div class="ajax-loading-overlay"><i class="ajax-loading-icon fa fa-spin '+e+'"></i> '+s+"</div>").insertBefore(o);if(v!==false){f=setTimeout(function(){f=null;if(!g){return}var w;p.trigger(w=b.Event("ajaxloadlong"));if(w.isDefaultPrevented()){return}q.stopLoading(true)},v*1000)}};this.stopLoading=function(w){if(w===true){g=false;p.css("opacity",1).prevAll(".ajax-loading-overlay").remove();if(f!=null){clearTimeout(f);f=null}}else{p.css("opacity",0.75);p.one("ajaxscriptsloaded",function(){q.stopLoading(true)})}};function n(z){var w="";var x=b(".breadcrumb");if(x.length>0&&x.is(":visible")){x.find("> li:not(:first-child)").remove();var y=0;z.parents(".nav li").each(function(){var C=b(this).find("> a");var D=C.clone();D.find("i,.fa,.glyphicon,.ace-icon,.menu-icon,.badge,.label").remove();var E=D.text();D.remove();var B=C.attr("href");if(y==0){var A=b('<li class="active"></li>').appendTo(x);A.text(E);w=E}else{var A=b("<li><a /></li>").insertAfter(x.find("> li:first-child"));A.find("a").attr("href",B).text(E)}y++})}return w}function u(x){var y=p.find(".ajax-append-title");if(y.length>0){document.title=y.text();y.remove()}else{if(x.length>0){var w=b.trim(String(document.title).replace(/^(.*)[\-]/,""));if(w){w=" - "+w}x=b.trim(x)+w}}}this.loadScripts=function(w,x){b.ajaxPrefilter("script",function(y){y.cache=true});setTimeout(function(){function C(){if(typeof x==="function"){x()}b('.btn-group[data-toggle="buttons"] > .btn').button();p.trigger("ajaxscriptsloaded")}var D=0;var y=0;for(var z=0;z<w.length;z++){if(w[z]){(function(){var E="js-"+w[z].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");if(c[E]!==true){D++}})()}}function B(E){E+=1;if(E<w.length){A(E)}else{C()}}function A(E){E=E||0;if(!w[E]){return B(E)}var F="js-"+w[E].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");if(c[F]!==true){b.getScript(w[E]).done(function(){c[F]=true}).complete(function(){y++;if(y>=D&&g){C()}else{B(E)}})}else{B(E)}}if(D>0){A()}else{C()}},10)};b(window).off("hashchange.ace_ajax").on("hashchange.ace_ajax",function(y,x){var w=b.trim(window.location.hash);if(!w||w.length==0){return}q.loadUrl(w)}).trigger("hashchange.ace_ajax",[true]);var h=b.trim(window.location.hash);if(!h&&l){window.location.hash=l}}b.fn.aceAjax=b.fn.ace_ajax=function(g,i,f){var h;var e=this.each(function(){var l=b(this);var k=l.data("ace_ajax");var j=typeof g==="object"&&g;if(!k){l.data("ace_ajax",(k=new a(this,j)))}if(typeof g==="string"&&typeof k[g]==="function"){if(f!=d){h=k[g](i,f)}else{h=k[g](i)}}});return(h===d)?e:h}})(window.jQuery);
(function(d,e){var a=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i);var c="getComputedStyle" in window?function(f,g){f.offsetHeight;return window.getComputedStyle(f).position==g}:function(f,g){f.offsetHeight;return d(f).css("position")==g};function b(p,z){var u=this;var t=d(window);var o=d(p),x=o.find(".nav-list"),A=o.find(".sidebar-toggle").eq(0),m=o.find(".sidebar-shortcuts").eq(0),k=x.get(0);if(!k){return}var i=o.ace_sidebar("ref");o.attr("data-sidebar-scroll","true");var n=function(){return o.first("li.hover > .submenu").css("position")=="absolute"};var F=null,B=null,s=null,y=null,g=null;this.is_scrolling=false;var C=false;this.sidebar_fixed=c(p,"fixed");var h,w;var E=z.scroll_to_active||ace.helper.boolAttr(p,"data-scroll-to-active")||false,j=z.include_shortcuts||ace.helper.boolAttr(p,"data-scroll-include-shortcuts")||false,D=z.include_toggle||ace.helper.boolAttr(p,"data-scroll-include-toggle")||false,v=z.scroll_style||o.attr("data-scroll-style")||"";this.only_if_fixed=(z.only_if_fixed||ace.helper.boolAttr(p,"data-scroll-only-fixed"))&&true;var q=z.mousewheel_lock||ace.helper.boolAttr(p,"data-mousewheel-lock")||false;var r=function(){var G=x.parent().offset();if(u.sidebar_fixed){G.top-=ace.helper.scrollTop()}return t.innerHeight()-G.top-(D?0:A.outerHeight())};var f=function(){return k.scrollHeight};var l=function(H){if(C){return}if((u.only_if_fixed&&!u.sidebar_fixed)||n()){return}x.wrap('<div class="nav-wrap-up" />');if(j&&m.length!=0){x.parent().prepend(m)}if(D&&A.length!=0){x.parent().append(A)}F=x.parent().ace_scroll({size:r(),reset:true,mouseWheelLock:true,lockAnyway:q,styleClass:v,hoverReset:false}).closest(".ace-scroll").addClass("nav-scroll");g=F.data("ace_scroll");B=F.find(".scroll-content").eq(0);if(a&&!D){var G=A.get(0);if(G){B.on("scroll.safari",function(){ace.helper.redraw(G)})}}C=true;if(H==true){u.reset();if(E){u.scroll_to_active()}E=false}};this.scroll_to_active=function(){if(!g||!g.is_active()){return}try{var H;var M=i.vars();var G=o.find(".nav-list");if(M.minimized&&!M.collapsible){H=G.find("> .active")}else{H=x.find("> .active.hover");if(H.length==0){H=x.find(".active:not(.open)")}}var L=H.outerHeight();G=G.get(0);var K=H.get(0);while(K!=G){L+=K.offsetTop;K=K.parentNode}var I=L-F.height();if(I>0){B.scrollTop(I)}}catch(J){}};this.reset=function(G){if(G===true){this.sidebar_fixed=c(p,"fixed")}if((this.only_if_fixed&&!this.sidebar_fixed)||n()){this.disable();return}if(!C){l()}o.addClass("sidebar-scroll");var H=i.vars();var I=!H.minimized&&!H.collapsible&&!H.horizontal&&(h=r())<(w=k.parentNode.scrollHeight);this.is_scrolling=true;if(I&&g){g.update({size:h});g.enable();g.reset()}if(!I||!g.is_active()){if(this.is_scrolling){this.disable()}}};this.disable=function(){this.is_scrolling=false;if(g){g.disable()}o.removeClass("sidebar-scroll")};this.prehide=function(H){if(!this.is_scrolling||i.get("minimized")){return}if(f()+H<r()){this.disable()}else{if(H<0){var G=B.scrollTop()+H;if(G<0){return}B.scrollTop(G)}}};this._reset=function(G){if(G===true){this.sidebar_fixed=c(p,"fixed")}if(ace.vars.webkit){setTimeout(function(){u.reset()},0)}else{this.reset()}};this.get=function(G){if(this.hasOwnProperty(G)){return this[G]}};this.set=function(G,H){if(this.hasOwnProperty(G)){this[G]=H}};this.ref=function(){return this};this.updateStyle=function(G){if(g==null){return}g.update({styleClass:G})};o.on("hidden.ace.submenu.sidebar_scroll shown.ace.submenu.sidebar_scroll",".submenu",function(G){G.stopPropagation();if(!i.get("minimized")){u._reset()}});l(true)}d(document).on("settings.ace.sidebar_scroll",function(g,h,f){d(".sidebar[data-sidebar-scroll=true]").each(function(){var k=d(this);var i=k.ace_sidebar_scroll("ref");if(h=="sidebar_collapsed"){if(k.attr("data-sidebar-hover")=="true"){k.ace_sidebar_hover("reset")}if(f==true){i.disable()}else{i.reset()}}else{if(h==="sidebar_fixed"||h==="navbar_fixed"){var l=i.get("is_scrolling");var j=c(this,"fixed");i.set("sidebar_fixed",j);if(j&&!l){i.reset()}else{if(!j&&i.get("only_if_fixed")){i.disable()}}}}})});d(window).on("resize.ace.sidebar_scroll",function(){d(".sidebar[data-sidebar-scroll=true]").each(function(){var f=d(this).ace_sidebar_scroll("ref");var g=c(this,"fixed");f.set("sidebar_fixed",g);f.reset()})});if(!d.fn.ace_sidebar_scroll){d.fn.ace_sidebar_scroll=function(g,i){var h;var f=this.each(function(){var l=d(this);var k=l.data("ace_sidebar_scroll");var j=typeof g==="object"&&g;if(!k){l.data("ace_sidebar_scroll",(k=new b(this,j)))}if(typeof g==="string"&&typeof k[g]==="function"){h=k[g](i)}});return(h===e)?f:h}}})(window.jQuery);
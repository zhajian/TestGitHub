(function(d,e){var a=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i);var c="getComputedStyle" in window?function(f,g){f.offsetHeight;return window.getComputedStyle(f).position==g}:function(f,g){f.offsetHeight;return d(f).css("position")==g};function b(r,C){var w=this;var v=d(window);var o=d(r),A=o.find(".nav-list"),D=o.find(".sidebar-toggle").eq(0),n=o.find(".sidebar-shortcuts").eq(0);var j=o.ace_sidebar("ref");o.attr("data-sidebar-scroll","true");var l=A.get(0);if(!l){return}var I=null,E=null,u=null,B=null,x=null,h=null;var H=C.scroll_to_active||ace.helper.boolAttr(r,"data-scroll-to-active")||false,k=C.include_shortcuts||ace.helper.boolAttr(r,"data-scroll-include-shortcuts")||false,G=C.include_toggle||ace.helper.boolAttr(r,"data-scroll-include-toggle")||false,p=C.smooth_scroll||ace.helper.intAttr(r,"data-scroll-smooth")||false,q=C.outside||ace.helper.boolAttr(r,"data-scroll-outside")||false,z=C.scroll_style||o.attr("data-scroll-style")||"",g=true;var s=C.mousewheel_lock||ace.helper.boolAttr(r,"data-mousewheel-lock")||false;this.is_scrolling=false;var F=false;this.sidebar_fixed=c(r,"fixed");var i,y;var t=function(){var J=A.parent().offset();if(w.sidebar_fixed){J.top-=ace.helper.scrollTop()}return v.innerHeight()-J.top-(G?0:D.outerHeight())};var f=function(){return l.clientHeight};var m=function(N){if(F){return}if(!w.sidebar_fixed){return}A.wrap('<div class="nav-wrap-up pos-rel" />');A.after("<div><div></div></div>");A.wrap('<div class="nav-wrap" />');if(!G){D.css({"z-index":1})}if(!k){n.css({"z-index":99})}I=A.parent().next().ace_scroll({size:t(),mouseWheelLock:true,hoverReset:false,dragEvent:true,styleClass:z,touchDrag:false}).closest(".ace-scroll").addClass("nav-scroll");h=I.data("ace_scroll");E=I.find(".scroll-content").eq(0);u=E.find(" > div").eq(0);x=d(h.get_track());B=x.find(".scroll-bar").eq(0);if(k&&n.length!=0){A.parent().prepend(n).wrapInner("<div />");A=A.parent()}if(G&&D.length!=0){A.append(D);A.closest(".nav-wrap").addClass("nav-wrap-t")}A.css({position:"relative"});if(q===true){I.addClass("scrollout")}l=A.get(0);l.style.top=0;E.on("scroll.nav",function(){l.style.top=(-1*this.scrollTop)+"px"});A.on(!!d.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(P){if(!w.is_scrolling||!h.is_active()){return !s}return I.trigger(P)});A.on("mouseenter.ace_scroll",function(){x.addClass("scroll-hover")}).on("mouseleave.ace_scroll",function(){x.removeClass("scroll-hover")});var M=E.get(0);A.on("ace_drag.nav",function(P){if(!w.is_scrolling||!h.is_active()){P.retval.cancel=true;return}if(d(P.target).closest(".can-scroll").length!=0){P.retval.cancel=true;return}if(P.direction=="up"||P.direction=="down"){h.move_bar(true);var Q=P.dy;Q=parseInt(Math.min(i,Q));if(Math.abs(Q)>2){Q=Q*2}if(Q!=0){M.scrollTop=M.scrollTop+Q;l.style.top=(-1*M.scrollTop)+"px"}}});if(p){A.on("touchstart.nav MSPointerDown.nav pointerdown.nav",function(P){A.css("transition-property","none");B.css("transition-property","none")}).on("touchend.nav touchcancel.nav MSPointerUp.nav MSPointerCancel.nav pointerup.nav pointercancel.nav",function(P){A.css("transition-property","top");B.css("transition-property","top")})}if(a&&!G){var J=D.get(0);if(J){E.on("scroll.safari",function(){ace.helper.redraw(J)})}}F=true;if(N==true){w.reset();if(H){w.scroll_to_active()}H=false}if(typeof p==="number"&&p>0){A.css({"transition-property":"top","transition-duration":(p/1000).toFixed(2)+"s"});B.css({"transition-property":"top","transition-duration":(p/1500).toFixed(2)+"s"});I.on("drag.start",function(P){P.stopPropagation();A.css("transition-property","none")}).on("drag.end",function(P){P.stopPropagation();A.css("transition-property","top")})}if(ace.vars.android){var O=ace.helper.scrollTop();if(O<2){window.scrollTo(O,0);setTimeout(function(){w.reset()},20)}var K=ace.helper.winHeight(),L;d(window).on("scroll.ace_scroll",function(){if(w.is_scrolling&&h.is_active()){L=ace.helper.winHeight();if(L!=K){K=L;w.reset()}}})}};this.scroll_to_active=function(){if(!h||!h.is_active()){return}try{var K;var P=j.vars();var J=o.find(".nav-list");if(P.minimized&&!P.collapsible){K=J.find("> .active")}else{K=A.find("> .active.hover");if(K.length==0){K=A.find(".active:not(.open)")}}var O=K.outerHeight();J=J.get(0);var N=K.get(0);while(N!=J){O+=N.offsetTop;N=N.parentNode}var L=O-I.height();if(L>0){l.style.top=-L+"px";E.scrollTop(L)}}catch(M){}};this.reset=function(J){if(J===true){this.sidebar_fixed=c(r,"fixed")}if(!this.sidebar_fixed){this.disable();return}if(!F){m()}var K=j.vars();var L=!K.collapsible&&!K.horizontal&&(i=t())<(y=l.clientHeight);this.is_scrolling=true;if(L){u.css({height:y,width:8});I.prev().css({"max-height":i});h.update({size:i});h.enable();h.reset()}if(!L||!h.is_active()){if(this.is_scrolling){this.disable()}}else{o.addClass("sidebar-scroll")}};this.disable=function(){this.is_scrolling=false;if(I){I.css({height:"","max-height":""});u.css({height:"",width:""});I.prev().css({"max-height":""});h.disable()}if(parseInt(l.style.top)<0&&p&&d.support.transition.end){A.one(d.support.transition.end,function(){o.removeClass("sidebar-scroll");A.off(".trans")})}else{o.removeClass("sidebar-scroll")}l.style.top=0};this.prehide=function(K){if(!this.is_scrolling||j.get("minimized")){return}if(f()+K<t()){this.disable()}else{if(K<0){var J=E.scrollTop()+K;if(J<0){return}l.style.top=(-1*J)+"px"}}};this._reset=function(J){if(J===true){this.sidebar_fixed=c(r,"fixed")}if(ace.vars.webkit){setTimeout(function(){w.reset()},0)}else{this.reset()}};this.set_hover=function(){if(x){x.addClass("scroll-hover")}};this.get=function(J){if(this.hasOwnProperty(J)){return this[J]}};this.set=function(J,K){if(this.hasOwnProperty(J)){this[J]=K}};this.ref=function(){return this};this.updateStyle=function(J){if(h==null){return}h.update({styleClass:J})};o.on("hidden.ace.submenu.sidebar_scroll shown.ace.submenu.sidebar_scroll",".submenu",function(J){J.stopPropagation();if(!j.get("minimized")){w._reset();if(J.type=="shown"){w.set_hover()}}});m(true)}d(document).on("settings.ace.sidebar_scroll",function(g,h,f){d(".sidebar[data-sidebar-scroll=true]").each(function(){var k=d(this);var i=k.ace_sidebar_scroll("ref");if(h=="sidebar_collapsed"&&c(this,"fixed")){if(k.attr("data-sidebar-hover")=="true"){k.ace_sidebar_hover("reset")}i._reset()}else{if(h==="sidebar_fixed"||h==="navbar_fixed"){var l=i.get("is_scrolling");var j=c(this,"fixed");i.set("sidebar_fixed",j);if(j&&!l){i._reset()}else{if(!j){i.disable()}}}}})});d(window).on("resize.ace.sidebar_scroll",function(){d(".sidebar[data-sidebar-scroll=true]").each(function(){var h=d(this);if(h.attr("data-sidebar-hover")=="true"){h.ace_sidebar_hover("reset")}var f=d(this).ace_sidebar_scroll("ref");var g=c(this,"fixed");f.set("sidebar_fixed",g);f._reset()})});if(!d.fn.ace_sidebar_scroll){d.fn.ace_sidebar_scroll=function(g,i){var h;var f=this.each(function(){var l=d(this);var k=l.data("ace_sidebar_scroll");var j=typeof g==="object"&&g;if(!k){l.data("ace_sidebar_scroll",(k=new b(this,j)))}if(typeof g==="string"&&typeof k[g]==="function"){h=k[g](i)}});return(h===e)?f:h}}})(window.jQuery);
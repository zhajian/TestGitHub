(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(c){var a=c.fn.wizard;var b=function(f,e){var d;this.$element=c(f);this.options=c.extend({},c.fn.wizard.defaults,e);this.options.disablePreviousStep=(this.$element.attr("data-restrict")==="previous")?true:this.options.disablePreviousStep;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");d=this.$nextBtn.children().detach();this.nextText=c.trim(this.$nextBtn.text());this.$nextBtn.append(d);this.$prevBtn.on("click.fu.wizard",c.proxy(this.previous,this));this.$nextBtn.on("click.fu.wizard",c.proxy(this.next,this));this.$element.on("click.fu.wizard","li.complete",c.proxy(this.stepclicked,this));this.selectedItem(this.options.selectedItem);if(this.options.disablePreviousStep){this.$prevBtn.attr("disabled",true);this.$element.find(".steps").addClass("previous-disabled")}};b.prototype={constructor:b,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},addSteps:function(j){var k=[].slice.call(arguments).slice(1);var m=this.$element.find(".steps");var f=this.$element.find(".step-content");var h,g,e,o,n,d;j=(j===-1||(j>(this.numSteps+1)))?this.numSteps+1:j;if(k[0] instanceof Array){k=k[0]}n=m.find("li:nth-child("+j+")");o=f.find(".step-pane:nth-child("+j+")");if(n.length<1){n=null}for(h=0,g=k.length;h<g;h++){d=c('<li data-step="'+j+'"><span class="badge badge-info"></span></li>');d.append(k[h].label||"").append('<span class="chevron"></span>');d.find(".badge").append(k[h].badge||j);e=c('<div class="step-pane" data-step="'+j+'"></div>');e.append(k[h].pane||"");if(!n){m.append(d);f.append(e)}else{n.before(d);o.before(e)}j++}this.syncSteps();this.numSteps=m.find("li").length;this.setState()},removeSteps:function(e,g){var j="nextAll";var f=0;var k=this.$element.find(".steps");var d=this.$element.find(".step-content");var h;g=(g!==undefined)?g:1;if(e>k.find("li").length){h=k.find("li:last")}else{h=k.find("li:nth-child("+e+")").prev();if(h.length<1){j="children";h=k}}h[j]().each(function(){var l=c(this);var i=l.attr("data-step");if(f<g){l.remove();d.find('.step-pane[data-step="'+i+'"]:first').remove()}else{return false}f++});this.syncSteps();this.numSteps=k.find("li").length;this.setState()},setState:function(){var q=(this.currentStep>1);var r=(this.currentStep===1);var d=(this.currentStep===this.numSteps);if(!this.options.disablePreviousStep){this.$prevBtn.attr("disabled",(r===true||q===false))}var m=this.$nextBtn.attr("data-last");if(m){this.lastText=m;var o=this.nextText;if(d===true){o=this.lastText;this.$element.addClass("complete")}else{this.$element.removeClass("complete")}var g=this.$nextBtn.children().detach();this.$nextBtn.text(o).append(g)}var l=this.$element.find(".steps li");l.removeClass("active").removeClass("complete");l.find("span.badge").removeClass("badge-info").removeClass("badge-success");var p=".steps li:lt("+(this.currentStep-1)+")";var i=this.$element.find(p);i.addClass("complete");i.find("span.badge").addClass("badge-success");var f=".steps li:eq("+(this.currentStep-1)+")";var n=this.$element.find(f);n.addClass("active");n.find("span.badge").addClass("badge-info");var h=this.$element.find(".step-content");var k=n.attr("data-step");h.find(".step-pane").removeClass("active");h.find('.step-pane[data-step="'+k+'"]:first').addClass("active");if(typeof(this.initialized)!=="undefined"){var j=c.Event("changed.fu.wizard");this.$element.trigger(j,{step:this.currentStep})}this.initialized=true},stepclicked:function(i){var f=c(i.currentTarget);var h=this.$element.find(".steps li").index(f);var d=true;if(this.options.disablePreviousStep){if(h<this.currentStep){d=false}}if(d){var g=c.Event("stepclicked.fu.wizard");this.$element.trigger(g,{step:h+1});if(g.isDefaultPrevented()){return}this.currentStep=(h+1);this.setState()}},syncSteps:function(){var e=1;var f=this.$element.find(".steps");var d=this.$element.find(".step-content");f.children().each(function(){var i=c(this);var g=i.find(".badge");var h=i.attr("data-step");if(!isNaN(parseInt(g.html(),10))){g.html(e)}i.attr("data-step",e);d.find('.step-pane[data-step="'+h+'"]:last').attr("data-step",e);e++})},previous:function(){var d=(this.currentStep>1);if(this.options.disablePreviousStep){d=false}if(d){var f=c.Event("actionclicked.fu.wizard");this.$element.trigger(f,{step:this.currentStep,direction:"previous"});if(f.isDefaultPrevented()){return}this.currentStep-=1;this.setState()}if(this.$prevBtn.is(":disabled")){this.$nextBtn.focus()}else{this.$prevBtn.focus()}},next:function(){var g=(this.currentStep+1<=this.numSteps);var d=(this.currentStep===this.numSteps);if(g){var f=c.Event("actionclicked.fu.wizard");this.$element.trigger(f,{step:this.currentStep,direction:"next"});if(f.isDefaultPrevented()){return}this.currentStep+=1;this.setState()}else{if(d){this.$element.trigger("finished.fu.wizard")}}if(this.$nextBtn.is(":disabled")){this.$prevBtn.focus()}else{this.$nextBtn.focus()}},selectedItem:function(e){var f,d;if(e){d=e.step||-1;if(d>=1&&d<=this.numSteps){this.currentStep=d;this.setState()}else{d=this.$element.find(".steps li.active:first").attr("data-step");if(!isNaN(d)){this.currentStep=parseInt(d,10);this.setState()}}f=this}else{f={step:this.currentStep}}return f}};c.fn.wizard=function(f){var e=Array.prototype.slice.call(arguments,1);var g;var d=this.each(function(){var j=c(this);var i=j.data("fu.wizard");var h=typeof f==="object"&&f;if(!i){j.data("fu.wizard",(i=new b(this,h)))}if(typeof f==="string"){g=i[f].apply(i,e)}});return(g===undefined)?d:g};c.fn.wizard.defaults={disablePreviousStep:false,selectedItem:{step:-1}};c.fn.wizard.Constructor=b;c.fn.wizard.noConflict=function(){c.fn.wizard=a;return this};c(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(f){var d=c(f.target).closest(".wizard");if(!d.data("fu.wizard")){d.wizard(d.data())}});c(function(){c("[data-initialize=wizard]").each(function(){var d=c(this);if(d.data("fu.wizard")){return}d.wizard(d.data())})})}));
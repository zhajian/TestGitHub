jQuery(function(e){var a="#grid-table";var b="#grid-pager";jQuery(a).jqGrid({url:G_CTX_PATH+"/connect/list",datatype:"json",mtype:"GET",width:"300",height:"320",colNames:["登陆账号","连接类型","终端类型","MAC","IP","上线时间","下线时间"],colModel:[{name:"loginName",index:"loginName",width:10,sortable:false},{name:"connectType",index:"connectType",width:6,sortable:false,formatter:function(f,g,h){if(f==0){return"无线"}return"有线"}},{name:"deviceType",index:"deviceType",width:6,sortable:false,formatter:function(f,g,h){if(f==0){return"其他"}else{if(f==1){return"电脑"}else{return"移动"}}}},{name:"mac",index:"mac",width:12,sortable:false},{name:"ip",index:"ip",width:10,sortable:false},{name:"onTimeStr",index:"onTimeStr",width:15,sortable:false},{name:"offTimeStr",index:"offTimeStr",width:15,sortable:false}],jsonReader:{root:"rows",total:function(g){var f=g.total;var h=parseInt(e("#grid-table").getGridParam("rowNum"));return f%h>0?f/h+1:f/h},page:"page",records:"total",repeatitems:false},postData:{},viewrecords:true,rowNum:10,rowList:[10,20,30],pager:b,altRows:true,multiboxonly:true,loadComplete:function(){var f=this;setTimeout(function(){updatePagerIcons(f)},0)},autowidth:true});function d(){e("#grid-table").jqGrid("setGridParam",{page:1});e("#grid-table").jqGrid("setGridParam",{postData:{loginName:e("#sn").val(),mac:e("#mac").val(),onTimeStr:e("#onTimeStr").val(),offTimeStr:e("#offTimeStr").val()},datatype:"json"}).trigger("reloadGrid")}function c(){e("#grid-table").jqGrid("setGridParam",{page:1});e("#grid-table").jqGrid("setGridParam",{postData:{},datatype:"json"}).trigger("reloadGrid")}click_tree_menu(function(f){e("#merchantId").val(f.attr("node"));d()});e("#equipmentSearchBtn").on("click",function(){d()})});
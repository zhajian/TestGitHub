var defaultSetting={pageSize:10};var G_V={};function calPageTotalNum(b,a){var c=0;if(b%a==0){c=b/a}else{c=parseInt(b/a)+1}return c}function showLoadMsg(a){$("#"+a).append("<div id='"+a+"_loadMsg'><img  src='"+G_CTX_PATH+"/static/images/loading.gif' />数据加载中...</div>")}function rmLoadMsg(a){$("#"+a+"_loadMsg").remove()}var G_VAL={};var Hg={};Hg.mrkPageList=function(e,a,g){var c=calPageTotalNum(a,defaultSetting.pageSize);var b=$("#"+e+" ul.pagination").empty();b.append("<li class='prev disabled' tag='go'><a href='#'><i class='icon-double-angle-left'></i></a></li>");for(var d=0;d<c;d++){if(d==3){break}var f="";if(d==0){f="class='active'"}b.append("<li "+f+" tag='num'><a href='#'>"+(d+1)+"</a></li>")}b.append("<li class='next' tag='go'><a href='#'><i class='icon-double-angle-right'></i></a></li>");b.find("li").bind("click",false);b.find("li[tag='num']").click(function(){var h=$(this).text();if(h!=1){b.find("li.prev").removeClass("disabled")}if(h==c){b.find("li.next").addClass("disabled")}b.find("li[tag='num']").removeClass("active");$(this).addClass("active");g($(this).text())});b.find("li.prev").click(function(){b.find("li[tag='num'].active").prev().click()});b.find("li.next").click(function(){b.find("li[tag='num'].active").next().click()})};Hg.makeComboAry=function(c,d,j,g){var a=new Array();var b=[];var h=[];if(c!=""){b=c.split("$$$")}if(d!=""){h=d.split("$$$")}if(j){a.push({text:"---请选择---",value:-1})}for(var f=0;f<b.length;f++){var e={};e.value=b[f];e.text=h[f];if(typeof g!="undefined"){if(b[f]==g){e.selected=true}}a.push(e)}return a};Hg.checkSelectOptionExist=function(b,c){for(var a=0;a<b.length;a++){if(b[a].value==c){return{item:new Option(b[a].text,b[a].value),index:a}}}return null};Hg.getSelectOptionStr=function(b){var d=new Array();var a=new Array();for(var c=0;c<b.length;c++){d.push(b[c].value);a.push(b[c].text)}return{values:d.join(","),texts:a.join(",")}};Hg.getJson=function(b,a,c){$.getJSON(G_CTX_PATH+b+"?etc="+new Date().getTime(),a,c)};Hg.post=function(b,a,c){$.post(G_CTX_PATH+b+"?etc="+new Date().getTime(),a,c)};Hg.refRepeatSubmit=function(a){$("#"+a).append("<input type='hidden' name='submitToken'/>");Hg.getJson("/refSubmitToken",{},function(b){$("#"+a).find("[name='submitToken']").val(b.data)})};Hg.refreshSubmitToken=function(a){Hg.getJson("/refSubmitToken",{},function(b){$("#"+a).find("[name='submitToken']").val(b.data)})};String.format=function(){if(arguments.length==0){return null}var c=arguments[0];for(var a=1;a<arguments.length;a++){var b=new RegExp("\\{"+(a-1)+"\\}","gm");c=c.replace(b,arguments[a])}return c};function StringBuffer(a){this.tmp=new Array()}StringBuffer.prototype.append=function(a){this.tmp.push(a);return this};StringBuffer.prototype.clear=function(){tmp.length=1};StringBuffer.prototype.toString=function(){return this.tmp.join("")};Array.prototype.find=function(c){for(var b=0,a=this.length;b<a;b++){if(this[b]==c){return this[b]}}return null};
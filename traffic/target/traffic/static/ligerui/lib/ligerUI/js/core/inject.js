(function(a){liger.inject={prev:"liger-",defaults:{Grid_detail:{height:null,onShowDetail:null},Grid_editor:"ComboBox,DateEditor,Spinner,TextBox,PopupEdit,CheckBoxList,RadioList,Grid_editor",Grid_popup:"PopupEdit",Grid_grid:"Grid",Grid_condition:"Form",Grid_toolbar:"Toolbar",Grid_fields:"Form_fields",Form_editor:"ComboBox,DateEditor,Spinner,TextBox,PopupEdit,CheckBoxList,RadioList,Form_editor",Form_grid:"Grid",Form_columns:"Grid_columns",Form_condition:"Form",Form_popup:"PopupEdit",Form_buttons:"Button",Portal_panel:"Panel"},config:{Grid:{dynamics:"data,isChecked,detail,rowDraggingRender,toolbar,columns",arrays:"columns",columns:{dynamics:"render,totalSummary,headerRender,columns,editor,columns",arrays:"columns",textProperty:"display",columns:"liger.inject.config.Grid.columns",editor:{dynamics:"data,columns,render,renderItem,grid,condition,ext",grid:"liger.inject.config.Grid",condition:"liger.inject.config.Form"}},toolbar:{arrays:"items"}},Form:{dynamics:"validate,fields,buttons",arrays:"fields,buttons",fields:{textProperty:"label",dynamics:"validate,editor",editor:{dynamics:"data,columns,render,renderItem,grid,condition,attr",grid:"liger.inject.config.Grid",condition:"liger.inject.config.Form"}},buttons:"liger.inject.config.Button"},PopupEdit:{dynamics:"grid,condition"},Button:{textProperty:"text",dynamics:"click"},ComboBox:{dynamics:"columns,data,tree,grid,condition,render,parms,renderItem"},ListBox:{dynamics:"columns,data,render,parms"},RadioList:{dynamics:"data,parms"},CheckBoxList:{dynamics:"data,parms"},Panel:{},Portal:{dynamics:"rows,columns",arrays:"rows,columns",columns:{dynamics:"panels",arrays:"panels"},rows:{dynamics:"panels",arrays:"panels"},toolbar:{arrays:"items"}}},parse:function(b){try{if(b==null){return null}return new Function("return "+b+";")()}catch(c){return null}},parseDefault:function(d){var c=this;if(!d){return d}var b={};a(d.split(",")).each(function(f,e){if(!e){return}e=e.substr(0,1).toUpperCase()+e.substr(1);a.extend(b,c.parse("liger.defaults."+e))});return b},fotmatValue:function(c,b){if(b=="boolean"){return c=="true"||c=="1"}if(b=="number"&&c){return parseFloat(c.toString())}return c},getOptions:function(l){var i=l.jelement,h=l.defaults,c=l.config;c=a.extend({ignores:"",dynamics:"",arrays:""},c);var k=this,q={},n;if(c.textProperty){q[c.textProperty]=i.text()}for(var j in h){var m=j.toLowerCase();var d=a("> ."+m,i);if(a.inArray(j,c.ignores.split(","))!=-1){continue}if(d.length){var o=l.controlName+"_"+j;var f=k.defaults[o]||liger.defaults[o],b=c[j];if(typeof(f)=="string"){f=k.parseDefault(f)}else{if(typeof(f)=="funcion"){f=f()}}if(typeof(b)=="string"){b=k.parse(b)}else{if(typeof(b)=="funcion"){b=b()}}if(f){if(a.inArray(j,c.arrays.split(","))!=-1){n=[];a(">div,>li,>input",d).each(function(){n.push(k.getOptions({defaults:f,controlName:l.controlName,config:b,jelement:a(this)}))});q[j]=n}else{q[j]=k.getOptions({defaults:f,controlName:l.controlName,config:b,jelement:d})}}d.remove()}else{if(a.inArray(j,c.dynamics.split(","))!=-1||j.indexOf("on")==0){n=k.parse(i.attr("data-"+j)||i.attr(j));if(n){q[j]=k.fotmatValue(n)}}else{n=i.attr("data-"+j)||i.attr(j);if(n){q[j]=k.fotmatValue(n)}}}}var p=i.attr("data-options")||i.attr("data-property");if(p){p=k.parse("{"+p+"}")}if(p){a.extend(q,p)}return q},init:function(){var e=this,h=this.config;for(var c in e.defaults){if(typeof(e.defaults[c])=="string"){e.defaults[c]=e.parseDefault(e.defaults[c])}}for(var f in liger.controls){var b=h[f]||{};var d=e.prev+f.toLowerCase();a("."+d).each(function(){var k=a(this),i;var j=a.extend({onrender:null,onrendered:null},liger.defaults[f]);var g=e.getOptions({defaults:j,controlName:f,config:b,jelement:k});k[liger.pluginPrev+f](g)})}}};a(function(){liger.inject.init()})})(jQuery);
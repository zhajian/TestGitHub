var define,require,esl;!function(aY){function aJ(a){aQ(a,ar)||(am[a]=1)}function aU(f,d){function c(a){0===a.indexOf(".")&&b.push(a)}var b=[];if("string"==typeof f?c(f):az(f,function(a){c(a)}),b.length>0){throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+b.join(", "))}var g=an.waitSeconds;return g&&f instanceof Array&&(ax&&clearTimeout(ax),ax=setTimeout(aP,1000*g)),ay(f,d)}function aP(){function g(i,e){if(!h[i]&&!aQ(i,ar)){h[i]=1,aQ(i,aw)||j[i]||(j[i]=1,d.push(i));var a=aD[i];a?e&&(j[i]||(j[i]=1,d.push(i)),az(a.depMs,function(k){g(k.absId,k.hard)})):b[i]||(b[i]=1,c.push(i))}}var d=[],c=[],j={},b={},h={};for(var f in am){g(f,1)}if(d.length||c.length){throw new Error("[MODULE_TIMEOUT]Hang( "+(d.join(", ")||"none")+" ) Miss( "+(c.join(", ")||"none")+" )")}}function a3(a){az(aA,function(b){aK(a,b.deps,b.factory)}),aA.length=0}function aO(f,d,c){if(null==c&&(null==d?(c=f,f=null):(c=d,d=null,f instanceof Array&&(d=f,f=null))),null!=c){var g=window.opera;if(!f&&document.attachEvent&&(!g||"[object Opera]"!==g.toString())){var b=at();f=b&&b.getAttribute("data-require-id")}f?aK(f,d,c):aA[0]={deps:d,factory:c}}}function aL(){var a=an.config[this.id];return a&&"object"==typeof a?a:{}}function aK(c,b,a){aD[c]||(aD[c]={id:c,depsDec:b,deps:b||["require","exports","module"],factoryDeps:[],factory:a,exports:{},config:aL,state:aB,require:aH(c),depMs:[],depMkv:{},depRs:[]})}function aR(g){var d=aD[g];if(d&&!aQ(g,ao)){var c=d.deps,j=d.factory,b=0;"function"==typeof j&&(b=Math.min(j.length,c.length),!d.depsDec&&j.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(i,a,k){c.push(k)}));var h=[],f=[];az(c,function(e,p){var m,a,k=ae(e),o=ap(k.mod,g);o&&!al[o]?(k.res&&(a={id:e,mod:o,res:k.res},f.push(e),d.depRs.push(a)),m=d.depMkv[o],m||(m={id:k.mod,absId:o,hard:b>p},d.depMs.push(m),d.depMkv[o]=m,h.push(o))):m={absId:o},b>p&&d.factoryDeps.push(a||m)}),d.state=ao,a0(g),aW(h),f.length&&d.require(f,function(){az(d.depRs,function(a){a.absId||(a.absId=ap(a.id,g))}),aV()})}}function aV(){for(var a in am){aR(a),aZ(a),aN(a)}}function aZ(c){function b(f){if(aR(f),!aQ(f,ao)){return !1}if(aQ(f,aw)||a[f]){return !0}a[f]=1;var g=aD[f],d=!0;return az(g.depMs,function(h){return d=b(h.absId)}),d&&az(g.depRs,function(h){return d=!!h.absId}),d&&(g.state=aw),d}var a={};b(c)}function a0(d){function c(){if(!e&&b.state===aw){e=1;var f=1;if(az(b.factoryDeps,function(k){var i=k.absId;return al[i]?void 0:(aN(i),f=aQ(i,ar))}),f){try{var j=b.factory,h="function"==typeof j?j.apply(aY,aI(b.factoryDeps,{require:b.require,exports:b.exports,module:b})):j;null!=h&&(b.exports=h),b.invokeFactory=null}catch(g){if(/^\[MODULE_MISS\]"([^"]+)/.test(g.message)){var a=b.depMkv[RegExp.$1];return a&&(a.hard=1),void (e=0)}throw g}ag(d)}}}var e,b=aD[d];b.invokeFactory=c}function aQ(b,a){return aD[b]&&aD[b].state>=a}function aN(b){var a=aD[b];a&&a.invokeFactory&&a.invokeFactory()}function aI(c,b){var a=[];return az(c,function(d,f){"object"==typeof d&&(d=d.absId),a[f]=b[d]||aD[d].exports}),a}function af(c,b){if(aQ(c,ar)){return void b()}var a=au[c];a||(a=au[c]=[]),a.push(b)}function ag(c){var b=aD[c];b.state=ar,delete am[c];for(var a=au[c]||[],d=a.length;d--;){a[d]()}a.length=0,au[c]=null}function aW(d,c,f){function b(){if("function"==typeof c&&!e){var a=1;az(d,function(g){return al[g]?void 0:a=!!aQ(g,ar)}),a&&(e=1,c.apply(aY,aI(d,al)))}}var e=0;az(d,function(a){al[a]||aQ(a,ar)||(af(a,b),(a.indexOf("!")>0?aE:aX)(a,f))}),b()}function aX(b){function a(){var f=ak[b];ai(f||b,e)}function e(){if(d){var f;"function"==typeof d.init&&(f=d.init.apply(aY,aI(c,al))),null==f&&d.exports&&(f=aY,az(d.exports.split("."),function(g){return f=f[g],!!f})),aO(b,c,f||{})}else{a3(b)}aV()}if(!aj[b]&&!aD[b]){aj[b]=1;var d=an.shim[b];d instanceof Array&&(an.shim[b]=d={deps:d});var c=d&&(d.deps||[]);c?(az(c,function(f){an.shim[f]||(an.shim[f]={})}),ay(c,a)):a()}}function aE(f,c){function b(e){a.exports=e||!0,ag(f)}function h(i){var e=c?aD[c].require:ay;i.load(d.res,e,b,aL.call({id:f}))}if(!aD[f]){var g=ak[f];if(g){return void aX(g)}var d=ae(f),a={id:f,state:ao};aD[f]=a,b.fromText=function(j,i){new Function(i)(),a3(j)},h(ay(d.mod))}}function a1(c,b){var a=ac(c,1,b);return a.sort(ah),a}function a4(){function b(c){ak[c]=a}an.baseUrl=an.baseUrl.replace(/\/$/,"")+"/",av=a1(an.paths),aa=a1(an.map,1),az(aa,function(c){c.v=a1(c.v)}),ab=[],az(an.packages,function(d){var c=d;"string"==typeof d&&(c={name:d.split("/")[0],location:d,main:"main"}),c.location=c.location||c.name,c.main=(c.main||"main").replace(/\.js$/i,""),c.reg=aq(c.name),ab.push(c)}),ab.sort(ah),aM=a1(an.urlArgs,1),ak={};for(var a in an.bundles){az(an.bundles[a],b)}}function aF(c,b,a){az(b,function(d){return d.reg.test(c)?(a(d.v,d.k,d),!1):void 0})}function aS(h){var d=/(\.[a-z0-9]+)$/i,c=/(\?[^#]*)$/,k="",b=h,j="";c.test(h)&&(j=RegExp.$1,h=h.replace(c,"")),d.test(h)&&(k=RegExp.$1,b=h.replace(d,""));var g,f=b;return aF(b,av,function(i,a){f=f.replace(a,i),g=1}),g||aF(b,ab,function(m,l,a){f=f.replace(a.name,a.location)}),/^([a-z]{2,10}:\/)?\//i.test(f)||(f=an.baseUrl+f),f+=k+j,aF(b,aM,function(a){f+=(f.indexOf("?")>0?"&":"?")+a}),f}function aH(b){function a(e,d){if("string"==typeof e){if(!c[e]){var h=ap(e,b);if(aN(h),!aQ(h,ar)){throw new Error('[MODULE_MISS]"'+h+'" is not exists!')}c[e]=aD[h].exports}return c[e]}if(e instanceof Array){var g=[],f=[];az(e,function(m,s){var k=ae(m),r=ap(k.mod,b),j=k.res,p=r;if(j){var q=r+"!"+j;0!==j.indexOf(".")&&ak[q]?r=p=q:p=null}f[s]=p,aJ(r),g.push(r)}),aW(g,function(){az(f,function(j,i){null==j&&(j=f[i]=ap(e[i],b),aJ(j))}),aW(f,d,b),aV()},b),aV()}}var c={};return a.toUrl=function(d){return aS(ap(d,b))},a}function ap(f,d){if(!f){return""}d=d||"";var c=ae(f);if(!c){return f}var h=c.res,b=aG(c.mod,d);if(az(ab,function(i){var a=i.name;return a===b?(b=a+"/"+i.main,!1):void 0}),aF(d,aa,function(a){aF(b,a,function(j,i){b=b.replace(i,j)})}),h){var g=aQ(b,ar)&&ay(b);h=g&&g.normalize?g.normalize(h,function(a){return ap(a,d)}):ap(h,d),b+="!"+h}return b}function aG(h,k){if(0===h.indexOf(".")){var g=k.split("/"),d=h.split("/"),j=g.length-1,c=d.length,b=0,m=0;h:for(var f=0;c>f;f++){switch(d[f]){case"..":if(!(j>b)){break h}b++,m++;break;case".":m++;break;default:break h}}return g.length=j-b,d=d.slice(m),g.concat(d).join("/")}return h}function ae(b){var a=b.split("!");return a[0]?{mod:a[0],res:a[1]}:void 0}function ac(f,d,c){var h=[];for(var b in f){if(f.hasOwnProperty(b)){var g={k:b,v:f[b]};h.push(g),d&&(g.reg="*"===b&&c?/^/:aq(b))}}return h}function at(){if(aT){return aT}if(aC&&"interactive"===aC.readyState){return aC}for(var c=document.getElementsByTagName("script"),b=c.length;b--;){var a=c[b];if("interactive"===a.readyState){return aC=a,a}}}function ai(c,b){function a(){var f=d.readyState;("undefined"==typeof f||/^(loaded|complete)$/.test(f))&&(d.onload=d.onreadystatechange=null,d=null,b())}var d=document.createElement("script");d.setAttribute("data-require-id",c),d.src=aS(c+".js"),d.async=!0,d.readyState?d.onreadystatechange=a:d.onload=a,aT=d,ad?a2.insertBefore(d,ad):a2.appendChild(d),aT=null}function aq(a){return new RegExp("^"+a+"(/|$)")}function az(c,b){if(c instanceof Array){for(var a=0,d=c.length;d>a&&b(c[a],a)!==!1;a++){}}}function ah(c,b){var a=c.k||c.name,d=b.k||b.name;return"*"===d?-1:"*"===a?1:d.length-a.length}var ax,aD={},aB=1,ao=2,aw=3,ar=4,am={},al={require:aU,exports:1,module:1},ay=aH(),an={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};aU.version="2.0.2",aU.loader="esl",aU.toUrl=ay.toUrl;var aA=[];aO.amd={};var au={},aj={};aU.config=function(f){if(f){for(var d in an){var c=f[d],g=an[d];if(c){if("urlArgs"===d&&"string"==typeof c){an.urlArgs["*"]=c}else{if(g instanceof Array){g.push.apply(g,c)}else{if("object"==typeof g){for(var b in c){g[b]=c[b]}}else{an[d]=c}}}}}a4()}},a4();var av,ab,aa,ak,aM,aT,aC,a2=document.getElementsByTagName("head")[0],ad=document.getElementsByTagName("base")[0];ad&&(a2=ad.parentNode),define||(define=aO,require||(require=aU),esl=aU)}(this),define("echarts",["echarts/echarts"],function(a){return a}),define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(w){function A(){b.Dispatcher.call(this)}function u(a){a.innerHTML="",this._themeConfig={},this.dom=a,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new A,this._messageCenterOutSide=new A,this.resize=this.resize(),this._init()}function j(p,h,d,D,c){for(var C=p._chartList,m=C.length;m--;){var l=C[m];"function"==typeof l[h]&&l[h](d,D,c)}}var z=w("./config"),g=w("zrender/tool/util"),b=w("zrender/tool/event"),B={},q=w("zrender/tool/env").canvasSupported,v=new Date-0,x={},y="_echarts_instance_";B.version="2.2.7",B.dependencies={zrender:"2.1.1"},B.init=function(d,h){var c=w("zrender");c.version.replace(".","")-0<B.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+c.version+" is too old for ECharts "+B.version+". Current version need ZRender "+B.dependencies.zrender+"+"),d=d instanceof Array?d[0]:d;var e=d.getAttribute(y);return e||(e=v++,d.setAttribute(y,e)),x[e]&&x[e].dispose(),x[e]=new u(d),x[e].id=e,x[e].canvasSupported=q,x[e].setTheme(h),x[e]},B.getInstanceById=function(a){return x[a]},g.merge(A.prototype,b.Dispatcher.prototype,!0);var k=w("zrender/config").EVENT,f=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return u.prototype={_init:function(){var H=this,C=w("zrender").init(this.dom);this._zr=C,this._messageCenter.dispatch=function(h,d,l,c){l=l||{},l.type=h,l.event=d,H._messageCenter.dispatchWithContext(h,l,c),H._messageCenterOutSide.dispatchWithContext(h,l,c)},this._onevent=function(c){return H.__onevent(c)};for(var m in z.EVENT){"CLICK"!=m&&"DBLCLICK"!=m&&"HOVER"!=m&&"MOUSEOUT"!=m&&"MAP_ROAM"!=m&&this._messageCenter.bind(z.EVENT[m],this._onevent,this)}var e={};this._onzrevent=function(c){return H[e[c.type]](c)};for(var a=0,I=f.length;I>a;a++){var p=f[a],D=k[p];e[D]="_on"+p.toLowerCase(),C.on(D,this._onzrevent)}this.chart={},this.component={};var E=w("./chart/island");this._island=new E(this._themeConfig,this._messageCenter,C,{},this),this.chart.island=this._island;var F=w("./component/toolbox");this._toolbox=new F(this._themeConfig,this._messageCenter,C,{},this),this.component.toolbox=this._toolbox;var G=w("./component");G.define("title",w("./component/title")),G.define("tooltip",w("./component/tooltip")),G.define("legend",w("./component/legend")),(0===C.getWidth()||0===C.getHeight())&&console.error("Dom’s width & height should be ready before init.")},__onevent:function(h){h.__echartsId=h.__echartsId||this.id;var c=h.__echartsId===this.id;switch(this._curEventType||(this._curEventType=h.type),h.type){case z.EVENT.LEGEND_SELECTED:this._onlegendSelected(h);break;case z.EVENT.DATA_ZOOM:if(!c){var a=this.component.dataZoom;a&&(a.silence(!0),a.absoluteZoom(h.zoom),a.silence(!1))}this._ondataZoom(h);break;case z.EVENT.DATA_RANGE:c&&this._ondataRange(h);break;case z.EVENT.MAGIC_TYPE_CHANGED:if(!c){var m=this.component.toolbox;m&&(m.silence(!0),m.setMagicType(h.magicType),m.silence(!1))}this._onmagicTypeChanged(h);break;case z.EVENT.DATA_VIEW_CHANGED:c&&this._ondataViewChanged(h);break;case z.EVENT.TOOLTIP_HOVER:c&&this._tooltipHover(h);break;case z.EVENT.RESTORE:this._onrestore();break;case z.EVENT.REFRESH:c&&this._onrefresh(h);break;case z.EVENT.TOOLTIP_IN_GRID:case z.EVENT.TOOLTIP_OUT_GRID:if(c){if(this._connected){var l=this.component.grid;l&&(h.x=(h.event.zrenderX-l.getX())/l.getWidth(),h.y=(h.event.zrenderY-l.getY())/l.getHeight())}}else{var l=this.component.grid;l&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:l.getX()+h.x*l.getWidth(),zrenderY:l.getY()+h.y*l.getHeight()})}}if(this._connected&&c&&this._curEventType===h.type){for(var d in this._connected){this._connected[d].connectedEventHandler(h)}this._curEventType=null}(!c||!this._connected&&c)&&(this._curEventType=null)},_onclick:function(c){if(j(this,"onclick",c),c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.CLICK,c.event,a,this)}},_ondblclick:function(c){if(j(this,"ondblclick",c),c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.DBLCLICK,c.event,a,this)}},_onmouseover:function(c){if(c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.HOVER,c.event,a,this)}},_onmouseout:function(c){if(c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.MOUSEOUT,c.event,a,this)}},_ondragstart:function(a){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},j(this,"ondragstart",a)},_ondragenter:function(a){j(this,"ondragenter",a)},_ondragover:function(a){j(this,"ondragover",a)},_ondragleave:function(a){j(this,"ondragleave",a)},_ondrop:function(a){j(this,"ondrop",a,this._status),this._island.ondrop(a,this._status)},_ondragend:function(c){if(j(this,"ondragend",c,this._status),this._timeline&&this._timeline.ondragend(c,this._status),this._island.ondragend(c,this._status),this._status.needRefresh){this._syncBackupData(this._option);var a=this._messageCenter;a.dispatch(z.EVENT.DATA_CHANGED,c.event,this._eventPackage(c.target),this),a.dispatch(z.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(a){this._status.needRefresh=!1,j(this,"onlegendSelected",a,this._status),this._status.needRefresh&&this._messageCenter.dispatch(z.EVENT.REFRESH,null,null,this)},_ondataZoom:function(a){this._status.needRefresh=!1,j(this,"ondataZoom",a,this._status),this._status.needRefresh&&this._messageCenter.dispatch(z.EVENT.REFRESH,null,null,this)},_ondataRange:function(a){this._clearEffect(),this._status.needRefresh=!1,j(this,"ondataRange",a,this._status),this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(a){this._syncBackupData(a.option),this._messageCenter.dispatch(z.EVENT.DATA_CHANGED,null,a,this),this._messageCenter.dispatch(z.EVENT.REFRESH,null,null,this)},_tooltipHover:function(c){var a=[];j(this,"ontooltipHover",c,a)},_onrestore:function(){this.restore()},_onrefresh:function(a){this._refreshInside=!0,this.refresh(a),this._refreshInside=!1},_syncBackupData:function(a){this.component.dataZoom&&this.component.dataZoom.syncBackupData(a)},_eventPackage:function(e){if(e){var d=w("./util/ecData"),h=d.get(e,"seriesIndex"),c=d.get(e,"dataIndex");return c=-1!=h&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(h,c):c,{seriesIndex:h,seriesName:(d.get(e,"series")||{}).name,dataIndex:c,data:d.get(e,"data"),name:d.get(e,"name"),value:d.get(e,"value"),special:d.get(e,"special")}}},_noDataCheck:function(d){for(var c=d.series,a=0,l=c.length;l>a;a++){if(c[a].type==z.CHART_TYPE_MAP||c[a].data&&c[a].data.length>0||c[a].markPoint&&c[a].markPoint.data&&c[a].markPoint.data.length>0||c[a].markLine&&c[a].markLine.data&&c[a].markLine.data.length>0||c[a].nodes&&c[a].nodes.length>0||c[a].links&&c[a].links.length>0||c[a].matrix&&c[a].matrix.length>0||c[a].eventList&&c[a].eventList.length>0){return !1}}var h=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||z.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||z.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||z.noDataEffect};return this.clear(),this.showLoading(h),!0},_render:function(O){if(this._mergeGlobalConifg(O),!this._noDataCheck(O)){var G=O.backgroundColor;if(G){if(q||-1==G.indexOf("rgba")){this.dom.style.backgroundColor=G}else{var C=G.split(",");this.dom.style.filter="alpha(opacity="+100*C[3].substring(0,C[3].lastIndexOf(")"))+")",C.length=3,C[0]=C[0].replace("a",""),this.dom.style.backgroundColor=C.join(",")+")"}}this._zr.clearAnimation(),this._chartList=[];var l=w("./chart"),a=w("./component");(O.xAxis||O.yAxis)&&(O.grid=O.grid||{},O.dataZoom=O.dataZoom||{});for(var P,H,K,L=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],E=0,e=L.length;e>E;E++){H=L[E],K=this.component[H],O[H]?(K?K.refresh&&K.refresh(O):(P=a.get(/^[xy]Axis$/.test(H)?"axis":H),K=new P(this._themeConfig,this._messageCenter,this._zr,O,this,H),this.component[H]=K),this._chartList.push(K)):K&&(K.dispose(),this.component[H]=null,delete this.component[H])}for(var N,D,F,I={},E=0,e=O.series.length;e>E;E++){D=O.series[E].type,D?I[D]||(I[D]=!0,N=l.get(D),N?(this.chart[D]?(F=this.chart[D],F.refresh(O)):F=new N(this._themeConfig,this._messageCenter,this._zr,O,this),this._chartList.push(F),this.chart[D]=F):console.error(D+" has not been required.")):console.error("series["+E+"] chart type has not been defined.")}for(D in this.chart){D==z.CHART_TYPE_ISLAND||I[D]||(this.chart[D].dispose(),this.chart[D]=null,delete this.chart[D])}this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(O),this._toolbox.refresh(O),O.animation&&!O.renderAsImage?this._zr.refresh():this._zr.render();var J="IMG"+this.id,M=document.getElementById(J);O.renderAsImage&&q?(M?M.src=this.getDataURL(O.renderAsImage):(M=this.getImage(O.renderAsImage),M.id=J,M.style.position="absolute",M.style.left=0,M.style.top=0,this.dom.firstChild.appendChild(M)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):M&&M.parentNode.removeChild(M),M=null,this._option=O}},restore:function(){this._clearEffect(),this._option=g.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(d){this._clearEffect(),d=d||{};var c=d.option;!this._refreshInside&&c&&(c=this.getOption(),g.merge(c,d.option,!0),g.merge(this._optionRestore,d.option,!0),this._toolbox.reset(c)),this._island.refresh(c),this._toolbox.refresh(c),this._zr.clearAnimation();for(var a=0,h=this._chartList.length;h>a;a++){this._chartList[a].refresh&&this._chartList[a].refresh(c)}this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var d=this._chartList.length;d--;){var c=this._chartList[d];if(c){var a=c.type;this.chart[a]&&delete this.chart[a],this.component[a]&&delete this.component[a],c.dispose&&c.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(c){for(var a=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],h=a.length;h--;){var e=a[h];null==c[e]&&(c[e]=null!=this._themeConfig[e]?this._themeConfig[e]:z[e])}var d=c.color;d&&d.length||(d=this._themeConfig.color||z.color),this._zr.getColor=function(m){var l=w("zrender/tool/color");return l.getColor(m,d)},q||(c.animation=!1,c.addDataAnimation=!1)},setOption:function(c,a){return c.timeline?this._setTimelineOption(c):this._setOption(c,a)},_setOption:function(d,c,a){return !c&&this._option?this._option=g.merge(this.getOption(),g.clone(d),!0):(this._option=g.clone(d),!a&&this._timeline&&this._timeline.dispose()),this._optionRestore=g.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function d(i){var l=a._optionRestore[i];if(l){if(l instanceof Array){for(var h=l.length;h--;){c[i][h].data=g.clone(l[h].data)}}else{c[i].data=g.clone(l.data)}}}var c=g.clone(this._option),a=this;return d("xAxis"),d("yAxis"),d("series"),c},setSeries:function(c,a){return a?(this._option.series=c,this.setOption(this._option,a)):this.setOption({series:c}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(c){this._timeline&&this._timeline.dispose();var a=w("./component/timeline"),d=new a(this._themeConfig,this._messageCenter,this._zr,c,this);return this._timeline=d,this.component.timeline=this._timeline,this},addData:function(ab,K,T,P,N){function M(){if(ad._zr){ad._zr.clearAnimation();for(var d=0,c=H.length;c>d;d++){H[d].motionlessOnce=Y.addDataAnimation&&H[d].addDataAnimation}ad._messageCenter.dispatch(z.EVENT.REFRESH,null,{option:Y},ad)}}for(var R=ab instanceof Array?ab:[[ab,K,T,P,N]],Y=this.getOption(),ac=this._optionRestore,ad=this,Q=0,O=R.length;O>Q;Q++){ab=R[Q][0],K=R[Q][1],T=R[Q][2],P=R[Q][3],N=R[Q][4];var J=ac.series[ab],C=T?"unshift":"push",D=T?"pop":"shift";if(J){var Z=J.data,aa=Y.series[ab].data;if(Z[C](K),aa[C](K),P||(Z[D](),K=aa[D]()),null!=N){var F,ae;if(J.type===z.CHART_TYPE_PIE&&(F=ac.legend)&&(ae=F.data)){var af=Y.legend.data;if(ae[C](N),af[C](N),!P){var G=g.indexOf(ae,K.name);-1!=G&&ae.splice(G,1),G=g.indexOf(af,K.name),-1!=G&&af.splice(G,1)}}else{if(null!=ac.xAxis&&null!=ac.yAxis){var S,I,E=J.xAxisIndex||0;(null==ac.xAxis[E].type||"category"===ac.xAxis[E].type)&&(S=ac.xAxis[E].data,I=Y.xAxis[E].data,S[C](N),I[C](N),P||(S[D](),I[D]())),E=J.yAxisIndex||0,"category"===ac.yAxis[E].type&&(S=ac.yAxis[E].data,I=Y.yAxis[E].data,S[C](N),I[C](N),P||(S[D](),I[D]()))}}}this._option.series[ab].data=Y.series[ab].data}}this._zr.clearAnimation();for(var H=this._chartList,o=0,a=function(){o--,0===o&&M()},Q=0,O=H.length;O>Q;Q++){Y.addDataAnimation&&H[Q].addDataAnimation&&(o++,H[Q].addDataAnimation(R,a))}return this.component.dataZoom&&this.component.dataZoom.syncOption(Y),this._option=Y,Y.addDataAnimation||setTimeout(M,0),this},addMarkPoint:function(c,a){return this._addMark(c,a,"markPoint")},addMarkLine:function(c,a){return this._addMark(c,a,"markLine")},_addMark:function(E,I,C){var o,H=this._option.series;if(H&&(o=H[E])){var m=this._optionRestore.series,J=m[E],p=o[C],D=J[C];p=o[C]=p||{data:[]},D=J[C]=D||{data:[]};for(var F in I){"data"===F?(p.data=p.data.concat(I.data),D.data=D.data.concat(I.data)):"object"!=typeof I[F]||null==p[F]?p[F]=D[F]=I[F]:(g.merge(p[F],I[F],!0),g.merge(D[F],I[F],!0))}var G=this.chart[o.type];G&&G.addMark(E,I,C)}return this},delMarkPoint:function(c,a){return this._delMark(c,a,"markPoint")},delMarkLine:function(c,a){return this._delMark(c,a,"markLine")},_delMark:function(G,K,E){var C,J,p,m=this._option.series;if(!(m&&(C=m[G])&&(J=C[E])&&(p=J.data))){return this}K=K.split(" > ");for(var L=-1,D=0,F=p.length;F>D;D++){var H=p[D];if(H instanceof Array){if(H[0].name===K[0]&&H[1].name===K[1]){L=D;break}}else{if(H.name===K[0]){L=D;break}}}if(L>-1){p.splice(L,1),this._optionRestore.series[G][E].data.splice(L,1);var I=this.chart[C.type];I&&I.delMark(G,K.join(" > "),E)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(l){if(!q){return""}if(0===this._chartList.length){var h="IMG"+this.id,d=document.getElementById(h);if(d){return d.src}}var m=this.component.tooltip;switch(m&&m.hideTip(),l){case"jpeg":break;default:l="png"}var c=this._option.backgroundColor;return c&&"rgba(0,0,0,0)"===c.replace(" ","")&&(c="#fff"),this._zr.toDataURL("image/"+l,c)},getImage:function(d){var c=this._optionRestore.title,a=document.createElement("img");return a.src=this.getDataURL(d),a.title=c&&c.text||"ECharts",a},getConnectedDataURL:function(M){if(!this.isConnected()){return this.getDataURL(M)}var H=this.dom,E={self:{img:this.getDataURL(M),left:H.offsetLeft,top:H.offsetTop,right:H.offsetLeft+H.offsetWidth,bottom:H.offsetTop+H.offsetHeight}},L=E.self.left,D=E.self.top,e=E.self.right,N=E.self.bottom;for(var G in this._connected){H=this._connected[G].getDom(),E[G]={img:this._connected[G].getDataURL(M),left:H.offsetLeft,top:H.offsetTop,right:H.offsetLeft+H.offsetWidth,bottom:H.offsetTop+H.offsetHeight},L=Math.min(L,E[G].left),D=Math.min(D,E[G].top),e=Math.max(e,E[G].right),N=Math.max(N,E[G].bottom)}var I=document.createElement("div");I.style.position="absolute",I.style.left="-4000px",I.style.width=e-L+"px",I.style.height=N-D+"px",document.body.appendChild(I);var J=w("zrender").init(I),K=w("zrender/shape/Image");for(var G in E){J.addShape(new K({style:{x:E[G].left-L,y:E[G].top-D,image:E[G].img}}))}J.render();var F=this._option.backgroundColor;F&&"rgba(0,0,0,0)"===F.replace(/ /g,"")&&(F="#fff");var C=J.toDataURL("image/png",F);return setTimeout(function(){J.dispose(),I.parentNode.removeChild(I),I=null},100),C},getConnectedImage:function(d){var c=this._optionRestore.title,a=document.createElement("img");return a.src=this.getConnectedDataURL(d),a.title=c&&c.text||"ECharts",a},on:function(c,a){return this._messageCenterOutSide.bind(c,a,this),this},un:function(c,a){return this._messageCenterOutSide.unbind(c,a),this},connect:function(d){if(!d){return this}if(this._connected||(this._connected={}),d instanceof Array){for(var c=0,a=d.length;a>c;c++){this._connected[d[c].id]=d[c]}}else{this._connected[d.id]=d}return this},disConnect:function(d){if(!d||!this._connected){return this}if(d instanceof Array){for(var c=0,a=d.length;a>c;c++){delete this._connected[d[c].id]}}else{delete this._connected[d.id]}for(var h in this._connected){return this}return this._connected=!1,this},connectedEventHandler:function(a){a.__echartsId!=this.id&&this._onevent(a)},isConnected:function(){return !!this._connected},showLoading:function(c){var a={bar:w("zrender/loadingEffect/Bar"),bubble:w("zrender/loadingEffect/Bubble"),dynamicLine:w("zrender/loadingEffect/DynamicLine"),ring:w("zrender/loadingEffect/Ring"),spin:w("zrender/loadingEffect/Spin"),whirling:w("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView(),c=c||{};var h=c.textStyle||{};c.textStyle=h;var e=g.merge(g.merge(g.clone(h),this._themeConfig.textStyle),z.textStyle);h.textFont=e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily,h.text=c.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||z.loadingText,null!=c.x&&(h.x=c.x),null!=c.y&&(h.y=c.y),c.effectOption=c.effectOption||{},c.effectOption.textStyle=h;var d=c.effect;return("string"==typeof d||null==d)&&(d=a[c.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||z.loadingEffect]||a.spin),this._zr.showLoading(new d(c.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(c){if(c){if("string"==typeof c){switch(c){case"macarons":c=w("./theme/macarons");break;case"infographic":c=w("./theme/infographic");break;default:c={}}}else{c=c||{}}this._themeConfig=c}if(!q){var a=this._themeConfig.textStyle;a&&a.fontFamily&&a.fontFamily2&&(a.fontFamily=a.fontFamily2),a=z.textStyle,a.fontFamily=a.fontFamily2}this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var a=this;return function(){if(a._clearEffect(),a._zr.resize(),a._option&&a._option.renderAsImage&&q){return a._render(a._option),a}a._zr.clearAnimation(),a._island.resize(),a._toolbox.resize(),a._timeline&&a._timeline.resize();for(var d=0,c=a._chartList.length;c>d;d++){a._chartList[d].resize&&a._chartList[d].resize()}return a.component.grid&&a.component.grid.refixAxisShape(a.component),a._zr.refresh(),a._messageCenter.dispatch(z.EVENT.RESIZE,null,null,a),a}},_clearEffect:function(){this._zr.modLayer(z.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(z.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var a=this.dom.getAttribute(y);a&&delete x[a],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},B}),define("echarts/config",[],function(){var a={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:0.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:0.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2000,animationDuration:2000,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return a}),define("zrender/tool/util",["require","../dep/excanvas"],function(G){function q(a){return a&&1===a.nodeType&&"string"==typeof a.nodeName}function C(f){if("object"==typeof f&&null!==f){var h=f;if(f instanceof Array){h=[];for(var c=0,g=f.length;g>c;c++){h[c]=C(f[c])}}else{if(!E[F.call(f)]&&!q(f)){h={};for(var d in f){f.hasOwnProperty(d)&&(h[d]=C(f[d]))}}}return h}return f}function z(d,a,g,f){if(a.hasOwnProperty(g)){var c=d[g];"object"!=typeof c||E[F.call(c)]||q(c)?!f&&g in d||(d[g]=a[g]):J(d[g],a[g],f)}}function J(g,f,d){for(var c in f){z(g,f,c,d)}return g}function y(){if(!A){if(G("../dep/excanvas"),window.G_vmlCanvasManager){var a=document.createElement("div");a.style.position="absolute",a.style.top="-1000px",document.body.appendChild(a),A=G_vmlCanvasManager.initElement(a).getContext("2d")}else{A=document.createElement("canvas").getContext("2d")}}return A}function w(d,c){if(d.indexOf){return d.indexOf(c)}for(var a=0,f=d.length;f>a;a++){if(d[a]===c){return a}}return -1}function v(g,f){function d(){}var h=g.prototype;d.prototype=f.prototype,g.prototype=new d;for(var c in h){g.prototype[c]=h[c]}g.constructor=g}function B(g,f,d){if(g&&f){if(g.forEach&&g.forEach===k){g.forEach(f,d)}else{if(g.length===+g.length){for(var l=0,c=g.length;c>l;l++){f.call(d,g[l],l,g)}}else{for(var h in g){g.hasOwnProperty(h)&&f.call(d,g[h],h,g)}}}}}function D(g,f,d){if(g&&f){if(g.map&&g.map===b){return g.map(f,d)}for(var l=[],c=0,h=g.length;h>c;c++){l.push(f.call(d,g[c],c,g))}return l}}function H(g,f,d){if(g&&f){if(g.filter&&g.filter===j){return g.filter(f,d)}for(var l=[],c=0,h=g.length;h>c;c++){f.call(d,g[c],c,g)&&l.push(g[c])}return l}}function I(c,a){return function(){c.apply(a,arguments)}}var A,x=Array.prototype,k=x.forEach,b=x.map,j=x.filter,E={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},F=Object.prototype.toString;return{inherits:v,clone:C,merge:J,getContext:y,indexOf:w,each:B,map:D,filter:H,bind:I}}),define("zrender/tool/event",["require","../mixin/Eventful"],function(f){function d(a){return"undefined"!=typeof a.zrenderX&&a.zrenderX||"undefined"!=typeof a.offsetX&&a.offsetX||"undefined"!=typeof a.layerX&&a.layerX||"undefined"!=typeof a.clientX&&a.clientX}function c(a){return"undefined"!=typeof a.zrenderY&&a.zrenderY||"undefined"!=typeof a.offsetY&&a.offsetY||"undefined"!=typeof a.layerY&&a.layerY||"undefined"!=typeof a.clientY&&a.clientY}function h(a){return"undefined"!=typeof a.zrenderDelta&&a.zrenderDelta||"undefined"!=typeof a.wheelDelta&&a.wheelDelta||"undefined"!=typeof a.detail&&-a.detail}var b=f("../mixin/Eventful"),g="function"==typeof window.addEventListener?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};return{getX:d,getY:c,getDelta:h,stop:g,Dispatcher:b}}),define("zrender/tool/env",[],function(){function a(J){var w=this.os={},F=this.browser={},C=J.match(/Web[kK]it[\/]{0,1}([\d.]+)/),N=J.match(/(Android);?[\s\/]+([\d.]+)?/),B=J.match(/(iPad).*OS\s([\d_]+)/),z=J.match(/(iPod)(.*OS\s([\d_]+))?/),x=!B&&J.match(/(iPhone\sOS)\s([\d_]+)/),E=J.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),G=E&&J.match(/TouchPad/),K=J.match(/Kindle\/([\d.]+)/),L=J.match(/Silk\/([\d._]+)/),D=J.match(/(BlackBerry).*Version\/([\d.]+)/),A=J.match(/(BB10).*Version\/([\d.]+)/),v=J.match(/(RIM\sTablet\sOS)\s([\d.]+)/),j=J.match(/PlayBook/),k=J.match(/Chrome\/([\d.]+)/)||J.match(/CriOS\/([\d.]+)/),H=J.match(/Firefox\/([\d.]+)/),I=J.match(/MSIE ([\d.]+)/),q=C&&J.match(/Mobile\//)&&!k,M=J.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!k,I=J.match(/MSIE\s([\d.]+)/);return(F.webkit=!!C)&&(F.version=C[1]),N&&(w.android=!0,w.version=N[2]),x&&!z&&(w.ios=w.iphone=!0,w.version=x[2].replace(/_/g,".")),B&&(w.ios=w.ipad=!0,w.version=B[2].replace(/_/g,".")),z&&(w.ios=w.ipod=!0,w.version=z[3]?z[3].replace(/_/g,"."):null),E&&(w.webos=!0,w.version=E[2]),G&&(w.touchpad=!0),D&&(w.blackberry=!0,w.version=D[2]),A&&(w.bb10=!0,w.version=A[2]),v&&(w.rimtabletos=!0,w.version=v[2]),j&&(F.playbook=!0),K&&(w.kindle=!0,w.version=K[1]),L&&(F.silk=!0,F.version=L[1]),!L&&w.android&&J.match(/Kindle Fire/)&&(F.silk=!0),k&&(F.chrome=!0,F.version=k[1]),H&&(F.firefox=!0,F.version=H[1]),I&&(F.ie=!0,F.version=I[1]),q&&(J.match(/Safari/)||w.ios)&&(F.safari=!0),M&&(F.webview=!0),I&&(F.ie=!0,F.version=I[1]),w.tablet=!!(B||j||N&&!J.match(/Mobile/)||H&&J.match(/Tablet/)||I&&!J.match(/Phone/)&&J.match(/Touch/)),w.phone=!(w.tablet||w.ipod||!(N||x||E||D||A||k&&J.match(/Android/)||k&&J.match(/CriOS\/([\d.]+)/)||H&&J.match(/Mobile/)||I&&J.match(/Touch/))),{browser:F,os:w,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return a(navigator.userAgent)}),define("zrender",["zrender/zrender"],function(a){return a}),define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(p){function w(a){return function(){a._needsRefreshNextFrame&&a.refresh()}}p("./dep/excanvas");var k=p("./tool/util"),g=p("./tool/log"),v=p("./tool/guid"),f=p("./Handler"),b=p("./Painter"),x=p("./Storage"),j=p("./animation/Animation"),m={},q={};q.version="2.1.1",q.init=function(c){var a=new u(v(),c);return m[a.id]=a,a},q.dispose=function(c){if(c){c.dispose()}else{for(var a in m){m[a].dispose()}m={}}return q},q.getInstance=function(a){return m[a]},q.delInstance=function(a){return delete m[a],q};var u=function(e,r){this.id=e,this.env=p("./tool/env"),this.storage=new x,this.painter=new b(r,this.storage),this.handler=new f(r,this.storage,this.painter),this.animation=new j({stage:{update:w(this)}}),this.animation.start();var c=this;this.painter.refreshNextFrame=function(){c.refreshNextFrame()},this._needsRefreshNextFrame=!1;var c=this,l=this.storage,o=l.delFromMap;l.delFromMap=function(d){var a=l.get(d);c.stopAnimation(a),o.call(l,d)}};return u.prototype.getId=function(){return this.id},u.prototype.addShape=function(a){return this.addElement(a),this},u.prototype.addGroup=function(a){return this.addElement(a),this},u.prototype.delShape=function(a){return this.delElement(a),this},u.prototype.delGroup=function(a){return this.delElement(a),this},u.prototype.modShape=function(c,a){return this.modElement(c,a),this},u.prototype.modGroup=function(c,a){return this.modElement(c,a),this},u.prototype.addElement=function(a){return this.storage.addRoot(a),this._needsRefreshNextFrame=!0,this},u.prototype.delElement=function(a){return this.storage.delRoot(a),this._needsRefreshNextFrame=!0,this},u.prototype.modElement=function(c,a){return this.storage.mod(c,a),this._needsRefreshNextFrame=!0,this},u.prototype.modLayer=function(c,a){return this.painter.modLayer(c,a),this._needsRefreshNextFrame=!0,this},u.prototype.addHoverShape=function(a){return this.storage.addHover(a),this},u.prototype.render=function(a){return this.painter.render(a),this._needsRefreshNextFrame=!1,this},u.prototype.refresh=function(a){return this.painter.refresh(a),this._needsRefreshNextFrame=!1,this},u.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},u.prototype.refreshHover=function(a){return this.painter.refreshHover(a),this},u.prototype.refreshShapes=function(c,a){return this.painter.refreshShapes(c,a),this},u.prototype.resize=function(){return this.painter.resize(),this},u.prototype.animate=function(B,F,E){var n=this;if("string"==typeof B&&(B=this.storage.get(B)),B){var i;if(F){for(var G=F.split("."),z=B,A=0,C=G.length;C>A;A++){z&&(z=z[G[A]])}z&&(i=z)}else{i=B}if(!i){return void g('Property "'+F+'" is not existed in element '+B.id)}null==B.__animators&&(B.__animators=[]);var D=B.__animators,y=this.animation.animate(i,{loop:E}).during(function(){n.modShape(B)}).done(function(){var a=k.indexOf(B.__animators,y);a>=0&&D.splice(a,1)});return D.push(y),y}g("Element not existed")},u.prototype.stopAnimation=function(d){if(d.__animators){for(var c=d.__animators,a=c.length,h=0;a>h;h++){c[h].stop()}c.length=0}return this},u.prototype.clearAnimation=function(){return this.animation.clear(),this},u.prototype.showLoading=function(a){return this.painter.showLoading(a),this},u.prototype.hideLoading=function(){return this.painter.hideLoading(),this},u.prototype.getWidth=function(){return this.painter.getWidth()},u.prototype.getHeight=function(){return this.painter.getHeight()},u.prototype.toDataURL=function(d,c,a){return this.painter.toDataURL(d,c,a)},u.prototype.shapeToImage=function(d,c,a){var h=v();return this.painter.shapeToImage(h,d,c,a)},u.prototype.on=function(d,c,a){return this.handler.on(d,c,a),this},u.prototype.un=function(c,a){return this.handler.un(c,a),this},u.prototype.trigger=function(c,a){return this.handler.trigger(c,a),this},u.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},u.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,q.delInstance(this.id)},q}),define("zrender/config",[],function(){var a={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return a}),define("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(h){function d(q,o,s,m,p){c.call(this,q,o,s,m,p),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var i=this;i.shapeHandler.onmousewheel=function(y){var v=y.target,u=y.event,z=f.getDelta(u);z=z>0?-1:1,v.style.r-=z,v.style.r=v.style.r<5?5:v.style.r;var l=j.get(v,"value"),x=l*i.option.island.calculateStep;l=x>1?Math.round(l-x*z):+(l-x*z).toFixed(2);var w=j.get(v,"name");v.style.text=w+":"+l,j.set(v,"value",l),j.set(v,"name",w),i.zr.modShape(v.id),i.zr.refreshNextFrame(),f.stop(u)}}var c=h("./base"),k=h("zrender/shape/Circle"),b=h("../config");b.island={zlevel:0,z:5,r:15,calculateStep:0.1};var j=h("../util/ecData"),g=h("zrender/tool/util"),f=h("zrender/tool/event");return d.prototype={type:b.CHART_TYPE_ISLAND,_combine:function(m,l){var q=h("zrender/tool/color"),e=h("../util/accMath"),p=e.accAdd(j.get(m,"value"),j.get(l,"value")),o=j.get(m,"name")+this._nameConnector+j.get(l,"name");m.style.text=o+this._valueConnector+p,j.set(m,"value",p),j.set(m,"name",o),m.style.r=this.option.island.r,m.style.color=q.mix(m.style.color,l.style.color)},refresh:function(a){a&&(a.island=this.reformOption(a.island),this.option=a,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var q=this.zr.getWidth(),p=this.zr.getHeight(),m=q/(this._zrWidth||q),s=p/(this._zrHeight||p);if(1!==m||1!==s){this._zrWidth=q,this._zrHeight=p;for(var l=0,r=this.shapeList.length;r>l;l++){this.zr.modShape(this.shapeList[l].id,{style:{x:Math.round(this.shapeList[l].style.x*m),y:Math.round(this.shapeList[l].style.y*s)}})}}},add:function(v){var p=j.get(v,"name"),o=j.get(v,"value"),n=null!=j.get(v,"series")?j.get(v,"series").name:"",u=this.getFont(this.option.island.textStyle),q=this.option.island,m={zlevel:q.zlevel,z:q.z,style:{x:v.style.x,y:v.style.y,r:this.option.island.r,color:v.style.color||v.style.strokeColor,text:p+this._valueConnector+o,textFont:u},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===m.style.color&&(m.style.color=v.style.strokeColor),this.setCalculable(m),m.dragEnableTime=0,j.pack(m,{name:n},-1,o,-1,p),m=new k(m),this.shapeList.push(m),this.zr.addShape(m)},del:function(m){this.zr.delShape(m.id);for(var l=[],a=0,o=this.shapeList.length;o>a;a++){this.shapeList[a].id!=m.id&&l.push(this.shapeList[a])}this.shapeList=l},ondrop:function(m,l){if(this.isDrop&&m.target){var a=m.target,o=m.dragged;this._combine(a,o),this.zr.modShape(a.id),l.dragIn=!0,this.isDrop=!1}},ondragend:function(m,l){var a=m.target;this.isDragend?l.dragIn&&(this.del(a),l.needRefresh=!0):l.dragIn||(a.style.x=f.getX(m.event),a.style.y=f.getY(m.event),this.add(a),l.needRefresh=!0),this.isDragend=!1}},g.inherits(d,c),h("../chart").define("island",d),d}),define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(u){function y(i,d,m,c,l){p.call(this,i,d,m,c,l),this.dom=l.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var h=this;h._onMark=function(a){h.__onMark(a)},h._onMarkUndo=function(a){h.__onMarkUndo(a)},h._onMarkClear=function(a){h.__onMarkClear(a)},h._onDataZoom=function(a){h.__onDataZoom(a)},h._onDataZoomReset=function(a){h.__onDataZoomReset(a)},h._onDataView=function(a){h.__onDataView(a)},h._onRestore=function(a){h.__onRestore(a)},h._onSaveAsImage=function(a){h.__onSaveAsImage(a)},h._onMagicType=function(a){h.__onMagicType(a)},h._onCustomHandler=function(a){h.__onCustomHandler(a)},h._onmousemove=function(a){return h.__onmousemove(a)},h._onmousedown=function(a){return h.__onmousedown(a)},h._onmouseup=function(a){return h.__onmouseup(a)},h._onclick=function(a){return h.__onclick(a)}}var p=u("./base"),g=u("zrender/shape/Line"),x=u("zrender/shape/Image"),f=u("zrender/shape/Rectangle"),b=u("../util/shape/Icon"),z=u("../config");z.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:!1,title:"数据视图",readOnly:!1,lang:["数据视图","关闭","刷新"]},magicType:{show:!1,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:!1,title:"还原"},saveAsImage:{show:!1,title:"保存为图片",type:"png",lang:["点击保存"]}}};var k=u("zrender/tool/util"),q=u("zrender/config"),v=u("zrender/tool/event"),w="stack",j="tiled";return y.prototype={type:z.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var m=this.option.toolbox;this._enableColor=m.effectiveColor,this._disableColor=m.disableColor;var h=m.feature,d=[];for(var A in h){if(h[A].show){switch(A){case"mark":d.push({key:A,name:"mark"}),d.push({key:A,name:"markUndo"}),d.push({key:A,name:"markClear"});break;case"magicType":for(var c=0,s=h[A].type.length;s>c;c++){h[A].title[h[A].type[c]+"Chart"]=h[A].title[h[A].type[c]],h[A].option&&(h[A].option[h[A].type[c]+"Chart"]=h[A].option[h[A].type[c]]),d.push({key:A,name:h[A].type[c]+"Chart"})}break;case"dataZoom":d.push({key:A,name:"dataZoom"}),d.push({key:A,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&d.push({key:A,name:"saveAsImage"});break;default:d.push({key:A,name:A})}}}if(d.length>0){for(var l,A,c=0,s=d.length;s>c;c++){l=d[c].name,A=d[c].key,this._iconList.push(l),this._featureTitle[l]=h[A].title[l]||h[A].title,h[A].icon&&(this._featureIcon[l]=h[A].icon[l]||h[A].icon),h[A].color&&(this._featureColor[l]=h[A].color[l]||h[A].color),h[A].option&&(this._featureOption[l]=h[A].option[l]||h[A].option)}this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var c=0,s=this.shapeList.length;s>c;c++){this.zr.addShape(this.shapeList[c])}this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var K,E,r,e,L=this.option.toolbox,D=this._iconList.length,F=this._itemGroupLocation.x,H=this._itemGroupLocation.y,I=L.itemSize,B=L.itemGap,a=L.color instanceof Array?L.color:[L.color],J=this.getFont(L.textStyle);"horizontal"===L.orient?(E=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top",r=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right",e=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"):E=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left",this._iconShapeMap={};for(var A=this,C=0;D>C;C++){switch(K={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:F,y:H,width:I,height:I,iconType:this._iconList[C],lineWidth:1,strokeColor:this._featureColor[this._iconList[C]]||a[C%a.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:L.showTitle?this._featureTitle[this._iconList[C]]:void 0,textFont:J,textPosition:E,strokeColor:this._featureColor[this._iconList[C]]||a[C%a.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[C]]&&(K.style.image=this._featureIcon[this._iconList[C]].replace(new RegExp("^image:\\/\\/"),""),K.style.opacity=0.8,K.highlightStyle.opacity=1,K.type="image"),"horizontal"===L.orient&&(0===C&&"left"===r&&(K.highlightStyle.textPosition="specific",K.highlightStyle.textAlign=r,K.highlightStyle.textBaseline=e,K.highlightStyle.textX=F,K.highlightStyle.textY="top"===e?H+I+10:H-10),C===D-1&&"right"===r&&(K.highlightStyle.textPosition="specific",K.highlightStyle.textAlign=r,K.highlightStyle.textBaseline=e,K.highlightStyle.textX=F+I,K.highlightStyle.textY="top"===e?H+I+10:H-10)),this._iconList[C]){case"mark":K.onclick=A._onMark;break;case"markUndo":K.onclick=A._onMarkUndo;break;case"markClear":K.onclick=A._onMarkClear;break;case"dataZoom":K.onclick=A._onDataZoom;break;case"dataZoomReset":K.onclick=A._onDataZoomReset;break;case"dataView":if(!this._dataView){var G=u("./dataView");this._dataView=new G(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}K.onclick=A._onDataView;break;case"restore":K.onclick=A._onRestore;break;case"saveAsImage":K.onclick=A._onSaveAsImage;break;default:this._iconList[C].match("Chart")?(K._name=this._iconList[C].replace("Chart",""),K.onclick=A._onMagicType):K.onclick=A._onCustomHandler}"icon"===K.type?K=new b(K):"image"===K.type&&(K=new x(K)),this.shapeList.push(K),this._iconShapeMap[this._iconList[C]]=K,"horizontal"===L.orient?F+=I+B:H+=I+B}},_buildBackground:function(){var c=this.option.toolbox,a=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new f({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===c.borderWidth?"fill":"both",color:c.backgroundColor,strokeColor:c.borderColor,lineWidth:c.borderWidth}}))},_getItemGroupLocation:function(){var E=this.option.toolbox,H=this.reformCssArray(this.option.toolbox.padding),C=this._iconList.length,A=E.itemGap,G=E.itemSize,m=0,c=0;"horizontal"===E.orient?(m=(G+A)*C-A,c=G):(c=(G+A)*C-A,m=G);var I,B=this.zr.getWidth();switch(E.x){case"center":I=Math.floor((B-m)/2);break;case"left":I=H[3]+E.borderWidth;break;case"right":I=B-m-H[1]-E.borderWidth;break;default:I=E.x-0,I=isNaN(I)?0:I}var D,F=this.zr.getHeight();switch(E.y){case"top":D=H[0]+E.borderWidth;break;case"bottom":D=F-c-H[2]-E.borderWidth;break;case"center":D=Math.floor((F-c)/2);break;default:D=E.y-0,D=isNaN(D)?0:D}return{x:I,y:D,width:m,height:c}},__onmousemove:function(a){this._marking&&(this._markShape.style.xEnd=v.getX(a.event),this._markShape.style.yEnd=v.getY(a.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=v.getX(a.event)-this._zoomShape.style.x,this._zoomShape.style.height=v.getY(a.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",v.stop(a.event)),this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(d){if(!d.target){this._zooming=!0;var c=v.getX(d.event),a=v.getY(d.event),h=this.option.dataZoom||{};return this._zoomShape=new f({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:c,y:a,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:h.fillerColor||z.dataZoom.fillerColor,strokeColor:h.handleColor||z.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){return this._zooming=!1,!0}if(this._zooming&&this.component.dataZoom){this._zooming=!1;var a=this.component.dataZoom.rectZoom(this._zoomShape.style);a&&(this._zoomQueue.push({start:a.start,end:a.end,start2:a.start2,end2:a.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return !0},__onclick:function(d){if(!d.target){if(this._marking){this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame()}else{if(this._markStart){this._marking=!0;var c=v.getX(d.event),a=v.getY(d.event);this._markShape=new g({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:c,yStart:a,xEnd:c,yEnd:a,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}}}},__onMark:function(d){var c=d.target;if(this._marking||this._markStart){this._resetMark(),this.zr.refreshNextFrame()}else{this._resetZoom(),this.zr.modShape(c.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0;var a=this;setTimeout(function(){a.zr&&a.zr.on(q.EVENT.CLICK,a._onclick)&&a.zr.on(q.EVENT.MOUSEMOVE,a._onmousemove)},10)}return !0},__onMarkUndo:function(){if(this._marking){this._marking=!1}else{var c=this._markShapeList.length;if(c>=1){var a=this._markShapeList[c-1];this.zr.delShape(a.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),1===c&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return !0},__onMarkClear:function(){this._marking&&(this._marking=!1);var a=this._markShapeList.length;if(a>0){for(;a--;){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refreshNextFrame()}return !0},__onDataZoom:function(d){var c=d.target;if(this._zooming||this._zoomStart){this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default"}else{this._resetMark(),this.zr.modShape(c.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0;var a=this;setTimeout(function(){a.zr&&a.zr.on(q.EVENT.MOUSEDOWN,a._onmousedown)&&a.zr.on(q.EVENT.MOUSEUP,a._onmouseup)&&a.zr.on(q.EVENT.MOUSEMOVE,a._onmousemove)},10),this.dom.style.cursor="crosshair"}return !0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(q.EVENT.CLICK,this._onclick),this.zr.un(q.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(q.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(q.EVENT.MOUSEUP,this._onmouseup),this.zr.un(q.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(a){"image"!=a.type?this.zr.modShape(a.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(a.id,{hoverable:!1,clickable:!1,style:{opacity:0.3}})},_iconEnable:function(a){"image"!=a.type?this.zr.modShape(a.id,{hoverable:!0,clickable:!0,style:{strokeColor:a.highlightStyle.strokeColor}}):this.zr.modShape(a.id,{hoverable:!0,clickable:!0,style:{opacity:0.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(z.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var l=this.option.toolbox.feature.saveAsImage,h=l.type||"png";"png"!=h&&"jpeg"!=h&&(h="png");var d;d=this.myChart.isConnected()?this.myChart.getConnectedDataURL(h):this.zr.toDataURL("image/"+h,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var m=document.createElement("div");m.id="__echarts_download_wrap__",m.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var c=document.createElement("a");c.href=d,c.setAttribute("download",(l.name?l.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+h),c.innerHTML='<img style="vertical-align:middle" src="'+d+'" title="'+(window.ActiveXObject||"ActiveXObject" in window?"右键->图片另存为":l.lang?l.lang[0]:"点击保存")+'"/>',m.appendChild(c),document.body.appendChild(m),c=null,m=null,setTimeout(function(){var a=document.getElementById("__echarts_download_wrap__");a&&(a.onclick=function(){var i=document.getElementById("__echarts_download_wrap__");i.onclick=null,i.innerHTML="",document.body.removeChild(i),i=null},a=null)},500)},__onMagicType:function(c){this._resetMark();var a=c.target._name;return this._magicType[a]||(this._magicType[a]=!0,a===z.CHART_TYPE_LINE?this._magicType[z.CHART_TYPE_BAR]=!1:a===z.CHART_TYPE_BAR&&(this._magicType[z.CHART_TYPE_LINE]=!1),a===z.CHART_TYPE_PIE?this._magicType[z.CHART_TYPE_FUNNEL]=!1:a===z.CHART_TYPE_FUNNEL&&(this._magicType[z.CHART_TYPE_PIE]=!1),a===z.CHART_TYPE_FORCE?this._magicType[z.CHART_TYPE_CHORD]=!1:a===z.CHART_TYPE_CHORD&&(this._magicType[z.CHART_TYPE_FORCE]=!1),a===w?this._magicType[j]=!1:a===j&&(this._magicType[w]=!1),this.messageCenter.dispatch(z.EVENT.MAGIC_TYPE_CHANGED,c.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(a){this._resetMark(),this._magicType=a,!this._isSilence&&this.messageCenter.dispatch(z.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(d){var c=d.target.style.iconType,a=this.option.toolbox.feature[c].onclick;"function"==typeof a&&a.call(this,this.option)},reset:function(C,F){if(F&&this.clear(),this.query(C,"toolbox.show")&&this.query(C,"toolbox.feature.magicType.show")){var A=C.toolbox.feature.magicType.type,m=A.length;for(this._magicMap={};m--;){this._magicMap[A[m]]=!0}m=C.series.length;for(var E,l;m--;){E=C.series[m].type,this._magicMap[E]&&(l=C.xAxis instanceof Array?C.xAxis[C.series[m].xAxisIndex||0]:C.xAxis,l&&"category"===(l.type||"category")&&(l.__boundaryGap=null!=l.boundaryGap?l.boundaryGap:!0),l=C.yAxis instanceof Array?C.yAxis[C.series[m].yAxisIndex||0]:C.yAxis,l&&"category"===l.type&&(l.__boundaryGap=null!=l.boundaryGap?l.boundaryGap:!0),C.series[m].__type=E,C.series[m].__itemStyle=k.clone(C.series[m].itemStyle||{})),(this._magicMap[w]||this._magicMap[j])&&(C.series[m].__stack=C.series[m].stack)}}this._magicType=F?{}:this._magicType||{};for(var c in this._magicType){if(this._magicType[c]){this.option=C,this.getMagicOption();break}}var G=C.dataZoom;if(G&&G.show){var B=null!=G.start&&G.start>=0&&G.start<=100?G.start:0,D=null!=G.end&&G.end>=0&&G.end<=100?G.end:100;B>D&&(B+=D,D=B-D,B-=D),this._zoomQueue=[{start:B,end:D,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var l,h;if(this._magicType[z.CHART_TYPE_LINE]||this._magicType[z.CHART_TYPE_BAR]){for(var d=this._magicType[z.CHART_TYPE_LINE]?!1:!0,m=0,c=this.option.series.length;c>m;m++){h=this.option.series[m].type,(h==z.CHART_TYPE_LINE||h==z.CHART_TYPE_BAR)&&(l=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[m].xAxisIndex||0]:this.option.xAxis,l&&"category"===(l.type||"category")&&(l.boundaryGap=d?!0:l.__boundaryGap),l=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[m].yAxisIndex||0]:this.option.yAxis,l&&"category"===l.type&&(l.boundaryGap=d?!0:l.__boundaryGap))}this._defaultMagic(z.CHART_TYPE_LINE,z.CHART_TYPE_BAR)}if(this._defaultMagic(z.CHART_TYPE_CHORD,z.CHART_TYPE_FORCE),this._defaultMagic(z.CHART_TYPE_PIE,z.CHART_TYPE_FUNNEL),this._magicType[w]||this._magicType[j]){for(var m=0,c=this.option.series.length;c>m;m++){this._magicType[w]?(this.option.series[m].stack="_ECHARTS_STACK_KENER_2014_",h=w):this._magicType[j]&&(this.option.series[m].stack=null,h=j),this._featureOption[h+"Chart"]&&k.merge(this.option.series[m],this._featureOption[h+"Chart"]||{},!0)}}return this.option},_defaultMagic:function(l,h){if(this._magicType[l]||this._magicType[h]){for(var d=0,m=this.option.series.length;m>d;d++){var c=this.option.series[d].type;(c==l||c==h)&&(this.option.series[d].type=this._magicType[l]?l:h,this.option.series[d].itemStyle=k.clone(this.option.series[d].__itemStyle),c=this.option.series[d].type,this._featureOption[c+"Chart"]&&k.merge(this.option.series[d],this._featureOption[c+"Chart"]||{},!0))}}},silence:function(a){this._isSilence=a},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(a){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],a||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(a){a&&(this._resetMark(),this._resetZoom(),a.toolbox=this.reformOption(a.toolbox),this.option=a,this.clear(!0),a.toolbox.show&&this._buildShape(),this.hideDataView())}},k.inherits(y,p),u("../component").define("toolbox",y),y}),define("echarts/component",[],function(){var b={},a={};return b.define=function(c,d){return a[c]=d,b},b.get=function(c){return a[c]},b}),define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(h){function k(p,l,r,i,q){g.call(this,p,l,r,i,q),this.refresh(i)}var g=h("./base"),d=h("zrender/shape/Text"),j=h("zrender/shape/Rectangle"),c=h("../config");c.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var b=h("zrender/tool/util"),m=h("zrender/tool/area"),f=h("zrender/tool/color");return k.prototype={type:c.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}}},_buildItem:function(){var z=this.titleOption.text,E=this.titleOption.link,x=this.titleOption.target,C=this.titleOption.subtext,q=this.titleOption.sublink,l=this.titleOption.subtarget,F=this.getFont(this.titleOption.textStyle),y=this.getFont(this.titleOption.subtextStyle),A=this._itemGroupLocation.x,B=this._itemGroupLocation.y,w=this._itemGroupLocation.width,n=this._itemGroupLocation.height,D={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:B,color:this.titleOption.textStyle.color,text:z,textFont:F,textBaseline:"top"},highlightStyle:{color:f.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};E&&(D.hoverable=!0,D.clickable=!0,D.onclick=function(){x&&"self"==x?window.location=E:window.open(E)});var v={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:B+n,color:this.titleOption.subtextStyle.color,text:C,textFont:y,textBaseline:"bottom"},highlightStyle:{color:f.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(q&&(v.hoverable=!0,v.clickable=!0,v.onclick=function(){l&&"self"==l?window.location=q:window.open(q)}),this.titleOption.x){case"center":D.style.x=v.style.x=A+w/2,D.style.textAlign=v.style.textAlign="center";break;case"left":D.style.x=v.style.x=A,D.style.textAlign=v.style.textAlign="left";break;case"right":D.style.x=v.style.x=A+w,D.style.textAlign=v.style.textAlign="right";break;default:A=this.titleOption.x-0,A=isNaN(A)?0:A,D.style.x=v.style.x=A}this.titleOption.textAlign&&(D.style.textAlign=v.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new d(D)),""!==C&&this.shapeList.push(new d(v))},_buildBackground:function(){var a=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new j({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var x,B=this.reformCssArray(this.titleOption.padding),v=this.titleOption.text,s=this.titleOption.subtext,A=this.getFont(this.titleOption.textStyle),q=this.getFont(this.titleOption.subtextStyle),p=Math.max(m.getTextWidth(v,A),m.getTextWidth(s,q)),u=m.getTextHeight(v,A)+(""===s?0:this.titleOption.itemGap+m.getTextHeight(s,q)),w=this.zr.getWidth();switch(this.titleOption.x){case"center":x=Math.floor((w-p)/2);break;case"left":x=B[3]+this.titleOption.borderWidth;break;case"right":x=w-p-B[1]-this.titleOption.borderWidth;break;default:x=this.titleOption.x-0,x=isNaN(x)?0:x}var y,z=this.zr.getHeight();switch(this.titleOption.y){case"top":y=B[0]+this.titleOption.borderWidth;break;case"bottom":y=z-u-B[2]-this.titleOption.borderWidth;break;case"center":y=Math.floor((z-u)/2);break;default:y=this.titleOption.y-0,y=isNaN(y)?0:y}return{x:x,y:y,width:p,height:u}},refresh:function(a){a&&(this.option=a,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)),this.clear(),this._buildShape()}},b.inherits(k,g),h("../component").define("title",k),k}),define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(x){function C(i,c,m,h,d){v.call(this,i,c,m,h,d),this.dom=d.dom;var a=this;a._onmousemove=function(l){return a.__onmousemove(l)},a._onglobalout=function(l){return a.__onglobalout(l)},this.zr.on(w.EVENT.MOUSEMOVE,a._onmousemove),this.zr.on(w.EVENT.GLOBALOUT,a._onglobalout),a._hide=function(l){return a.__hide(l)},a._tryShow=function(l){return a.__tryShow(l)},a._refixed=function(l){return a.__refixed(l)},a._setContent=function(n,l){return a.__setContent(n,l)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return !1},this._tDom.onmouseover=function(){a._mousein=!0},this._tDom.onmouseout=function(){a._mousein=!1},this._tDom.className="echarts-tooltip",this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new A({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new A({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new j({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(h)}var v=x("./base"),j=x("../util/shape/Cross"),A=x("zrender/shape/Line"),g=x("zrender/shape/Rectangle"),b=new g({}),D=x("../config");D.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var q=x("../util/ecData"),w=x("zrender/config"),y=x("zrender/tool/event"),z=x("zrender/tool/area"),k=x("zrender/tool/color"),f=x("zrender/tool/util"),B=x("zrender/shape/Base");return C.prototype={type:D.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(l){if(!l){return""}var h=[];if(l.transitionDuration){var d="left "+l.transitionDuration+"s,top "+l.transitionDuration+"s";h.push("transition:"+d),h.push("-moz-transition:"+d),h.push("-webkit-transition:"+d),h.push("-o-transition:"+d)}l.backgroundColor&&(h.push("background-Color:"+k.toHex(l.backgroundColor)),h.push("filter:alpha(opacity=70)"),h.push("background-Color:"+l.backgroundColor)),null!=l.borderWidth&&h.push("border-width:"+l.borderWidth+"px"),null!=l.borderColor&&h.push("border-color:"+l.borderColor),null!=l.borderRadius&&(h.push("border-radius:"+l.borderRadius+"px"),h.push("-moz-border-radius:"+l.borderRadius+"px"),h.push("-webkit-border-radius:"+l.borderRadius+"px"),h.push("-o-border-radius:"+l.borderRadius+"px"));var m=l.textStyle;m&&(m.color&&h.push("color:"+m.color),m.decoration&&h.push("text-decoration:"+m.decoration),m.align&&h.push("text-align:"+m.align),m.fontFamily&&h.push("font-family:"+m.fontFamily),m.fontSize&&h.push("font-size:"+m.fontSize+"px"),m.fontSize&&h.push("line-height:"+Math.round(3*m.fontSize/2)+"px"),m.fontStyle&&h.push("font-style:"+m.fontStyle),m.fontWeight&&h.push("font-weight:"+m.fontWeight));var c=l.padding;return null!=c&&(c=this.reformCssArray(c),h.push("padding:"+c[0]+"px "+c[1]+"px "+c[2]+"px "+c[3]+"px")),h=h.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var a=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),a=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),a=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),a=!0),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),a&&this.zr.refreshNextFrame(),this.showing=!1},_show:function(l,h,d,p){var c=this._tDom.offsetHeight,m=this._tDom.offsetWidth;l&&("function"==typeof l&&(l=l([h,d])),l instanceof Array&&(h=l[0],d=l[1])),h+m>this._zrWidth&&(h-=m+40),d+c>this._zrHeight&&(d-=c-20),20>d&&(d=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(p?p:"")+"left:"+h+"px;top:"+d+"px;",(10>c||10>m)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var d="",c=this._tDom.offsetHeight,a=this._tDom.offsetWidth;this._tDom.offsetLeft+a>this._zrWidth&&(d+="left:"+(this._zrWidth-a-20)+"px;"),this._tDom.offsetTop+c>this._zrHeight&&(d+="top:"+(this._zrHeight-c-10)+"px;"),""!==d&&(this._tDom.style.cssText+=d)}},__tryShow:function(){var d,c;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show){return void this._showItemTrigger()}var a=q.get(this._curTarget,"series"),h=q.get(this._curTarget,"data");d=this.deepQuery([h,a,this.option],"tooltip.show"),null!=a&&null!=h&&d?(c=this.deepQuery([h,a,this.option],"tooltip.trigger"),"axis"===c?this._showAxisTrigger(a.xAxisIndex,a.yAxisIndex,q.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else{this._findPolarTrigger()||this._findAxisTrigger()}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){return void (this._hidingTicket=setTimeout(this._hide,this._hideDelay))}for(var l,h,d=this.option.series,m=0,c=d.length;c>m;m++){if("axis"===this.deepQuery([d[m],this.option],"tooltip.trigger")){return l=d[m].xAxisIndex||0,h=d[m].yAxisIndex||0,this.component.xAxis.getAxis(l)&&this.component.xAxis.getAxis(l).type===D.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(l,h,this._getNearestDataIndex("x",this.component.xAxis.getAxis(l))):this.component.yAxis.getAxis(h)&&this.component.yAxis.getAxis(h).type===D.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(l,h,this._getNearestDataIndex("y",this.component.yAxis.getAxis(h))):void this._showAxisTrigger(l,h,-1)}}"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar){return !1}var d,c=y.getX(this._event),a=y.getY(this._event),h=this.component.polar.getNearestIndex([c,a]);return h?(d=h.valueIndex,h=h.polarIndex):h=-1,-1!=h?this._showPolarTrigger(h,d):!1},_getNearestDataIndex:function(I,L){var G=-1,u=y.getX(this._event),K=y.getY(this._event);if("x"===I){for(var p,d,M=this.component.grid.getXend(),F=L.getCoordByIndex(G);M>F&&(d=F,u>=F);){p=F,F=L.getCoordByIndex(++G)}return 0>=G?G=0:d-u>=u-p?G-=1:null==L.getNameByIndex(G)&&(G-=1),G}for(var H,J,E=this.component.grid.getY(),F=L.getCoordByIndex(G);F>E&&(H=F,F>=K);){J=F,F=L.getCoordByIndex(++G)}return 0>=G?G=0:K-H>=J-K?G-=1:null==L.getNameByIndex(G)&&(G-=1),G},_showAxisTrigger:function(S,H,O){if(!this._event.connectTrigger&&this.messageCenter.dispatch(D.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==S||null==H){return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void (this._hidingTicket=setTimeout(this._hide,this._hideDelay))}var L,X,K,I,N=this.option.series,P=[],T=[],M="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show){return}X=this.option.tooltip.formatter,K=this.option.tooltip.position}var J,G,d=-1!=S&&this.component.xAxis.getAxis(S).type===D.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=H&&this.component.yAxis.getAxis(H).type===D.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1;if(d){var s="xAxis"==d?S:H;L=this.component[d].getAxis(s);for(var Q=0,R=N.length;R>Q;Q++){this._isSelected(N[Q].name)&&N[Q][d+"Index"]===s&&"axis"===this.deepQuery([N[Q],this.option],"tooltip.trigger")&&(I=this.query(N[Q],"tooltip.showContent")||I,X=this.query(N[Q],"tooltip.formatter")||X,K=this.query(N[Q],"tooltip.position")||K,M+=this._style(this.query(N[Q],"tooltip")),null!=N[Q].stack&&"xAxis"==d?(P.unshift(N[Q]),T.unshift(Q)):(P.push(N[Q]),T.push(Q)))}this.messageCenter.dispatch(D.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:T,dataIndex:O},this.myChart);var E;"xAxis"==d?(J=this.subPixelOptimize(L.getCoordByIndex(O),this._axisLineWidth),G=y.getY(this._event),E=[J,this.component.grid.getY(),J,this.component.grid.getYend()]):(J=y.getX(this._event),G=this.subPixelOptimize(L.getCoordByIndex(O),this._axisLineWidth),E=[this.component.grid.getX(),G,this.component.grid.getXend(),G]),this._styleAxisPointer(P,E[0],E[1],E[2],E[3],L.getGap(),J,G)}else{J=y.getX(this._event),G=y.getY(this._event),this._styleAxisPointer(N,this.component.grid.getX(),G,this.component.grid.getXend(),G,0,J,G),O>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none")}if(P.length>0){if(this._lastItemTriggerId=-1,this._lastDataIndex!=O||this._lastSeriesIndex!=T[0]){this._lastDataIndex=O,this._lastSeriesIndex=T[0];var W,Y;if("function"==typeof X){for(var F=[],Q=0,R=P.length;R>Q;Q++){W=P[Q].data[O],Y=this.getDataFromOption(W,"-"),F.push({seriesIndex:T[Q],seriesName:P[Q].name||"",series:P[Q],dataIndex:O,data:W,name:L.getNameByIndex(O),value:Y,0:P[Q].name||"",1:L.getNameByIndex(O),2:Y,3:W})}this._curTicket="axis:"+O,this._tDom.innerHTML=X.call(this.myChart,F,this._curTicket,this._setContent)}else{if("string"==typeof X){this._curTicket=0/0,X=X.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var Q=0,R=P.length;R>Q;Q++){X=X.replace("{a"+Q+"}",this._encodeHTML(P[Q].name||"")),X=X.replace("{b"+Q+"}",this._encodeHTML(L.getNameByIndex(O))),W=P[Q].data[O],W=this.getDataFromOption(W,"-"),X=X.replace("{c"+Q+"}",W instanceof Array?W:this.numAddCommas(W))}this._tDom.innerHTML=X}else{this._curTicket=0/0,X=this._encodeHTML(L.getNameByIndex(O));for(var Q=0,R=P.length;R>Q;Q++){X+="<br/>"+this._encodeHTML(P[Q].name||"")+" : ",W=P[Q].data[O],W=this.getDataFromOption(W,"-"),X+=W instanceof Array?W:this.numAddCommas(W)}this._tDom.innerHTML=X}}}if(I===!1||!this.option.tooltip.showContent){return}this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(K,J+10,G+10,M)}},_showPolarTrigger:function(S,G){if(null==this.component.polar||null==S||null==G||0>G){return !1}var O,L,W,K=this.option.series,I=[],H=[],N="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show){return !1}O=this.option.tooltip.formatter,L=this.option.tooltip.position}for(var P=this.option.polar[S].indicator[G].text,T=0,M=K.length;M>T;T++){this._isSelected(K[T].name)&&K[T].polarIndex===S&&"axis"===this.deepQuery([K[T],this.option],"tooltip.trigger")&&(W=this.query(K[T],"tooltip.showContent")||W,O=this.query(K[T],"tooltip.formatter")||O,L=this.query(K[T],"tooltip.position")||L,N+=this._style(this.query(K[T],"tooltip")),I.push(K[T]),H.push(T))}if(I.length>0){for(var J,F,d,E=[],T=0,M=I.length;M>T;T++){J=I[T].data;for(var Q=0,R=J.length;R>Q;Q++){F=J[Q],this._isSelected(F.name)&&(F=null!=F?F:{name:"",value:{dataIndex:"-"}},d=this.getDataFromOption(F.value[G]),E.push({seriesIndex:H[T],seriesName:I[T].name||"",series:I[T],dataIndex:G,data:F,name:F.name,indicator:P,value:d,0:I[T].name||"",1:F.name,2:d,3:P}))}}if(E.length<=0){return}if(this._lastItemTriggerId=-1,this._lastDataIndex!=G||this._lastSeriesIndex!=H[0]){if(this._lastDataIndex=G,this._lastSeriesIndex=H[0],"function"==typeof O){this._curTicket="axis:"+G,this._tDom.innerHTML=O.call(this.myChart,E,this._curTicket,this._setContent)}else{if("string"==typeof O){O=O.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var T=0,M=E.length;M>T;T++){O=O.replace("{a"+T+"}",this._encodeHTML(E[T].seriesName)),O=O.replace("{b"+T+"}",this._encodeHTML(E[T].name)),O=O.replace("{c"+T+"}",this.numAddCommas(E[T].value)),O=O.replace("{d"+T+"}",this._encodeHTML(E[T].indicator))}this._tDom.innerHTML=O}else{O=this._encodeHTML(E[0].name)+"<br/>"+this._encodeHTML(E[0].indicator)+" : "+this.numAddCommas(E[0].value);for(var T=1,M=E.length;M>T;T++){O+="<br/>"+this._encodeHTML(E[T].name)+"<br/>",O+=this._encodeHTML(E[T].indicator)+" : "+this.numAddCommas(E[T].value)}this._tDom.innerHTML=O}}}if(W===!1||!this.option.tooltip.showContent){return}return this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(L,y.getX(this._event),y.getY(this._event),N),!0}},_showItemTrigger:function(M){if(this._curTarget){var R,I,E,P=q.get(this._curTarget,"series"),s=q.get(this._curTarget,"seriesIndex"),d=q.get(this._curTarget,"data"),J=q.get(this._curTarget,"dataIndex"),N=q.get(this._curTarget,"name"),G=q.get(this._curTarget,"value"),l=q.get(this._curTarget,"special"),Q=q.get(this._curTarget,"special2"),F=[d,P,this.option],H="";if("island"!=this._curTarget._type){var K=M?"axis":"item";this.option.tooltip.trigger===K&&(R=this.option.tooltip.formatter,I=this.option.tooltip.position),this.query(P,"tooltip.trigger")===K&&(E=this.query(P,"tooltip.showContent")||E,R=this.query(P,"tooltip.formatter")||R,I=this.query(P,"tooltip.position")||I,H+=this._style(this.query(P,"tooltip"))),E=this.query(d,"tooltip.showContent")||E,R=this.query(d,"tooltip.formatter")||R,I=this.query(d,"tooltip.position")||I,H+=this._style(this.query(d,"tooltip"))}else{this._lastItemTriggerId=0/0,E=this.deepQuery(F,"tooltip.showContent"),R=this.deepQuery(F,"tooltip.islandFormatter"),I=this.deepQuery(F,"tooltip.islandPosition")}this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,"function"==typeof R?(this._curTicket=(P.name||"")+":"+J,this._tDom.innerHTML=R.call(this.myChart,{seriesIndex:s,seriesName:P.name||"",series:P,dataIndex:J,data:d,name:N,value:G,percent:l,indicator:l,value2:Q,indicator2:Q,0:P.name||"",1:N,2:G,3:l,4:Q,5:d,6:s,7:J},this._curTicket,this._setContent)):"string"==typeof R?(this._curTicket=0/0,R=R.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),R=R.replace("{a0}",this._encodeHTML(P.name||"")).replace("{b0}",this._encodeHTML(N)).replace("{c0}",G instanceof Array?G:this.numAddCommas(G)),R=R.replace("{d}","{d0}").replace("{d0}",l||""),R=R.replace("{e}","{e0}").replace("{e0}",q.get(this._curTarget,"special2")||""),this._tDom.innerHTML=R):(this._curTicket=0/0,this._tDom.innerHTML=P.type===D.CHART_TYPE_RADAR&&l?this._itemFormatter.radar.call(this,P,N,G,l):P.type===D.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,P,N,G,d):""+(null!=P.name?this._encodeHTML(P.name)+"<br/>":"")+(""===N?"":this._encodeHTML(N)+" : ")+(G instanceof Array?G:this.numAddCommas(G))));var L=y.getX(this._event),O=y.getY(this._event);this.deepQuery(F,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([P],this.component.grid.getX(),O,this.component.grid.getXend(),O,0,L,O):this._hide(),E!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(I,L+20,O-20,H))}},_itemFormatter:{radar:function(l,h,d,p){var c="";c+=this._encodeHTML(""===h?l.name||"":h),c+=""===c?"":"<br />";for(var m=0;m<p.length;m++){c+=this._encodeHTML(p[m].text)+" : "+this.numAddCommas(d[m])+"<br />"}return c},chord:function(m,h,d,s,c){if(null==c){return this._encodeHTML(h)+" ("+this.numAddCommas(d)+")"}var p=this._encodeHTML(h),l=this._encodeHTML(s);return""+(null!=m.name?this._encodeHTML(m.name)+"<br/>":"")+p+" -> "+l+" ("+this.numAddCommas(d)+")<br />"+l+" -> "+p+" ("+this.numAddCommas(c)+")"},eventRiver:function(m,h,d,s){var c="";c+=this._encodeHTML(""===m.name?"":m.name+" : "),c+=this._encodeHTML(h),c+=""===c?"":"<br />",s=s.evolution;for(var p=0,l=s.length;l>p;p++){c+='<div style="padding-top:5px;">',s[p].detail&&(s[p].detail.img&&(c+='<img src="'+s[p].detail.img+'" style="float:left;width:40px;height:40px;">'),c+='<div style="margin-left:45px;">'+s[p].time+"<br/>",c+='<a href="'+s[p].detail.link+'" target="_blank">',c+=s[p].detail.text+"</a></div>",c+="</div>")}return c}},_styleAxisPointer:function(T,H,P,M,Y,L,J,I){if(T.length>0){var O,Q,W=this.option.tooltip.axisPointer,X=W.type,N={line:{},cross:{},shadow:{}};for(var K in N){N[K].color=W[K+"Style"].color,N[K].width=W[K+"Style"].width,N[K].type=W[K+"Style"].type}for(var G=0,E=T.length;E>G;G++){O=T[G],Q=this.query(O,"tooltip.axisPointer.type"),X=Q||X,Q&&(N[Q].color=this.query(O,"tooltip.axisPointer."+Q+"Style.color")||N[Q].color,N[Q].width=this.query(O,"tooltip.axisPointer."+Q+"Style.width")||N[Q].width,N[Q].type=this.query(O,"tooltip.axisPointer."+Q+"Style.type")||N[Q].type)}if("line"===X){var F=N.line.width,R=H==M;this._axisLineShape.style={xStart:R?this.subPixelOptimize(H,F):H,yStart:R?P:this.subPixelOptimize(P,F),xEnd:R?this.subPixelOptimize(M,F):M,yEnd:R?Y:this.subPixelOptimize(Y,F),strokeColor:N.line.color,lineWidth:F,lineType:N.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)}else{if("cross"===X){var S=N.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(J,S),y:this.subPixelOptimize(I,S),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(J)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(I)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:N.cross.color,lineWidth:S,lineType:N.cross.type},this.component.grid.getXend()-J>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=J+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=J-10),I-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=I-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=I+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)}else{"shadow"===X&&((null==N.shadow.width||"auto"===N.shadow.width||isNaN(N.shadow.width))&&(N.shadow.width=L),H===M?Math.abs(this.component.grid.getX()-H)<2?(N.shadow.width/=2,H=M+=N.shadow.width/2):Math.abs(this.component.grid.getXend()-H)<2&&(N.shadow.width/=2,H=M-=N.shadow.width/2):P===Y&&(Math.abs(this.component.grid.getY()-P)<2?(N.shadow.width/=2,P=Y+=N.shadow.width/2):Math.abs(this.component.grid.getYend()-P)<2&&(N.shadow.width/=2,P=Y-=N.shadow.width/2)),this._axisShadowShape.style={xStart:H,yStart:P,xEnd:M,yEnd:Y,strokeColor:N.shadow.color,lineWidth:N.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id))}}this.zr.refreshNextFrame()}},__onmousemove:function(s){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var p=s.target,m=y.getX(s.event),E=y.getY(s.event);if(p){this._curTarget=p,this._event=s.event,this._event.zrenderX=m,this._event.zrenderY=E;var d;if(this._needAxisTrigger&&this.component.polar&&-1!=(d=this.component.polar.isInside([m,E]))){for(var u=this.option.series,c=0,r=u.length;r>c;c++){if(u[c].polarIndex===d&&"axis"===this.deepQuery([u[c],this.option],"tooltip.trigger")){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{this._curTarget=!1,this._event=s.event,this._event.zrenderX=m,this._event.zrenderY=E,this._needAxisTrigger&&this.component.grid&&z.isInside(b,this.component.grid.getArea(),m,E)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([m,E])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(D.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(c,a){this._tDom&&(c===this._curTicket&&(this._tDom.innerHTML=a),setTimeout(this._refixed,20))},ontooltipHover:function(d,c){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=d.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var a=0,h=c.length;h>a;a++){c[a].zlevel=this.getZlevelBase(),c[a].z=this.getZBase(),c[a].style=B.prototype.getHighlightStyle(c[a].style,c[a].highlightStyle),c[a].draggable=!1,c[a].hoverable=!1,c[a].clickable=!1,c[a].ondragend=null,c[a].ondragover=null,c[a].ondrop=null,this.shapeList.push(c[a]),this.zr.addShape(c[a])}this._lastTipShape={dataIndex:d.dataIndex,tipShape:c}}},ondragend:function(){this._hide()},onlegendSelected:function(a){this._selectedMap=a.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?f.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(a){return null!=this._selectedMap[a]?this._selectedMap[a]:!0},showTip:function(O){if(O){var F,L=this.option.series;if(null!=O.seriesIndex){F=O.seriesIndex}else{for(var J=O.seriesName,S=0,I=L.length;I>S;S++){if(L[S].name===J){F=S;break}}}var G=L[F];if(null!=G){var P=this.myChart.chart[G.type],Q="axis"===this.deepQuery([G,this.option],"tooltip.trigger");if(P){if(Q){var K=O.dataIndex;switch(P.type){case D.CHART_TYPE_LINE:case D.CHART_TYPE_BAR:case D.CHART_TYPE_K:case D.CHART_TYPE_RADAR:if(null==this.component.polar||G.data[0].value.length<=K){return}var H=G.polarIndex||0,E=this.component.polar.getVector(H,K,"max");this._event={zrenderX:E[0],zrenderY:E[1]},this._showPolarTrigger(H,K)}}else{var h,l,M=P.shapeList;switch(P.type){case D.CHART_TYPE_LINE:case D.CHART_TYPE_BAR:case D.CHART_TYPE_K:case D.CHART_TYPE_TREEMAP:case D.CHART_TYPE_SCATTER:for(var K=O.dataIndex,S=0,I=M.length;I>S;S++){if(null==M[S]._mark&&q.get(M[S],"seriesIndex")==F&&q.get(M[S],"dataIndex")==K){this._curTarget=M[S],h=M[S].style.x,l=P.type!=D.CHART_TYPE_K?M[S].style.y:M[S].style.y[0];break}}break;case D.CHART_TYPE_RADAR:for(var K=O.dataIndex,S=0,I=M.length;I>S;S++){if("polygon"===M[S].type&&q.get(M[S],"seriesIndex")==F&&q.get(M[S],"dataIndex")==K){this._curTarget=M[S];var E=this.component.polar.getCenter(G.polarIndex||0);h=E[0],l=E[1];break}}break;case D.CHART_TYPE_PIE:for(var N=O.name,S=0,I=M.length;I>S;S++){if("sector"===M[S].type&&q.get(M[S],"seriesIndex")==F&&q.get(M[S],"name")==N){this._curTarget=M[S];var s=this._curTarget.style,R=(s.startAngle+s.endAngle)/2*Math.PI/180;h=this._curTarget.style.x+Math.cos(R)*s.r/1.5,l=this._curTarget.style.y-Math.sin(R)*s.r/1.5;break}}break;case D.CHART_TYPE_MAP:for(var N=O.name,T=G.mapType,S=0,I=M.length;I>S;S++){if("text"===M[S].type&&M[S]._mapType===T&&M[S].style._name===N){this._curTarget=M[S],h=this._curTarget.style.x+this._curTarget.position[0],l=this._curTarget.style.y+this._curTarget.position[1];break}}break;case D.CHART_TYPE_CHORD:for(var N=O.name,S=0,I=M.length;I>S;S++){if("sector"===M[S].type&&q.get(M[S],"name")==N){this._curTarget=M[S];var s=this._curTarget.style,R=(s.startAngle+s.endAngle)/2*Math.PI/180;return h=this._curTarget.style.x+Math.cos(R)*(s.r-2),l=this._curTarget.style.y-Math.sin(R)*(s.r-2),void this.zr.trigger(w.EVENT.MOUSEMOVE,{zrenderX:h,zrenderY:l})}}break;case D.CHART_TYPE_FORCE:for(var N=O.name,S=0,I=M.length;I>S;S++){if("circle"===M[S].type&&q.get(M[S],"name")==N){this._curTarget=M[S],h=this._curTarget.position[0],l=this._curTarget.position[1];break}}}null!=h&&null!=l&&(this._event={zrenderX:h,zrenderY:l},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}}},hideTip:function(){this._hide()},refresh:function(l){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,l){this.option=l,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=f.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var h=this.option.series,d=0,m=h.length;m>d;d++){if("axis"===this.query(h[d],"tooltip.trigger")){this._needAxisTrigger=!0;break}}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable,!this._enterable&&this._tDom.className.indexOf(w.elementClassName)<0&&(this._tDom.className+=" "+w.elementClassName)}if(this.showing){var c=this;setTimeout(function(){c.zr.trigger(w.EVENT.MOUSEMOVE,c.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(w.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(w.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},f.inherits(C,v),x("../component").define("tooltip",C),C}),define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(u){function y(i,d,m,c,l){if(!this.query(c,"legend.data")){return void console.error("option.legend.data has not been defined.")}p.call(this,i,d,m,c,l);var h=this;h._legendSelected=function(a){h.__legendSelected(a)},h._dispatchHoverLink=function(a){return h.__dispatchHoverLink(a)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(c)}var p=u("./base"),g=u("zrender/shape/Text"),x=u("zrender/shape/Rectangle"),f=u("zrender/shape/Sector"),b=u("../util/shape/Icon"),z=u("../util/shape/Candle"),k=u("../config");k.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};var q=u("zrender/tool/util"),v=u("zrender/tool/area");y.prototype={type:k.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var c=0,a=this.shapeList.length;a>c;c++){this.zr.addShape(this.shapeList[c])}}},_buildItem:function(){var K,B,H,N,E,C,G,L,F=this.legendOption.data,D=F.length,A=this.legendOption.textStyle,d=this.zr.getWidth(),h=this.zr.getHeight(),I=this._itemGroupLocation.x,J=this._itemGroupLocation.y,n=this.legendOption.itemWidth,M=this.legendOption.itemHeight,O=this.legendOption.itemGap;"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(I=this._itemGroupLocation.x+this._itemGroupLocation.width-n);for(var r=0;D>r;r++){E=q.merge(F[r].textStyle||{},A),C=this.getFont(E),K=this._getName(F[r]),G=this._getFormatterName(K),""!==K?(B=F[r].icon||this._getSomethingByName(K).type,L=this.getColor(K),"horizontal"===this.legendOption.orient?200>d-I&&n+5+v.getTextWidth(G,C)+(r===D-1||""===F[r+1]?0:O)>=d-I&&(I=this._itemGroupLocation.x,J+=M+O):200>h-J&&M+(r===D-1||""===F[r+1]?0:O)>=h-J&&("right"===this.legendOption.x?I-=this._itemGroupLocation.maxWidth+O:I+=this._itemGroupLocation.maxWidth+O,J=this._itemGroupLocation.y),H=this._getItemShapeByType(I,J,n,M,this._selectedMap[K]&&this._hasDataMap[K]?L:"#ccc",B,L),H._name=K,H=new b(H),N={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:I+n+5,y:J+M/2,color:this._selectedMap[K]?"auto"===E.color?L:E.color:"#ccc",text:G,textFont:C,textBaseline:"middle"},highlightStyle:{color:L,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(N.style.x-=n+10,N.style.textAlign="right"),N._name=K,N=new g(N),this.legendOption.selectedMode&&(H.onclick=N.onclick=this._legendSelected,H.onmouseover=N.onmouseover=this._dispatchHoverLink,H.hoverConnect=N.id,N.hoverConnect=H.id),this.shapeList.push(H),this.shapeList.push(N),"horizontal"===this.legendOption.orient?I+=n+5+v.getTextWidth(G,C)+O:J+=M+O):"horizontal"===this.legendOption.orient?(I=this._itemGroupLocation.x,J+=M+O):("right"===this.legendOption.x?I-=this._itemGroupLocation.maxWidth+O:I+=this._itemGroupLocation.maxWidth+O,J=this._itemGroupLocation.y)}"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&J!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(a){return"undefined"!=typeof a.name?a.name:a},_getFormatterName:function(d){var c,a=this.legendOption.formatter;return c="function"==typeof a?a.call(this.myChart,d):"string"==typeof a?a.replace("{name}",d):d},_getFormatterNameFromData:function(c){var a=this._getName(c);return this._getFormatterName(a)},_mLineOptimize:function(){for(var l=[],h=this._itemGroupLocation.x,d=2,m=this.shapeList.length;m>d;d++){this.shapeList[d].style.x===h?l.push((this._itemGroupLocation.width-(this.shapeList[d-1].style.x+v.getTextWidth(this.shapeList[d-1].style.text,this.shapeList[d-1].style.textFont)-h))/2):d===m-1&&l.push((this._itemGroupLocation.width-(this.shapeList[d].style.x+v.getTextWidth(this.shapeList[d].style.text,this.shapeList[d].style.textFont)-h))/2)}for(var c=-1,d=1,m=this.shapeList.length;m>d;d++){this.shapeList[d].style.x===h&&c++,0!==l[c]&&(this.shapeList[d].style.x+=l[c])}},_buildBackground:function(){var a=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new x({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var N=this.legendOption.data,C=N.length,K=this.legendOption.itemGap,H=this.legendOption.itemWidth+5,P=this.legendOption.itemHeight,G=this.legendOption.textStyle,E=this.getFont(G),D=0,J=0,O=this.reformCssArray(this.legendOption.padding),I=this.zr.getWidth()-O[1]-O[3],F=this.zr.getHeight()-O[0]-O[2],B=0,d=0;if("horizontal"===this.legendOption.orient){J=P;for(var h=0;C>h;h++){if(""!==this._getName(N[h])){var L=v.getTextWidth(this._getFormatterNameFromData(N[h]),N[h].textStyle?this.getFont(q.merge(N[h].textStyle||{},G)):E);B+H+L+K>I?(B-=K,D=Math.max(D,B),J+=P+K,B=0):(B+=H+L+K,D=Math.max(D,B-K))}else{B-=K,D=Math.max(D,B),J+=P+K,B=0}}}else{for(var h=0;C>h;h++){d=Math.max(d,v.getTextWidth(this._getFormatterNameFromData(N[h]),N[h].textStyle?this.getFont(q.merge(N[h].textStyle||{},G)):E))}d+=H,D=d;for(var h=0;C>h;h++){""!==this._getName(N[h])?B+P+K>F?(D+=d+K,B-=K,J=Math.max(J,B),B=0):(B+=P+K,J=Math.max(J,B-K)):(D+=d+K,B-=K,J=Math.max(J,B),B=0)}}I=this.zr.getWidth(),F=this.zr.getHeight();var M;switch(this.legendOption.x){case"center":M=Math.floor((I-D)/2);break;case"left":M=O[3]+this.legendOption.borderWidth;break;case"right":M=I-D-O[1]-O[3]-2*this.legendOption.borderWidth;break;default:M=this.parsePercent(this.legendOption.x,I)}var A;switch(this.legendOption.y){case"top":A=O[0]+this.legendOption.borderWidth;break;case"bottom":A=F-J-O[0]-O[2]-2*this.legendOption.borderWidth;break;case"center":A=Math.floor((F-J)/2);break;default:A=this.parsePercent(this.legendOption.y,F)}return{x:M,y:A,width:D,height:J,maxWidth:d}},_getSomethingByName:function(m){for(var h,d=this.option.series,A=0,c=d.length;c>A;A++){if(d[A].name===m){return{type:d[A].type,series:d[A],seriesIndex:A,data:null,dataIndex:-1}}if(d[A].type===k.CHART_TYPE_PIE||d[A].type===k.CHART_TYPE_RADAR||d[A].type===k.CHART_TYPE_CHORD||d[A].type===k.CHART_TYPE_FORCE||d[A].type===k.CHART_TYPE_FUNNEL||d[A].type===k.CHART_TYPE_TREEMAP){h=d[A].categories||d[A].data||d[A].nodes;for(var s=0,l=h.length;l>s;s++){if(h[s].name===m){return{type:d[A].type,series:d[A],seriesIndex:A,data:h[s],dataIndex:s}}}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(C,F,A,m,E,l,c){var G,B="#ccc"===E?c:E,D={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+l,x:C,y:F,width:A,height:m,color:E,strokeColor:E,lineWidth:2},highlightStyle:{color:B,strokeColor:B,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(l.match("image")){var G=l.replace(new RegExp("^image:\\/\\/"),"");l="image"}switch(l){case"line":D.style.brushType="stroke",D.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":D.highlightStyle.lineWidth=3;break;case"k":D.style.brushType="both",D.highlightStyle.lineWidth=3,D.highlightStyle.color=D.style.color=this.deepQuery([this.ecTheme,k],"k.itemStyle.normal.color")||"#fff",D.style.strokeColor="#ccc"!=E?this.deepQuery([this.ecTheme,k],"k.itemStyle.normal.lineStyle.color")||"#ff3200":E;break;case"image":D.style.iconType="image",D.style.image=G,"#ccc"===E&&(D.style.opacity=0.5)}return D},__legendSelected:function(d){var c=d.target._name;if("single"===this.legendOption.selectedMode){for(var a in this._selectedMap){this._selectedMap[a]=!1}}this._selectedMap[c]=!this._selectedMap[c],this.messageCenter.dispatch(k.EVENT.LEGEND_SELECTED,d.event,{selected:this._selectedMap,target:c},this.myChart)},__dispatchHoverLink:function(a){this.messageCenter.dispatch(k.EVENT.LEGEND_HOVERLINK,a.event,{target:a.target._name},this.myChart)},refresh:function(B){if(B){this.option=B||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var D,m,l,C,d=this.legendOption.data||[];if(this.legendOption.selected){for(var c in this.legendOption.selected){this._selectedMap[c]="undefined"!=typeof this._selectedMap[c]?this._selectedMap[c]:this.legendOption.selected[c]}}for(var E=0,A=d.length;A>E;E++){D=this._getName(d[E]),""!==D&&(m=this._getSomethingByName(D),m.series?(this._hasDataMap[D]=!0,C=!m.data||m.type!==k.CHART_TYPE_PIE&&m.type!==k.CHART_TYPE_FORCE&&m.type!==k.CHART_TYPE_FUNNEL?[m.series]:[m.data,m.series],l=this.getItemStyleColor(this.deepQuery(C,"itemStyle.normal.color"),m.seriesIndex,m.dataIndex,m.data),l&&m.type!=k.CHART_TYPE_K&&this.setColor(D,l),this._selectedMap[D]=null!=this._selectedMap[D]?this._selectedMap[D]:!0):this._hasDataMap[D]=!1)}}this.clear(),this._buildShape()},getRelatedAmount:function(A){for(var h,d=0,C=this.option.series,c=0,B=C.length;B>c;c++){if(C[c].name===A&&d++,C[c].type===k.CHART_TYPE_PIE||C[c].type===k.CHART_TYPE_RADAR||C[c].type===k.CHART_TYPE_CHORD||C[c].type===k.CHART_TYPE_FORCE||C[c].type===k.CHART_TYPE_FUNNEL){h=C[c].type!=k.CHART_TYPE_FORCE?C[c].data:C[c].categories;for(var m=0,l=h.length;l>m;m++){h[m].name===A&&"-"!=h[m].value&&d++}}}return d},setColor:function(c,a){this._colorMap[c]=a},getColor:function(a){return this._colorMap[a]||(this._colorMap[a]=this.zr.getColor(this._colorIndex++)),this._colorMap[a]},hasColor:function(a){return this._colorMap[a]?this._colorMap[a]:!1},add:function(l,h){for(var d=this.legendOption.data,m=0,c=d.length;c>m;m++){if(this._getName(d[m])===l){return}}this.legendOption.data.push(l),this.setColor(l,h),this._selectedMap[l]=!0,this._hasDataMap[l]=!0},del:function(d){for(var c=this.legendOption.data,a=0,h=c.length;h>a;a++){if(this._getName(c[a])===d){return this.legendOption.data.splice(a,1)}}},getItemShape:function(d){if(null!=d){for(var c,a=0,h=this.shapeList.length;h>a;a++){if(c=this.shapeList[a],c._name===d&&"text"!=c.type){return c}}}},setItemShape:function(l,h){for(var d,m=0,c=this.shapeList.length;c>m;m++){d=this.shapeList[m],d._name===l&&"text"!=d.type&&(this._selectedMap[l]||(h.style.color="#ccc",h.style.strokeColor="#ccc"),this.zr.modShape(d.id,h))}},isSelected:function(a){return"undefined"!=typeof this._selectedMap[a]?this._selectedMap[a]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(d,c){if("single"===this.legendOption.selectedMode){for(var a in this._selectedMap){this._selectedMap[a]=!1}}this._selectedMap[d]=c,this.messageCenter.dispatch(k.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:d},this.myChart)},onlegendSelected:function(d,c){var a=d.selected;for(var h in a){this._selectedMap[h]!=a[h]&&(c.needRefresh=!0),this._selectedMap[h]=a[h]}}};var w={line:function(d,c){var a=c.height/2;d.moveTo(c.x,c.y+a),d.lineTo(c.x+c.width,c.y+a)},pie:function(m,h){var d=h.x,o=h.y,c=h.width,l=h.height;f.prototype.buildPath(m,{x:d+c/2,y:o+l+2,r:l,r0:6,startAngle:45,endAngle:135})},eventRiver:function(l,h){var d=h.x,r=h.y,c=h.width,m=h.height;l.moveTo(d,r+m),l.bezierCurveTo(d+c,r+m,d,r+4,d+c,r+4),l.lineTo(d+c,r),l.bezierCurveTo(d,r,d+c,r+m-4,d,r+m-4),l.lineTo(d,r+m)},k:function(l,h){var d=h.x,r=h.y,c=h.width,m=h.height;z.prototype.buildPath(l,{x:d+c/2,y:[r+1,r+1,r+m-6,r+m],width:c-6})},bar:function(m,h){var d=h.x,A=h.y+1,c=h.width,s=h.height-2,l=3;m.moveTo(d+l,A),m.lineTo(d+c-l,A),m.quadraticCurveTo(d+c,A,d+c,A+l),m.lineTo(d+c,A+s-l),m.quadraticCurveTo(d+c,A+s,d+c-l,A+s),m.lineTo(d+l,A+s),m.quadraticCurveTo(d,A+s,d,A+s-l),m.lineTo(d,A+l),m.quadraticCurveTo(d,A,d+l,A)},force:function(c,a){b.prototype.iconLibrary.circle(c,a)},radar:function(F,J){var D=6,B=J.x+J.width/2,I=J.y+J.height/2,A=J.height/2,m=2*Math.PI/D,K=-Math.PI/2,C=B+A*Math.cos(K),E=I+A*Math.sin(K);F.moveTo(C,E),K+=m;for(var G=0,H=D-1;H>G;G++){F.lineTo(B+A*Math.cos(K),I+A*Math.sin(K)),K+=m}F.lineTo(C,E)}};w.chord=w.pie,w.map=w.bar;for(var j in w){b.prototype.iconLibrary["legendicon"+j]=w[j]}return q.inherits(y,p),u("../component").define("legend",y),y}),define("echarts/util/ecData",[],function(){function c(m,q,k,h,p,g,f,u){var j;return"undefined"!=typeof h&&(j=null==h.value?h:h.value),m._echartsData={_series:q,_seriesIndex:k,_data:h,_dataIndex:p,_name:g,_value:j,_special:f,_special2:u},m._echartsData}function b(h,g){var f=h._echartsData;if(!g){return f}switch(g){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return f&&f["_"+g]}return null}function a(h,g,f){switch(h._echartsData=h._echartsData||{},g){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":h._echartsData["_"+g]=f}}function d(g,f){f._echartsData={_series:g._echartsData._series,_seriesIndex:g._echartsData._seriesIndex,_data:g._echartsData._data,_dataIndex:g._echartsData._dataIndex,_name:g._echartsData._name,_value:g._echartsData._value,_special:g._echartsData._special,_special2:g._echartsData._special2}}return{pack:c,set:a,get:b,clone:d}}),define("echarts/chart",[],function(){var b={},a={};return b.define=function(c,d){return a[c]=d,b},b.get=function(c){return a[c]},b}),define("zrender/tool/color",["require","../tool/util"],function(aM){function az(a){ao=a}function aI(){ao=ae}function aE(b,a){return b=0|b,a=a||ao,a[b%a.length]}function aQ(a){aq=a}function aD(){ak=aq}function aB(){return aq}function aA(m,u,g,d,p,c,b){ad||(ad=ac.getContext());for(var v=ad.createRadialGradient(m,u,g,d,p,c),f=0,k=b.length;k>f;f++){v.addColorStop(b[f][0],b[f][1])}return v.__nonRecursion=!0,v}function aG(h,d,c,l,b){ad||(ad=ac.getContext());for(var k=ad.createLinearGradient(h,d,c,l),g=0,f=b.length;f>g;g++){k.addColorStop(b[g][0],b[g][1])}return k.__nonRecursion=!0,k}function aJ(x,A,v){x=ay(x),A=ay(A),x=aa(x),A=aa(A);for(var g=[],z=(A[0]-x[0])/v,f=(A[1]-x[1])/v,b=(A[2]-x[2])/v,B=(A[3]-x[3])/v,u=0,w=x[0],y=x[1],k=x[2],c=x[3];v>u;u++){g[u]=aO([Z(Math.floor(w),[0,255]),Z(Math.floor(y),[0,255]),Z(Math.floor(k),[0,255]),c.toFixed(4)-0],"rgba"),w+=z,y+=f,k+=b,c+=B}return w=A[0],y=A[1],k=A[2],c=A[3],g[u]=aO([w,y,k,c],"rgba"),g}function aN(g,d){var c=[],k=g.length;if(void 0===d&&(d=20),1===k){c=aJ(g[0],g[0],d)}else{if(k>1){for(var b=0,h=k-1;h>b;b++){var f=aJ(g[b],g[b+1],d);h-1>b&&f.pop(),c=c.concat(f)}}}return c}function aO(c,b){if(b=b||"rgb",c&&(3===c.length||4===c.length)){if(c=ap(c,function(d){return d>1?Math.ceil(d):d}),b.indexOf("hex")>-1){return"#"+((1<<24)+(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1)}if(b.indexOf("hs")>-1){var a=ap(c.slice(1,3),function(d){return d+"%"});c[1]=a[0],c[2]=a[1]}return b.indexOf("a")>-1?(3===c.length&&c.push(1),c[3]=Z(c[3],[0,1]),b+"("+c.slice(0,4).join(",")+")"):b+"("+c.slice(0,3).join(",")+")"}}function aF(c){c=ax(c),c.indexOf("rgba")<0&&(c=ay(c));var b=[],a=0;return c.replace(/[\d.]+/g,function(d){d=3>a?0|d:+d,b[a++]=d}),b}function aC(c,b){if(!an(c)){return c}var a=aa(c),d=a[3];return"undefined"==typeof d&&(d=1),c.indexOf("hsb")>-1?a=at(a):c.indexOf("hsl")>-1&&(a=ar(a)),b.indexOf("hsb")>-1||b.indexOf("hsv")>-1?a=am(a):b.indexOf("hsl")>-1&&(a=ai(a)),a[3]=d,aO(a,b)}function ay(a){return aC(a,"rgba")}function Q(a){return aC(a,"rgb")}function Y(a){return aC(a,"hex")}function aK(a){return aC(a,"hsva")}function aL(a){return aC(a,"hsv")}function au(a){return aC(a,"hsba")}function aP(a){return aC(a,"hsb")}function aR(a){return aC(a,"hsla")}function av(a){return aC(a,"hsl")}function aH(b){for(var a in al){if(Y(al[a])===Y(b)){return a}}return null}function ax(a){return String(a).replace(/\s+/g,"")}function ag(c){if(al[c]&&(c=al[c]),c=ax(c),c=c.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(c)){c=parseInt(c.slice(1),16);var b=(3840&c)<<8,a=(240&c)<<4,d=15&c;c="#"+((1<<24)+(b<<4)+b+(a<<4)+a+(d<<4)+d).toString(16).slice(1)}return c}function aw(f,d){if(!an(f)){return f}var c=d>0?1:-1;"undefined"==typeof d&&(d=0),d=Math.abs(d)>1?1:Math.abs(d),f=Q(f);for(var g=aa(f),b=0;3>b;b++){g[b]=1===c?g[b]*(1-d)|0:(255-g[b])*d+g[b]|0}return"rgb("+g.join(",")+")"}function q(b){if(!an(b)){return b}var a=aa(ay(b));return a=ap(a,function(c){return 255-c}),aO(a,"rgb")}function j(v,y,p){if(!an(v)||!an(y)){return v}"undefined"==typeof p&&(p=0.5),p=1-Z(p,[0,1]);for(var f=2*p-1,x=aa(ay(v)),c=aa(ay(y)),b=x[3]-c[3],z=((f*b===-1?f:(f+b)/(1+f*b))+1)/2,k=1-z,u=[],w=0;3>w;w++){u[w]=x[w]*z+c[w]*k}var g=x[3]*p+c[3]*(1-p);return g=Math.max(0,Math.min(1,g)),1===x[3]&&1===c[3]?aO(u,"rgb"):(u[3]=g,aO(u,"rgba"))}function aj(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function aa(p){p=ag(p);var w=p.match(ab);if(null===w){throw new Error("The color format error")}var k,f,v,c=[];if(w[2]){k=w[2].replace("#","").split(""),v=[k[0]+k[1],k[2]+k[3],k[4]+k[5]],c=ap(v,function(a){return Z(parseInt(a,16),[0,255])})}else{if(w[4]){var b=w[4].split(",");f=b[3],v=b.slice(0,3),c=ap(v,function(a){return a=Math.floor(a.indexOf("%")>0?2.55*parseInt(a,0):a),Z(a,[0,255])}),"undefined"!=typeof f&&c.push(Z(parseFloat(f),[0,1]))}else{if(w[5]||w[6]){var x=(w[5]||w[6]).split(","),g=parseInt(x[0],0)/360,m=x[1],u=x[2];f=x[3],c=ap([m,u],function(a){return Z(parseFloat(a)/100,[0,1])}),c.unshift(g),"undefined"!=typeof f&&c.push(Z(parseFloat(f),[0,1]))}}}return c}function ah(c,b){if(!an(c)){return c}null===b&&(b=1);var a=aa(ay(c));return a[3]=Z(Number(b).toFixed(4),[0,1]),aO(a,"rgba")}function ap(c,b){if("function"!=typeof b){throw new TypeError}for(var a=c?c.length:0,d=0;a>d;d++){c[d]=b(c[d])}return c}function Z(b,a){return b<=a[0]?b=a[0]:b>=a[1]&&(b=a[1]),b}function an(a){return a instanceof Array||"string"==typeof a}function at(z){var E,x,k,C=z[0],g=z[1],b=z[2];if(0===g){E=255*b,x=255*b,k=255*b}else{var F=6*C;6===F&&(F=0);var w=0|F,y=b*(1-g),A=b*(1-g*(F-w)),B=b*(1-g*(1-(F-w))),v=0,f=0,D=0;0===w?(v=b,f=B,D=y):1===w?(v=A,f=b,D=y):2===w?(v=y,f=b,D=B):3===w?(v=y,f=A,D=b):4===w?(v=B,f=y,D=b):(v=b,f=y,D=A),E=255*v,x=255*f,k=255*D}return[E,x,k]}function ar(h){var m,g,d,k=h[0],c=h[1],b=h[2];if(0===c){m=255*b,g=255*b,d=255*b}else{var p;p=0.5>b?b*(1+c):b+c-c*b;var f=2*b-p;m=255*af(f,p,k+1/3),g=255*af(f,p,k),d=255*af(f,p,k-1/3)}return[m,g,d]}function af(c,b,a){return 0>a&&(a+=1),a>1&&(a-=1),1>6*a?c+6*(b-c)*a:1>2*a?b:2>3*a?c+(b-c)*(2/3-a)*6:c}function am(w){var A,u,g=w[0]/255,z=w[1]/255,f=w[2]/255,b=Math.min(g,z,f),B=Math.max(g,z,f),p=B-b,v=B;if(0===p){A=0,u=0}else{u=p/B;var x=((B-g)/6+p/2)/p,y=((B-z)/6+p/2)/p,k=((B-f)/6+p/2)/p;g===B?A=k-y:z===B?A=1/3+x-k:f===B&&(A=2/3+y-x),0>A&&(A+=1),A>1&&(A-=1)}return A=360*A,u=100*u,v=100*v,[A,u,v]}function ai(w){var A,u,g=w[0]/255,z=w[1]/255,f=w[2]/255,b=Math.min(g,z,f),B=Math.max(g,z,f),p=B-b,v=(B+b)/2;if(0===p){A=0,u=0}else{u=0.5>v?p/(B+b):p/(2-B-b);var x=((B-g)/6+p/2)/p,y=((B-z)/6+p/2)/p,k=((B-f)/6+p/2)/p;g===B?A=k-y:z===B?A=1/3+x-k:f===B&&(A=2/3+y-x),0>A&&(A+=1),A>1&&(A-=1)}return A=360*A,u=100*u,v=100*v,[A,u,v]}var ad,ac=aM("../tool/util"),ao=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],ae=ao,aq="rgba(255,255,0,0.5)",ak=aq,ab=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,al={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:az,resetPalette:aI,getColor:aE,getHighlightColor:aB,customHighlight:aQ,resetHighlight:aD,getRadialGradient:aA,getLinearGradient:aG,getGradientColors:aN,getStepColors:aJ,reverse:q,mix:j,lift:aw,trim:ax,random:aj,toRGB:Q,toRGBA:ay,toHex:Y,toHSL:av,toHSLA:aR,toHSB:aP,toHSBA:au,toHSV:aL,toHSVA:aK,toName:aH,toColor:aO,toArray:aF,alpha:ah,getData:aa}}),define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(m){function u(s,l,h,d,w){f.call(this,s,l,h,d,w);var n=this;if(n._onclick=function(a){return n.__onclick(a)},n._ondrift=function(i,a){return n.__ondrift(this,i,a)},n._ondragend=function(){return n.__ondragend()},n._setCurrentOption=function(){var i=n.timelineOption;n.currentIndex%=i.data.length;var a=n.options[n.currentIndex]||{};n.myChart._setOption(a,i.notMerge,!0),n.messageCenter.dispatch(v.EVENT.TIMELINE_CHANGED,null,{currentIndex:n.currentIndex,data:null!=i.data[n.currentIndex].name?i.data[n.currentIndex].name:i.data[n.currentIndex]},n.myChart)},n._onFrame=function(){n._setCurrentOption(),n._syncHandleShape(),n.timelineOption.autoPlay&&(n.playTicket=setTimeout(function(){return n.currentIndex+=1,!n.timelineOption.loop&&n.currentIndex>=n.timelineOption.data.length?(n.currentIndex=n.timelineOption.data.length-1,void n.stop()):void n._onFrame()},n.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=g.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var n=this;this.playTicket=setTimeout(function(){n.play()},null!=this.ecTheme.animationDuration?this.ecTheme.animationDuration:v.animationDuration)}}function j(A,D){var y=2,w=D.x+y,C=D.y+y+2,o=D.width-y,E=D.height-y,x=D.symbol;if("last"===x){A.moveTo(w+o-2,C+E/3),A.lineTo(w+o-2,C),A.lineTo(w+2,C+E/2),A.lineTo(w+o-2,C+E),A.lineTo(w+o-2,C+E/3*2),A.moveTo(w,C),A.lineTo(w,C)}else{if("next"===x){A.moveTo(w+2,C+E/3),A.lineTo(w+2,C),A.lineTo(w+o-2,C+E/2),A.lineTo(w+2,C+E),A.lineTo(w+2,C+E/3*2),A.moveTo(w,C),A.lineTo(w,C)}else{if("play"===x){if("stop"===D.status){A.moveTo(w+2,C),A.lineTo(w+o-2,C+E/2),A.lineTo(w+2,C+E),A.lineTo(w+2,C)}else{var z="both"===D.brushType?2:3;A.rect(w+2,C,z,E),A.rect(w+o-z-2,C,z,E)}}else{if(x.match("image")){var B="";B=x.replace(new RegExp("^image:\\/\\/"),""),x=c.prototype.iconLibrary.image,x(A,{x:w,y:C,width:o,height:E,image:B})}}}}}var f=m("./base"),q=m("zrender/shape/Rectangle"),c=m("../util/shape/Icon"),b=m("../util/shape/Chain"),v=m("../config");v.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2000,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var g=m("zrender/tool/util"),k=m("zrender/tool/area"),p=m("zrender/tool/event");return u.prototype={type:v.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show){for(var h=this._getInterval(),d=0,a=this._chainPoint.length;a>d;d+=h){this._chainPoint[d].showLabel=!0}}this._buildChain(),this._buildHandle();for(var d=0,l=this.shapeList.length;l>d;d++){this.zr.addShape(this.shapeList[d])}},_getLocation:function(){var B,D=this.timelineOption,z=this.reformCssArray(this.timelineOption.padding),x=this.zr.getWidth(),C=this.parsePercent(D.x,x),w=this.parsePercent(D.x2,x);null==D.width?(B=x-C-w,w=x-w):(B=this.parsePercent(D.width,x),w=C+B);var d,E,y=this.zr.getHeight(),A=this.parsePercent(D.height,y);return null!=D.y?(d=this.parsePercent(D.y,y),E=d+A):(E=y-this.parsePercent(D.y2,y),d=E-A),{x:C+z[3],y:d+z[0],x2:w-z[1],y2:E-z[2],width:B-z[1]-z[3],height:A-z[0]-z[2]}},_getReformedLabel:function(h){var d=this.timelineOption,a=null!=d.data[h].name?d.data[h].name:d.data[h],l=d.data[h].formatter||d.label.formatter;return l&&("function"==typeof l?a=l.call(this.myChart,a):"string"==typeof l&&(a=l.replace("{value}",a))),a},_getInterval:function(){var C=this._chainPoint,G=this.timelineOption,B=G.label.interval;if("auto"===B){var y=G.label.textStyle.fontSize,F=G.data,x=G.data.length;if(x>3){var h,H,A=!1;for(B=0;!A&&x>B;){B++,A=!0;for(var D=B;x>D;D+=B){if(h=C[D].x-C[D-B].x,0!==G.label.rotate){H=y}else{if(F[D].textStyle){H=k.getTextWidth(C[D].name,C[D].textFont)}else{var E=C[D].name+"",z=(E.match(/\w/g)||"").length,w=E.length-z;H=z*y*2/3+w*y}}if(H>h){A=!1;break}}}}else{B=1}}else{B=B-0+1}return B},_getChainPoint:function(){function N(a){return null!=K[a].name?K[a].name:K[a]+""}var C,J=this.timelineOption,H=J.symbol.toLowerCase(),R=J.symbolSize,G=J.label.rotate,E=J.label.textStyle,D=this.getFont(E),K=J.data,O=this._location.x,P=this._location.y+this._location.height/4*3,I=this._location.x2-this._location.x,F=K.length,B=[];if(F>1){var l=I/F;if(l=l>50?50:20>l?5:l,I-=2*l,"number"===J.type){for(var w=0;F>w;w++){B.push(O+l+I/(F-1)*w)}}else{B[0]=new Date(N(0).replace(/-/g,"/")),B[F-1]=new Date(N(F-1).replace(/-/g,"/"))-B[0];for(var w=1;F>w;w++){B[w]=O+l+I*(new Date(N(w).replace(/-/g,"/"))-B[0])/B[F-1]}B[0]=O+l}}else{B.push(O+I/2)}for(var L,M,z,Q,S,A=[],w=0;F>w;w++){O=B[w],L=K[w].symbol&&K[w].symbol.toLowerCase()||H,L.match("empty")?(L=L.replace("empty",""),z=!0):z=!1,L.match("star")&&(M=L.replace("star","")-0||5,L="star"),C=K[w].textStyle?g.merge(K[w].textStyle||{},E):E,Q=C.align||"center",G?(Q=G>0?"right":"left",S=[G*Math.PI/180,O,P-5]):S=!1,A.push({x:O,n:M,isEmpty:z,symbol:L,symbolSize:K[w].symbolSize||R,color:K[w].color,borderColor:K[w].borderColor,borderWidth:K[w].borderWidth,name:this._getReformedLabel(w),textColor:C.color,textAlign:Q,textBaseline:C.baseline||"middle",textX:O,textY:P-(G?5:0),textFont:K[w].textStyle?this.getFont(C):D,rotation:S,showLabel:!1})}return A},_buildBackground:function(){var h=this.timelineOption,d=this.reformCssArray(this.timelineOption.padding),a=this._location.width,l=this._location.height;(0!==h.borderWidth||"rgba(0,0,0,0)"!=h.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new q({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-d[3],y:this._location.y-d[0],width:a+d[1]+d[3],height:l+d[0]+d[2],brushType:0===h.borderWidth?"fill":"both",color:h.backgroundColor,strokeColor:h.borderColor,lineWidth:h.borderWidth}}))},_buildControl:function(){var y=this,B=this.timelineOption,w=B.lineStyle,o=B.controlStyle;if("none"!==B.controlPosition){var A,l=o.itemSize,C=o.itemGap;"left"===B.controlPosition?(A=this._location.x,this._location.x+=3*(l+C)):(A=this._location.x2-(3*(l+C)-C),this._location.x2-=3*(l+C));var x=this._location.y,z={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:A,y:x,width:l,height:l,brushType:"stroke",color:o.normal.color,strokeColor:o.normal.color,lineWidth:w.width},highlightStyle:{color:o.emphasis.color,strokeColor:o.emphasis.color,lineWidth:w.width+1},clickable:!0};this._ctrLastShape=new c(z),this._ctrLastShape.onclick=function(){y.last()},this.shapeList.push(this._ctrLastShape),A+=l+C,this._ctrPlayShape=new c(g.clone(z)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=A,this._ctrPlayShape.onclick=function(){"stop"===y._ctrPlayShape.style.status?y.play():y.stop()},this.shapeList.push(this._ctrPlayShape),A+=l+C,this._ctrNextShape=new c(g.clone(z)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=A,this._ctrNextShape.onclick=function(){y.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var d=this.timelineOption,a=d.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,a.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:a.color,lineWidth:a.width,lineType:a.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new b(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var d=this._chainPoint[this.currentIndex],a=d.symbolSize+1;a=5>a?5:a,this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:d.n,x:d.x-a,y:this._location.y+this._location.height/4-a,width:2*a,height:2*a,brushType:"both",textPosition:"specific",textX:d.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new c(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var h=this.timelineOption,d=h.checkpointStyle,a=this._chainPoint[this.currentIndex];this._handleShape.style.text=d.label.show?a.name:"",this._handleShape.style.textFont=a.textFont,this._handleShape.style.n=a.n,"auto"===d.symbol?this._handleShape.style.iconType="none"!=a.symbol?a.symbol:"diamond":(this._handleShape.style.iconType=d.symbol,d.symbol.match("star")&&(this._handleShape.style.n=d.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var l;"auto"===d.symbolSize?(l=a.symbolSize+2,l=5>l?5:l):l=d.symbolSize-0,this._handleShape.style.color="auto"===d.color?a.color?a.color:h.controlStyle.emphasis.color:d.color,this._handleShape.style.textColor="auto"===d.label.textStyle.color?this._handleShape.style.color:d.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===d.borderColor?a.borderColor?a.borderColor:"#fff":d.borderColor,this._handleShape.style.lineWidth="auto"===d.borderWidth?a.borderWidth?a.borderWidth:0:d.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:a.x-l,textX:a.x,y:this._location.y+this._location.height/4-l,width:2*l,height:2*l}).start("ExponentialOut")}},_findChainIndex:function(h){var d=this._chainPoint,a=d.length;if(h<=d[0].x){return 0}if(h>=d[a-1].x){return a-1}for(var l=0;a-1>l;l++){if(h>=d[l].x&&h<=d[l+1].x){return Math.abs(h-d[l].x)<Math.abs(h-d[l+1].x)?l:l+1}}},__onclick:function(h){var d=p.getX(h.event),a=this._findChainIndex(d);return a===this.currentIndex?!0:(this.currentIndex=a,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(y,l){this.timelineOption.autoPlay&&this.stop();var h,A=this._chainPoint,d=A.length;y.style.x+l<=A[0].x-A[0].symbolSize?(y.style.x=A[0].x-A[0].symbolSize,h=0):y.style.x+l>=A[d-1].x-A[d-1].symbolSize?(y.style.x=A[d-1].x-A[d-1].symbolSize,h=d-1):(y.style.x+=l,h=this._findChainIndex(y.style.x));var z=A[h],x=z.symbolSize+2;if(y.style.iconType=z.symbol,y.style.n=z.n,y.style.textX=y.style.x+x/2,y.style.y=this._location.y+this._location.height/4-x,y.style.width=2*x,y.style.height=2*x,y.style.text=z.name,h===this.currentIndex){return !0}if(this.currentIndex=h,this.timelineOption.realtime){clearTimeout(this.playTicket);var w=this;this.playTicket=setTimeout(function(){w._setCurrentOption()},200)}return !0},__ondragend:function(){this.isDragend=!0},ondragend:function(d,a){this.isDragend&&d.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),a.dragOut=!0,a.dragIn=!0,a.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(d,a){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=null!=a?a:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=d?d:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(a){this.timelineOption=this.reformOption(g.clone(this.option.timeline)),this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle),this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&a&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},c.prototype.iconLibrary.timelineControl=j,g.inherits(u,f),m("../component").define("timeline",u),u}),define("zrender/shape/Image",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"image",brush:function(y,D,w){var k=this.style||{};D&&(k=this.getHighlightStyle(k,this.highlightStyle||{}));var B=k.image,j=this;if(this._imageCache||(this._imageCache={}),"string"==typeof B){var f=B;this._imageCache[f]?B=this._imageCache[f]:(B=new Image,B.onload=function(){B.onload=null,j.modSelf(),w()},B.src=f,this._imageCache[f]=B)}if(B){if("IMG"==B.nodeName.toUpperCase()){if(window.ActiveXObject){if("complete"!=B.readyState){return}}else{if(!B.complete){return}}}var E=k.width||B.width,v=k.height||B.height,x=k.x,z=k.y;if(!B.width||!B.height){return}if(y.save(),this.doClip(y),this.setContext(y,k),this.setTransform(y),k.sWidth&&k.sHeight){var A=k.sx||0,q=k.sy||0;y.drawImage(B,A,q,k.sWidth,k.sHeight,x,z,E,v)}else{if(k.sx&&k.sy){var A=k.sx,q=k.sy,g=E-A,C=v-q;y.drawImage(B,A,q,g,C,x,z,E,v)}else{y.drawImage(B,x,z,E,v)}}k.width||(k.width=E),k.height||(k.height=v),this.style.width||(this.style.width=E),this.style.height||(this.style.height=v),this.drawText(y,k,this.style),y.restore()}},getRect:function(d){return{x:d.x,y:d.y,width:d.width,height:d.height}},clearCache:function(){this._imageCache={}}},c("../tool/util").inherits(a,b),a}),define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(f){function d(a){c.call(this,a)}var c=f("./Base"),h=f("../tool/util"),b=f("../tool/color"),g=f("../shape/Rectangle");return h.inherits(d,c),d.prototype._start=function(p,k){var j=h.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),o=this.createTextShape(j.textStyle),n=this.createBackgroundShape(j.backgroundColor),a=j.effectOption,m=new g({highlightStyle:h.clone(a)});return m.highlightStyle.color=a.color||b.getLinearGradient(a.x,a.y,a.x+a.width,a.y+a.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]),null!=j.progress?(p(n),m.highlightStyle.width=this.adjust(j.progress,[0,1])*j.effectOption.width,p(m),p(o),void k()):(m.highlightStyle.width=0,setInterval(function(){p(n),m.highlightStyle.width<a.width?m.highlightStyle.width+=8:m.highlightStyle.width=0,p(m),p(o),k()},a.timeInterval))},d}),define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(f){function d(a){c.call(this,a)}var c=f("./Base"),h=f("../tool/util"),b=f("../tool/color"),g=f("../shape/Circle");return h.inherits(d,c),d.prototype._start=function(x,B){for(var v=h.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),a=this.createTextShape(v.textStyle),C=this.createBackgroundShape(v.backgroundColor),q=v.effect,w=q.n,y=q.brushType,z=q.lineWidth,n=[],j=this.canvasWidth,A=this.canvasHeight,k=0;w>k;k++){var o="random"==q.color?b.alpha(b.random(),0.3):q.color;n[k]=new g({highlightStyle:{x:Math.ceil(Math.random()*j),y:Math.ceil(Math.random()*A),r:Math.ceil(40*Math.random()),brushType:y,color:o,strokeColor:o,lineWidth:z},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){x(C);for(var e=0;w>e;e++){var l=n[e].highlightStyle;l.y-n[e].animationY+l.r<=0&&(n[e].highlightStyle.y=A+l.r,n[e].highlightStyle.x=Math.ceil(Math.random()*j)),n[e].highlightStyle.y-=n[e].animationY,x(n[e])}x(a),B()},q.timeInterval)},d}),define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(f){function d(a){c.call(this,a)}var c=f("./Base"),h=f("../tool/util"),b=f("../tool/color"),g=f("../shape/Line");return h.inherits(d,c),d.prototype._start=function(z,D){for(var v=h.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),a=this.createTextShape(v.textStyle),E=this.createBackgroundShape(v.backgroundColor),q=v.effectOption,w=q.n,A=q.lineWidth,B=[],n=this.canvasWidth,j=this.canvasHeight,C=0;w>C;C++){var k=-Math.ceil(1000*Math.random()),o=Math.ceil(400*Math.random()),x=Math.ceil(Math.random()*j),y="random"==q.color?b.random():q.color;B[C]=new g({highlightStyle:{xStart:k,yStart:x,xEnd:k+o,yEnd:x,strokeColor:y,lineWidth:A},animationX:Math.ceil(100*Math.random()),len:o})}return setInterval(function(){z(E);for(var e=0;w>e;e++){var l=B[e].highlightStyle;l.xStart>=n&&(B[e].len=Math.ceil(400*Math.random()),l.xStart=-400,l.xEnd=-400+B[e].len,l.yStart=Math.ceil(Math.random()*j),l.yEnd=l.yStart),l.xStart+=B[e].animationX,l.xEnd+=B[e].animationX,z(B[e])}z(a),D()},q.timeInterval)},d}),define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(g){function d(a){c.call(this,a)}var c=g("./Base"),j=g("../tool/util"),b=g("../tool/color"),h=g("../shape/Ring"),f=g("../shape/Sector");return j.inherits(d,c),d.prototype._start=function(H,v){var D=j.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),w=D.effect,B=D.textStyle;null==B.x&&(B.x=w.x),null==B.y&&(B.y=w.y+(w.r0+w.r)/2-5);for(var E=this.createTextShape(D.textStyle),I=this.createBackgroundShape(D.backgroundColor),J=w.x,A=w.y,z=w.r0+6,r=w.r-6,a=w.color,n=b.lift(a,0.1),F=new h({highlightStyle:j.clone(w)}),G=[],o=b.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),K=15,L=240,q=0;16>q;q++){G.push(new f({highlightStyle:{x:J,y:A,r0:z,r:r,startAngle:L-K,endAngle:L,brushType:"fill",color:n},_color:b.getLinearGradient(J+z*Math.cos(L,!0),A-z*Math.sin(L,!0),J+z*Math.cos(L-K,!0),A-z*Math.sin(L-K,!0),[[0,o[2*q]],[1,o[2*q+1]]])})),L-=K}L=360;for(var q=0;4>q;q++){G.push(new f({highlightStyle:{x:J,y:A,r0:z,r:r,startAngle:L-K,endAngle:L,brushType:"fill",color:n},_color:b.getLinearGradient(J+z*Math.cos(L,!0),A-z*Math.sin(L,!0),J+z*Math.cos(L-K,!0),A-z*Math.sin(L-K,!0),[[0,o[2*q+32]],[1,o[2*q+33]]])})),L-=K}var C=0;if(null!=D.progress){H(I),C=100*this.adjust(D.progress,[0,1]).toFixed(2)/5,F.highlightStyle.text=5*C+"%",H(F);for(var q=0;20>q;q++){G[q].highlightStyle.color=C>q?G[q]._color:n,H(G[q])}return H(E),void v()}return setInterval(function(){H(I),C+=C>=20?-20:1,H(F);for(var e=0;20>e;e++){G[e].highlightStyle.color=C>e?G[e]._color:n,H(G[e])}H(E),v()},w.timeInterval)},d}),define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(g){function d(a){c.call(this,a)}var c=g("./Base"),j=g("../tool/util"),b=g("../tool/color"),h=g("../tool/area"),f=g("../shape/Sector");return j.inherits(d,c),d.prototype._start=function(H,v){var D=j.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),w=this.createTextShape(D.textStyle),B=10,E=h.getTextWidth(w.highlightStyle.text,w.highlightStyle.textFont),I=h.getTextHeight(w.highlightStyle.text,w.highlightStyle.textFont),J=j.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),A=this.getLocation(this.options.textStyle,E+B+2*J.r,Math.max(2*J.r,I));J.x=A.x+J.r,J.y=w.highlightStyle.y=A.y+A.height/2,w.highlightStyle.x=J.x+J.r+B;for(var z=this.createBackgroundShape(D.backgroundColor),r=J.n,a=J.x,n=J.y,F=J.r0,G=J.r,o=J.color,K=[],L=Math.round(180/r),q=0;r>q;q++){K[q]=new f({highlightStyle:{x:a,y:n,r0:F,r:G,startAngle:L*q*2,endAngle:L*q*2+L,color:b.alpha(o,(q+1)/r),brushType:"fill"}})}var C=[0,a,n];return setInterval(function(){H(z),C[0]-=0.3;for(var e=0;r>e;e++){K[e].rotation=C,H(K[e])}H(w),v()},J.timeInterval)},d}),define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(h){function d(a){c.call(this,a)}var c=h("./Base"),k=h("../tool/util"),b=h("../tool/area"),j=h("../shape/Ring"),g=h("../shape/Droplet"),f=h("../shape/Circle");return k.inherits(d,c),d.prototype._start=function(y,C){var s=k.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),r=this.createTextShape(s.textStyle),v=10,z=b.getTextWidth(r.highlightStyle.text,r.highlightStyle.textFont),A=b.getTextHeight(r.highlightStyle.text,r.highlightStyle.textFont),o=k.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),a=this.getLocation(this.options.textStyle,z+v+2*o.r,Math.max(2*o.r,A));o.x=a.x+o.r,o.y=r.highlightStyle.y=a.y+a.height/2,r.highlightStyle.x=o.x+o.r+v;var B=this.createBackgroundShape(s.backgroundColor),n=new g({highlightStyle:{a:Math.round(o.r/2),b:Math.round(o.r-o.r/6),brushType:"fill",color:o.colorWhirl}}),q=new f({highlightStyle:{r:Math.round(o.r/6),brushType:"fill",color:o.colorIn}}),w=new j({highlightStyle:{r0:Math.round(o.r-o.r/3),r:o.r,brushType:"fill",color:o.colorOut}}),x=[0,o.x,o.y];return n.highlightStyle.x=q.highlightStyle.x=w.highlightStyle.x=x[1],n.highlightStyle.y=q.highlightStyle.y=w.highlightStyle.y=x[2],setInterval(function(){y(B),y(w),x[0]-=0.3,n.rotation=x,y(n),y(q),y(r),C()},o.timeInterval)},d}),define("echarts/theme/macarons",[],function(){var a={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a}),define("echarts/theme/infographic",[],function(){var a={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a}),define("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){function aU(){return this.context_||(this.context_=new aX(this))}function aG(c,b){var a=ak.call(arguments,2);return function(){return c.apply(b,a.concat(ak.call(arguments)))}}function aQ(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aM(c,b,a){c.namespaces[b]||c.namespaces.add(b,a,"#default#VML")}function aY(b){if(aM(b,"g_vml_","urn:schemas-microsoft-com:vml"),aM(b,"g_o_","urn:schemas-microsoft-com:office:office"),!b.styleSheets.ex_canvas_){var a=b.createStyleSheet();a.owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function aL(b){var a=b.srcElement;switch(b.propertyName){case"width":a.getContext().clearRect(),a.style.width=a.attributes.width.nodeValue+"px",a.firstChild.style.width=a.clientWidth+"px";break;case"height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+"px"}}function aI(b){var a=b.srcElement;a.firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function aH(){return[[1,0,0],[0,1,0],[0,0,1]]}function aO(g,d){for(var c=aH(),k=0;3>k;k++){for(var b=0;3>b;b++){for(var h=0,f=0;3>f;f++){h+=g[k][f]*d[f][b]}c[k][b]=h}}return c}function aR(b,a){a.fillStyle=b.fillStyle,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.lineWidth=b.lineWidth,a.miterLimit=b.miterLimit,a.shadowBlur=b.shadowBlur,a.shadowColor=b.shadowColor,a.shadowOffsetX=b.shadowOffsetX,a.shadowOffsetY=b.shadowOffsetY,a.strokeStyle=b.strokeStyle,a.globalAlpha=b.globalAlpha,a.font=b.font,a.textAlign=b.textAlign,a.textBaseline=b.textBaseline,a.scaleX_=b.scaleX_,a.scaleY_=b.scaleY_,a.lineScale_=b.lineScale_}function aV(c){var b=c.indexOf("(",3),a=c.indexOf(")",b+1),d=c.substring(b+1,a).split(",");return(4!=d.length||"a"!=c.charAt(3))&&(d[3]=1),d}function aW(a){return parseFloat(a)/100}function aN(c,b,a){return Math.min(a,Math.max(b,c))}function aK(h){var m,g,d,k,c,b;if(k=parseFloat(h[0])/360%360,0>k&&k++,c=aN(aW(h[1]),0,1),b=aN(aW(h[2]),0,1),0==c){m=g=d=b}else{var p=0.5>b?b*(1+c):b+c-b*c,f=2*b-p;m=aF(f,p,k+1/3),g=aF(f,p,k),d=aF(f,p,k-1/3)}return"#"+aw[Math.floor(255*m)]+aw[Math.floor(255*g)]+aw[Math.floor(255*d)]}function aF(c,b,a){return 0>a&&a++,a>1&&a--,1>6*a?c+6*(b-c)*a:1>2*a?b:2>3*a?c+(b-c)*(2/3-a)*6:c}function ad(f){if(f in ah){return ah[f]}var d,c=1;if(f=String(f),"#"==f.charAt(0)){d=f}else{if(/^rgb/.test(f)){for(var h,b=aV(f),d="#",g=0;3>g;g++){h=-1!=b[g].indexOf("%")?Math.floor(255*aW(b[g])):+b[g],d+=aw[aN(h,0,255)]}c=+b[3]}else{if(/^hsl/.test(f)){var b=aV(f);d=aK(b),c=b[3]}else{d=ar[f]||f}}}return ah[f]={color:d,alpha:c}}function ae(f){if(aa[f]){return aa[f]}var d,c=document.createElement("div"),g=c.style;try{g.font=f,d=g.fontFamily.split(",")[0]}catch(b){}return aa[f]={style:g.fontStyle||at.style,variant:g.fontVariant||at.variant,weight:g.fontWeight||at.weight,size:g.fontSize||at.size,family:d||at.family}}function aS(f,d){var c={};for(var h in f){c[h]=f[h]}var b=parseFloat(d.currentStyle.fontSize),g=parseFloat(f.size);return c.size="number"==typeof f.size?f.size:-1!=f.size.indexOf("px")?g:-1!=f.size.indexOf("em")?b*g:-1!=f.size.indexOf("%")?b/100*g:-1!=f.size.indexOf("pt")?g/0.75:b,c}function aT(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px '"+a.family+"'"}function aB(a){return j[a]||"square"}function aX(c){this.m_=aH(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*au,this.globalAlpha=1,this.font="12px 微软雅黑",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=c;var b="width:"+c.clientWidth+"px;height:"+c.clientHeight+"px;overflow:hidden;position:absolute",a=c.ownerDocument.createElement("div");a.style.cssText=b,c.appendChild(a);var d=a.cloneNode(!1);d.style.backgroundColor="#fff",d.style.filter="alpha(opacity=0)",c.appendChild(d),this.element_=a,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function aZ(c,b,a,d){c.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:a.x,cp2y:a.y,x:d.x,y:d.y}),c.currentX_=d.x,c.currentY_=d.y}function aC(f,d){var c=ad(f.strokeStyle),h=c.color,b=c.alpha*f.globalAlpha,g=f.lineScale_*f.lineWidth;1>g&&(b*=g),d.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',f.lineJoin,'"',' miterlimit="',f.miterLimit,'"',' endcap="',aB(f.lineCap),'"',' weight="',g,'px"',' color="',h,'" />')}function aP(be,a1,ba,a6){var bi=be.fillStyle,a5=be.scaleX_,a3=be.scaleY_,a2=a6.x-ba.x,a8=a6.y-ba.y;if(bi instanceof ac){var bb=0,bf={x:0,y:0},bg=0,a7=1;if("gradient"==bi.type_){var a4=bi.x0_/a5,a0=bi.y0_/a3,q=bi.x1_/a5,bc=bi.y1_/a3,bd=aE(be,a4,a0),X=aE(be,q,bc),bh=X.x-bd.x,bj=X.y-bd.y;bb=180*Math.atan2(bh,bj)/Math.PI,0>bb&&(bb+=360),0.000001>bb&&(bb=0)}else{var bd=aE(be,bi.x0_,bi.y0_);bf={x:(bd.x-ba.x)/a2,y:(bd.y-ba.y)/a8},a2/=a5*au,a8/=a3*au;var Y=ax.max(a2,a8);bg=2*bi.r0_/Y,a7=2*bi.r1_/Y-bg}var a9=bi.colors_;a9.sort(function(b,a){return b.offset-a.offset});for(var G=a9.length,Z=a9[0].color,Q=a9[G-1].color,B=a9[0].alpha*be.globalAlpha,H=a9[G-1].alpha*be.globalAlpha,v=[],R=0;G>R;R++){var W=a9[R];v.push(W.offset*a7+bg+" "+W.color)}a1.push('<g_vml_:fill type="',bi.type_,'"',' method="none" focus="100%"',' color="',Z,'"',' color2="',Q,'"',' colors="',v.join(","),'"',' opacity="',H,'"',' g_o_:opacity2="',B,'"',' angle="',bb,'"',' focusposition="',bf.x,",",bf.y,'" />')}else{if(bi instanceof ab){if(a2&&a8){var V=-ba.x,F=-ba.y;a1.push("<g_vml_:fill",' position="',V/a2*a5*a5,",",F/a8*a3*a3,'"',' type="tile"',' src="',bi.src_,'" />')}}else{var N=ad(be.fillStyle),D=N.color,C=N.alpha*be.globalAlpha;a1.push('<g_vml_:fill color="',D,'" opacity="',C,'" />')}}}function aE(c,b,a){var d=c.m_;return{x:au*(b*d[0][0]+a*d[1][0]+d[2][0])-ap,y:au*(b*d[0][1]+a*d[1][1]+d[2][1])-ap}}function an(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function aD(c,b,a){if(an(b)&&(c.m_=b,c.scaleX_=Math.sqrt(b[0][0]*b[0][0]+b[0][1]*b[0][1]),c.scaleY_=Math.sqrt(b[1][0]*b[1][0]+b[1][1]*b[1][1]),a)){var d=b[0][0]*b[1][1]-b[0][1]*b[1][0];c.lineScale_=am(az(d))}}function ac(a){this.type_=a,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function ab(b,a){switch(ag(b),a){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=a;break;default:aq("SYNTAX_ERR")}this.src_=b.src,this.width_=b.width,this.height_=b.height}function aq(a){throw new ao(a)}function ag(a){a&&1==a.nodeType&&"IMG"==a.tagName||aq("TYPE_MISMATCH_ERR"),"complete"!=a.readyState&&aq("INVALID_STATE_ERR")}function ao(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var ax=Math,af=ax.round,av=ax.sin,aA=ax.cos,az=ax.abs,am=ax.sqrt,au=10,ap=au/2,ak=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);aY(document);var aj={init:function(b){var a=b||document;a.createElement("canvas"),a.attachEvent("onreadystatechange",aG(this.init_,this,a))},init_:function(c){for(var b=c.getElementsByTagName("canvas"),a=0;a<b.length;a++){this.initElement(b[a])}},initElement:function(b){if(!b.getContext){b.getContext=aU,aY(b.ownerDocument),b.innerHTML="",b.attachEvent("onpropertychange",aL),b.attachEvent("onresize",aI);var a=b.attributes;a.width&&a.width.specified?b.style.width=a.width.nodeValue+"px":b.width=b.clientWidth,a.height&&a.height.specified?b.style.height=a.height.nodeValue+"px":b.height=b.clientHeight}return b}};aj.init();for(var aw=[],al=0;16>al;al++){for(var ay=0;16>ay;ay++){aw[16*al+ay]=al.toString(16)+ay.toString(16)}}var ar={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ah={},at={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},aa={},j={butt:"flat",round:"round"},ai=aX.prototype;ai.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},ai.beginPath=function(){this.currentPath_=[]},ai.moveTo=function(c,b){var a=aE(this,c,b);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},ai.lineTo=function(c,b){var a=aE(this,c,b);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},ai.bezierCurveTo=function(h,m,g,d,k,c){var b=aE(this,k,c),p=aE(this,h,m),f=aE(this,g,d);aZ(this,p,f,b)},ai.quadraticCurveTo=function(h,d,c,l){var b=aE(this,h,d),k=aE(this,c,l),g={x:this.currentX_+2/3*(b.x-this.currentX_),y:this.currentY_+2/3*(b.y-this.currentY_)},f={x:g.x+(k.x-this.currentX_)/3,y:g.y+(k.y-this.currentY_)/3};aZ(this,g,f,k)},ai.arc=function(x,B,v,k,A,g){v*=au;var b=g?"at":"wa",C=x+aA(k)*v-ap,u=B+av(k)*v-ap,w=x+aA(A)*v-ap,y=B+av(A)*v-ap;C!=w||g||(C+=0.125);var z=aE(this,x,B),q=aE(this,C,u),f=aE(this,w,y);this.currentPath_.push({type:b,x:z.x,y:z.y,radius:v,xStart:q.x,yStart:q.y,xEnd:f.x,yEnd:f.y})},ai.rect=function(c,b,a,d){this.moveTo(c,b),this.lineTo(c+a,b),this.lineTo(c+a,b+d),this.lineTo(c,b+d),this.closePath()},ai.strokeRect=function(f,d,c,g){var b=this.currentPath_;this.beginPath(),this.moveTo(f,d),this.lineTo(f+c,d),this.lineTo(f+c,d+g),this.lineTo(f,d+g),this.closePath(),this.stroke(),this.currentPath_=b},ai.fillRect=function(f,d,c,g){var b=this.currentPath_;this.beginPath(),this.moveTo(f,d),this.lineTo(f+c,d),this.lineTo(f+c,d+g),this.lineTo(f,d+g),this.closePath(),this.fill(),this.currentPath_=b},ai.createLinearGradient=function(f,d,c,g){var b=new ac("gradient");return b.x0_=f,b.y0_=d,b.x1_=c,b.y1_=g,b},ai.createRadialGradient=function(g,d,c,k,b,h){var f=new ac("gradientradial");return f.x0_=g,f.y0_=d,f.r0_=c,f.x1_=k,f.y1_=b,f.r1_=h,f},ai.drawImage=function(O){var B,K,G,S,F,D,C,I,L=O.runtimeStyle.width,P=O.runtimeStyle.height;O.runtimeStyle.width="auto",O.runtimeStyle.height="auto";var Q=O.width,H=O.height;if(O.runtimeStyle.width=L,O.runtimeStyle.height=P,3==arguments.length){B=arguments[1],K=arguments[2],F=D=0,C=G=Q,I=S=H}else{if(5==arguments.length){B=arguments[1],K=arguments[2],G=arguments[3],S=arguments[4],F=D=0,C=Q,I=H}else{if(9!=arguments.length){throw Error("Invalid number of arguments")}F=arguments[1],D=arguments[2],C=arguments[3],I=arguments[4],B=arguments[5],K=arguments[6],G=arguments[7],S=arguments[8]}}var E=aE(this,B,K),A=[],q=10,v=10,M=w=1;if(A.push(" <g_vml_:group",' coordsize="',au*q,",",au*v,'"',' coordorigin="0,0"',' style="width:',q,"px;height:",v,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var N=[],M=this.scaleX_,w=this.scaleY_;N.push("M11=",this.m_[0][0]/M,",","M12=",this.m_[1][0]/w,",","M21=",this.m_[0][1]/M,",","M22=",this.m_[1][1]/w,",","Dx=",af(E.x/au),",","Dy=",af(E.y/au),"");var R=E,T=aE(this,B+G,K),z=aE(this,B,K+S),J=aE(this,B+G,K+S);R.x=ax.max(R.x,T.x,z.x,J.x),R.y=ax.max(R.y,T.y,z.y,J.y),A.push("padding:0 ",af(R.x/au),"px ",af(R.y/au),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",N.join(""),", SizingMethod='clip');")}else{A.push("top:",af(E.y/au),"px;left:",af(E.x/au),"px;")}A.push(' ">'),(F||D)&&A.push('<div style="overflow: hidden; width:',Math.ceil((G+F*G/C)*M),"px;"," height:",Math.ceil((S+D*S/I)*w),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-F*G/C*M,",Dy=",-D*S/I*w,');">'),A.push('<div style="width:',Math.round(M*Q*G/C),"px;"," height:",Math.round(w*H*S/I),"px;"," filter:"),this.globalAlpha<1&&A.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),A.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",O.src,',sizingMethod=scale)">'),(F||D)&&A.push("</div>"),A.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",A.join(""))},ai.stroke=function(h){var m=[],g=10,d=10;m.push("<g_vml_:shape",' filled="',!!h,'"',' style="position:absolute;width:',g,"px;height:",d,'px;"',' coordorigin="0,0"',' coordsize="',au*g,",",au*d,'"',' stroked="',!h,'"',' path="');for(var k={x:null,y:null},c={x:null,y:null},b=0;b<this.currentPath_.length;b++){var p,f=this.currentPath_[b];switch(f.type){case"moveTo":p=f,m.push(" m ",af(f.x),",",af(f.y));break;case"lineTo":m.push(" l ",af(f.x),",",af(f.y));break;case"close":m.push(" x "),f=null;break;case"bezierCurveTo":m.push(" c ",af(f.cp1x),",",af(f.cp1y),",",af(f.cp2x),",",af(f.cp2y),",",af(f.x),",",af(f.y));break;case"at":case"wa":m.push(" ",f.type," ",af(f.x-this.scaleX_*f.radius),",",af(f.y-this.scaleY_*f.radius)," ",af(f.x+this.scaleX_*f.radius),",",af(f.y+this.scaleY_*f.radius)," ",af(f.xStart),",",af(f.yStart)," ",af(f.xEnd),",",af(f.yEnd))}f&&((null==k.x||f.x<k.x)&&(k.x=f.x),(null==c.x||f.x>c.x)&&(c.x=f.x),(null==k.y||f.y<k.y)&&(k.y=f.y),(null==c.y||f.y>c.y)&&(c.y=f.y))}m.push(' ">'),h?aP(this,m,k,c):aC(this,m),m.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",m.join(""))},ai.fill=function(){this.stroke(!0)},ai.closePath=function(){this.currentPath_.push({type:"close"})},ai.save=function(){var a={};aR(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=aO(aH(),this.m_)},ai.restore=function(){this.aStack_.length&&(aR(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},ai.translate=function(c,b){var a=[[1,0,0],[0,1,0],[c,b,1]];aD(this,aO(a,this.m_),!1)},ai.rotate=function(c){var b=aA(c),a=av(c),d=[[b,a,0],[-a,b,0],[0,0,1]];aD(this,aO(d,this.m_),!1)},ai.scale=function(c,b){var a=[[c,0,0],[0,b,0],[0,0,1]];aD(this,aO(a,this.m_),!0)},ai.transform=function(g,d,c,k,b,h){var f=[[g,d,0],[c,k,0],[b,h,1]];aD(this,aO(f,this.m_),!0)},ai.setTransform=function(g,d,c,k,b,h){var f=[[g,d,0],[c,k,0],[b,h,1]];aD(this,f,!0)},ai.drawText_=function(D,k,z,H,x){var v=this.m_,q=1000,B=0,C=q,E={x:0,y:0},F=[],A=aS(ae(this.font),this.element_),w=aT(A),i=this.element_.currentStyle,f=this.textAlign.toLowerCase();switch(f){case"left":case"center":case"right":break;case"end":f="ltr"==i.direction?"right":"left";break;case"start":f="rtl"==i.direction?"right":"left";break;default:f="left"}switch(this.textBaseline){case"hanging":case"top":E.y=A.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":E.y=-A.size/2.25}switch(f){case"right":B=q,C=0.05;break;case"center":B=C=q/2}var g=aE(this,k+E.x,z+E.y);F.push('<g_vml_:line from="',-B,' 0" to="',C,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!x,'" stroked="',!!x,'" style="position:absolute;width:1px;height:1px;">'),x?aC(this,F):aP(this,F,{x:-B,y:0},{x:C,y:A.size});var G=v[0][0].toFixed(3)+","+v[1][0].toFixed(3)+","+v[0][1].toFixed(3)+","+v[1][1].toFixed(3)+",0,0",I=af(g.x/au)+","+af(g.y/au);F.push('<g_vml_:skew on="t" matrix="',G,'" ',' offset="',I,'" origin="',B,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',aQ(D),'" style="v-text-align:',f,";font:",aQ(w),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",F.join(""))},ai.fillText=function(c,b,a,d){this.drawText_(c,b,a,d,!1)},ai.strokeText=function(c,b,a,d){this.drawText_(c,b,a,d,!0)},ai.measureText=function(c){if(!this.textMeasureEl_){var b='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",b),this.textMeasureEl_=this.element_.lastChild}var a=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(d){}return this.textMeasureEl_.appendChild(a.createTextNode(c)),{width:this.textMeasureEl_.offsetWidth}},ai.clip=function(){},ai.arcTo=function(){},ai.createPattern=function(b,a){return new ab(b,a)},ac.prototype.addColorStop=function(b,a){a=ad(a),this.colors_.push({offset:b,color:a.color,alpha:a.alpha})};var aJ=ao.prototype=new Error;aJ.INDEX_SIZE_ERR=1,aJ.DOMSTRING_SIZE_ERR=2,aJ.HIERARCHY_REQUEST_ERR=3,aJ.WRONG_DOCUMENT_ERR=4,aJ.INVALID_CHARACTER_ERR=5,aJ.NO_DATA_ALLOWED_ERR=6,aJ.NO_MODIFICATION_ALLOWED_ERR=7,aJ.NOT_FOUND_ERR=8,aJ.NOT_SUPPORTED_ERR=9,aJ.INUSE_ATTRIBUTE_ERR=10,aJ.INVALID_STATE_ERR=11,aJ.SYNTAX_ERR=12,aJ.INVALID_MODIFICATION_ERR=13,aJ.NAMESPACE_ERR=14,aJ.INVALID_ACCESS_ERR=15,aJ.VALIDATION_ERR=16,aJ.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=aj,CanvasRenderingContext2D=aX,CanvasGradient=ac,CanvasPattern=ab,DOMException=ao}(),G_vmlCanvasManager}),define("zrender/mixin/Eventful",["require"],function(){var a=function(){this._handlers={}};return a.prototype.one=function(d,c,b){var f=this._handlers;return c&&d?(f[d]||(f[d]=[]),f[d].push({h:c,one:!0,ctx:b||this}),this):this},a.prototype.bind=function(d,c,b){var f=this._handlers;return c&&d?(f[d]||(f[d]=[]),f[d].push({h:c,one:!1,ctx:b||this}),this):this},a.prototype.unbind=function(f,d){var c=this._handlers;if(!f){return this._handlers={},this}if(d){if(c[f]){for(var h=[],b=0,g=c[f].length;g>b;b++){c[f][b].h!=d&&h.push(c[f][b])}c[f]=h}c[f]&&0===c[f].length&&delete c[f]}else{delete c[f]}return this},a.prototype.dispatch=function(f){if(this._handlers[f]){var d=arguments,c=d.length;c>3&&(d=Array.prototype.slice.call(d,1));for(var h=this._handlers[f],b=h.length,g=0;b>g;){switch(c){case 1:h[g].h.call(h[g].ctx);break;case 2:h[g].h.call(h[g].ctx,d[1]);break;case 3:h[g].h.call(h[g].ctx,d[1],d[2]);break;default:h[g].h.apply(h[g].ctx,d)}h[g].one?(h.splice(g,1),b--):g++}}return this},a.prototype.dispatchWithContext=function(g){if(this._handlers[g]){var d=arguments,c=d.length;c>4&&(d=Array.prototype.slice.call(d,1,d.length-1));for(var j=d[d.length-1],b=this._handlers[g],h=b.length,f=0;h>f;){switch(c){case 1:b[f].h.call(j);break;case 2:b[f].h.call(j,d[1]);break;case 3:b[f].h.call(j,d[1],d[2]);break;default:b[f].h.apply(j,d)}b[f].one?(b.splice(f,1),h--):f++}}return this},a}),define("zrender/tool/log",["require","../config"],function(b){var a=b("../config");return function(){if(0!==a.debugMode){if(1==a.debugMode){for(var c in arguments){throw new Error(arguments[c])}}else{if(a.debugMode>1){for(var c in arguments){console.log(arguments[c])}}}}}}),define("zrender/tool/guid",[],function(){var a=2311;return function(){return"zrender__"+a++}}),define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(E){function k(c,a){return function(d,e){return c.call(a,d,e)}}function B(c,a){return function(e,g,d){return c.call(a,e,g,d)}}function y(c){for(var a=w.length;a--;){var d=w[a];c["_"+d+"Handler"]=k(b[d],c)}}function H(h,g,d){if(this._draggingTarget&&this._draggingTarget.id==h.id||h.isSilent()){return !1}var l=this._event;if(h.isCover(g,d)){h.hoverable&&this.storage.addHover(h);for(var c=h.parent;c;){if(c.clipShape&&!c.clipShape.isCover(this._mouseX,this._mouseY)){return !1}c=c.parent}return this._lastHover!=h&&(this._processOutShape(l),this._processDragLeave(l),this._lastHover=h,this._processDragEnter(l)),this._processOverShape(l),this._processDragOver(l),this._hasfound=1,!0}return !1}var x=E("./config"),v=E("./tool/env"),q=E("./tool/event"),A=E("./tool/util"),C=E("./tool/vector"),F=E("./tool/matrix"),G=x.EVENT,z=E("./mixin/Eventful"),w=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],j=function(c){if(window.G_vmlCanvasManager){return !0}c=c||window.event;var a=c.toElement||c.relatedTarget||c.srcElement||c.target;return a&&a.className.match(x.elementClassName)},b={resize:function(a){a=a||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(G.RESIZE,a)},click:function(d,c){if(j(d)||c){d=this._zrenderEventFixed(d);var a=this._lastHover;(a&&a.clickable||!a)&&this._clickThreshold<5&&this._dispatchAgency(a,G.CLICK,d),this._mousemoveHandler(d)}},dblclick:function(d,c){if(j(d)||c){d=d||window.event,d=this._zrenderEventFixed(d);var a=this._lastHover;(a&&a.clickable||!a)&&this._clickThreshold<5&&this._dispatchAgency(a,G.DBLCLICK,d),this._mousemoveHandler(d)}},mousewheel:function(l,g){if(j(l)||g){l=this._zrenderEventFixed(l);var d=l.wheelDelta||-l.detail,p=d>0?1.1:1/1.1,c=!1,m=this._mouseX,h=this._mouseY;this.painter.eachBuildinLayer(function(n){var e=n.position;if(n.zoomable){n.__zoom=n.__zoom||1;var a=n.__zoom;a*=p,a=Math.max(Math.min(n.maxZoom,a),n.minZoom),p=a/n.__zoom,n.__zoom=a,e[0]-=(m-e[0])*(p-1),e[1]-=(h-e[1])*(p-1),n.scale[0]*=p,n.scale[1]*=p,n.dirty=!0,c=!0,q.stop(l)}}),c&&this.painter.refresh(),this._dispatchAgency(this._lastHover,G.MOUSEWHEEL,l),this._mousemoveHandler(l)}},mousemove:function(h,g){if((j(h)||g)&&!this.painter.isLoading()){h=this._zrenderEventFixed(h),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=q.getX(h),this._mouseY=q.getY(h);var d=this._mouseX-this._lastX,m=this._mouseY-this._lastY;this._processDragStart(h),this._hasfound=0,this._event=h,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(h),this._processDragLeave(h)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var c="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,d,m),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++}else{if(this._isMouseDown){var l=!1;this.painter.eachBuildinLayer(function(a){a.panable&&(c="move",a.position[0]+=d,a.position[1]+=m,l=!0,a.dirty=!0)}),l&&this.painter.refresh()}}this._draggingTarget||this._hasfound&&this._lastHover.draggable?c="move":this._hasfound&&this._lastHover.clickable&&(c="pointer"),this.root.style.cursor=c,this._dispatchAgency(this._lastHover,G.MOUSEMOVE,h),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(d,c){if(j(d)||c){d=this._zrenderEventFixed(d);var a=d.toElement||d.relatedTarget;if(a!=this.root){for(;a&&9!=a.nodeType;){if(a==this.root){return void this._mousemoveHandler(d)}a=a.parentNode}}d.zrenderX=this._lastX,d.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(d),this._processDrop(d),this._processDragEnd(d),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(G.GLOBALOUT,d)}},mousedown:function(c,a){if(j(c)||a){if(this._clickThreshold=0,2==this._lastDownButton){return this._lastDownButton=c.button,void (this._mouseDownTarget=null)}this._lastMouseDownMoment=new Date,c=this._zrenderEventFixed(c),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,G.MOUSEDOWN,c),this._lastDownButton=c.button}},mouseup:function(c,a){(j(c)||a)&&(c=this._zrenderEventFixed(c),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,G.MOUSEUP,c),this._processDrop(c),this._processDragEnd(c))},touchstart:function(c,a){(j(c)||a)&&(c=this._zrenderEventFixed(c,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(c),this._mousedownHandler(c))},touchmove:function(c,a){(j(c)||a)&&(c=this._zrenderEventFixed(c,!0),this._mousemoveHandler(c),this._isDragging&&q.stop(c))},touchend:function(d,c){if(j(d)||c){d=this._zrenderEventFixed(d,!0),this._mouseupHandler(d);var a=new Date;a-this._lastTouchMoment<G.touchClickDelay&&(this._mobileFindFixed(d),this._clickHandler(d),a-this._lastClickMoment<G.touchClickDelay/2&&(this._dblclickHandler(d),this._lastHover&&this._lastHover.clickable&&q.stop(d)),this._lastClickMoment=a),this.painter.clearHover()}}},f=function(c,a,d){z.call(this),this.root=c,this.storage=a,this.painter=d,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=B(H,this),this._domHover=d.getDomHover(),y(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),v.os.tablet||v.os.phone?(c.addEventListener("touchstart",this._touchstartHandler),c.addEventListener("touchmove",this._touchmoveHandler),c.addEventListener("touchend",this._touchendHandler)):(c.addEventListener("click",this._clickHandler),c.addEventListener("dblclick",this._dblclickHandler),c.addEventListener("mousewheel",this._mousewheelHandler),c.addEventListener("mousemove",this._mousemoveHandler),c.addEventListener("mousedown",this._mousedownHandler),c.addEventListener("mouseup",this._mouseupHandler)),c.addEventListener("DOMMouseScroll",this._mousewheelHandler),c.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),c.attachEvent("onclick",this._clickHandler),c.ondblclick=this._dblclickHandler,c.attachEvent("onmousewheel",this._mousewheelHandler),c.attachEvent("onmousemove",this._mousemoveHandler),c.attachEvent("onmouseout",this._mouseoutHandler),c.attachEvent("onmousedown",this._mousedownHandler),c.attachEvent("onmouseup",this._mouseupHandler))};f.prototype.on=function(d,c,a){return this.bind(d,c,a),this},f.prototype.un=function(c,a){return this.unbind(c,a),this},f.prototype.trigger=function(c,a){switch(c){case G.RESIZE:case G.CLICK:case G.DBLCLICK:case G.MOUSEWHEEL:case G.MOUSEMOVE:case G.MOUSEDOWN:case G.MOUSEUP:case G.MOUSEOUT:this["_"+c+"Handler"](a,!0)}},f.prototype.dispose=function(){var a=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),v.os.tablet||v.os.phone?(a.removeEventListener("touchstart",this._touchstartHandler),a.removeEventListener("touchmove",this._touchmoveHandler),a.removeEventListener("touchend",this._touchendHandler)):(a.removeEventListener("click",this._clickHandler),a.removeEventListener("dblclick",this._dblclickHandler),a.removeEventListener("mousewheel",this._mousewheelHandler),a.removeEventListener("mousemove",this._mousemoveHandler),a.removeEventListener("mousedown",this._mousedownHandler),a.removeEventListener("mouseup",this._mouseupHandler)),a.removeEventListener("DOMMouseScroll",this._mousewheelHandler),a.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),a.detachEvent("onclick",this._clickHandler),a.detachEvent("dblclick",this._dblclickHandler),a.detachEvent("onmousewheel",this._mousewheelHandler),a.detachEvent("onmousemove",this._mousemoveHandler),a.detachEvent("onmouseout",this._mouseoutHandler),a.detachEvent("onmousedown",this._mousedownHandler),a.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},f.prototype._processDragStart=function(d){var c=this._lastHover;if(this._isMouseDown&&c&&c.draggable&&!this._draggingTarget&&this._mouseDownTarget==c){if(c.dragEnableTime&&new Date-this._lastMouseDownMoment<c.dragEnableTime){return}var a=c;this._draggingTarget=a,this._isDragging=1,a.invisible=!0,this.storage.mod(a.id),this._dispatchAgency(a,G.DRAGSTART,d),this.painter.refresh()}},f.prototype._processDragEnter=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,G.DRAGENTER,a,this._draggingTarget)},f.prototype._processDragOver=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,G.DRAGOVER,a,this._draggingTarget)},f.prototype._processDragLeave=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,G.DRAGLEAVE,a,this._draggingTarget)},f.prototype._processDrop=function(a){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,G.DROP,a,this._draggingTarget))},f.prototype._processDragEnd=function(a){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,G.DRAGEND,a),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},f.prototype._processOverShape=function(a){this._dispatchAgency(this._lastHover,G.MOUSEOVER,a)},f.prototype._processOutShape=function(a){this._dispatchAgency(this._lastHover,G.MOUSEOUT,a)},f.prototype._dispatchAgency=function(m,g,d,u){var c="on"+g,p={type:g,event:d,target:m,cancelBubble:!1},l=m;for(u&&(p.dragged=u);l&&(l[c]&&(p.cancelBubble=l[c](p)),l.dispatch(g,p),l=l.parent,!p.cancelBubble);){}if(m){p.cancelBubble||this.dispatch(g,p)}else{if(!u){var h={type:g,event:d};this.dispatch(g,h),this.painter.eachOtherLayer(function(a){"function"==typeof a[c]&&a[c](h),a.dispatch&&a.dispatch(g,h)})}}},f.prototype._iterateAndFindHover=function(){var a=F.create();return function(){for(var e,d,l=this.storage.getShapeList(),c=[0,0],h=l.length-1;h>=0;h--){var g=l[h];if(e!==g.zlevel&&(d=this.painter.getLayer(g.zlevel,d),c[0]=this._mouseX,c[1]=this._mouseY,d.needTransform&&(F.invert(a,d.transform),C.applyTransform(c,c,a))),this._findHover(g,c[0],c[1])){break}}}}();var D=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return f.prototype._mobileFindFixed=function(d){this._lastHover=null,this._mouseX=d.zrenderX,this._mouseY=d.zrenderY,this._event=d,this._iterateAndFindHover();for(var c=0;!this._lastHover&&c<D.length;c++){var a=D[c];a.x&&(this._mouseX+=a.x),a.y&&(this._mouseY+=a.y),this._iterateAndFindHover()}this._lastHover&&(d.zrenderX=this._mouseX,d.zrenderY=this._mouseY)},f.prototype._zrenderEventFixed=function(h,g){if(h.zrenderFixed){return h}if(g){var d="touchend"!=h.type?h.targetTouches[0]:h.changedTouches[0];if(d){var l=this.painter._domRoot.getBoundingClientRect();h.zrenderX=d.clientX-l.left,h.zrenderY=d.clientY-l.top}}else{h=h||window.event;var c=h.toElement||h.relatedTarget||h.srcElement||h.target;c&&c!=this._domHover&&(h.zrenderX=("undefined"!=typeof h.offsetX?h.offsetX:h.layerX)+c.offsetLeft,h.zrenderY=("undefined"!=typeof h.offsetY?h.offsetY:h.layerY)+c.offsetTop)}return h.zrenderFixed=1,h},A.merge(f.prototype,z.prototype,!0),f}),define("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(k){function p(){return !1}function g(){}function d(a){return a?a.isBuildin?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}var m=k("./config"),c=k("./tool/util"),b=k("./tool/log"),q=k("./loadingEffect/Base"),f=k("./Layer"),j=function(h,a){this.root=h,h.style["-webkit-tap-highlight-color"]="transparent",h.style["-webkit-user-select"]="none",h.style["user-select"]="none",h.style["-webkit-touch-callout"]="none",this.storage=a,h.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var r=document.createElement("div");this._domRoot=r,r.style.position="relative",r.style.overflow="hidden",r.style.width=this._width+"px",r.style.height=this._height+"px",h.appendChild(r),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new q({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),this._bgDom.className=m.elementClassName,r.appendChild(this._bgDom),this._bgDom.onselectstart=p;var l=new f("_zrender_hover_",this);this._layers.hover=l,r.appendChild(l.dom),l.initContext(),l.dom.onselectstart=p,l.dom.style["-webkit-user-select"]="none",l.dom.style["user-select"]="none",l.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return j.prototype.render=function(a){return this.isLoading()&&this.hideLoading(),this.refresh(a,!0),this},j.prototype.refresh=function(s,r){var l=this.storage.getShapeList(!0);this._paintList(l,r);for(var v=0;v<this._zlevelList.length;v++){var h=this._zlevelList[v],u=this._layers[h];!u.isBuildin&&u.refresh&&u.refresh()}return"function"==typeof s&&s(),this},j.prototype._preProcessLayer=function(a){a.unusedCount++,a.updateTransform()},j.prototype._postProcessLayer=function(a){a.dirty=!1,1==a.unusedCount&&a.clear()},j.prototype._paintList=function(x,z){"undefined"==typeof z&&(z=!1),this._updateLayerStatus(x);var v,r,a;this.eachBuildinLayer(this._preProcessLayer);for(var A=0,u=x.length;u>A;A++){var w=x[A];if(r!==w.zlevel&&(v&&(v.needTransform&&a.restore(),a.flush&&a.flush()),r=w.zlevel,v=this.getLayer(r),v.isBuildin||b("ZLevel "+r+" has been used by unkown layer "+v.id),a=v.ctx,v.unusedCount=0,(v.dirty||z)&&v.clear(),v.needTransform&&(a.save(),v.setTransform(a))),(v.dirty||z)&&!w.invisible&&(!w.onbrush||w.onbrush&&!w.onbrush(a,!1))){if(m.catchBrushException){try{w.brush(a,!1,this.refreshNextFrame)}catch(y){b(y,"brush error of "+w.type,w)}}else{w.brush(a,!1,this.refreshNextFrame)}}w.__dirty=!1}v&&(v.needTransform&&a.restore(),a.flush&&a.flush()),this.eachBuildinLayer(this._postProcessLayer)},j.prototype.getLayer=function(h){var a=this._layers[h];return a||(a=new f(h,this),a.isBuildin=!0,this._layerConfig[h]&&c.merge(a,this._layerConfig[h],!0),a.updateTransform(),this.insertLayer(h,a),a.initContext()),a},j.prototype.insertLayer=function(u,n){if(this._layers[u]){return void b("ZLevel "+u+" has been used already")}if(!d(n)){return void b("Layer of zlevel "+u+" is not valid")}var l=this._zlevelList.length,h=null,v=-1;if(l>0&&u>this._zlevelList[0]){for(v=0;l-1>v&&!(this._zlevelList[v]<u&&this._zlevelList[v+1]>u);v++){}h=this._layers[this._zlevelList[v]]}this._zlevelList.splice(v+1,0,u);var r=h?h.dom:this._bgDom;r.nextSibling?r.parentNode.insertBefore(n.dom,r.nextSibling):r.parentNode.appendChild(n.dom),this._layers[u]=n},j.prototype.eachLayer=function(l,h){for(var a=0;a<this._zlevelList.length;a++){var o=this._zlevelList[a];l.call(h,this._layers[o],o)}},j.prototype.eachBuildinLayer=function(r,o){for(var l=0;l<this._zlevelList.length;l++){var s=this._zlevelList[l],h=this._layers[s];h.isBuildin&&r.call(o,h,s)}},j.prototype.eachOtherLayer=function(r,o){for(var l=0;l<this._zlevelList.length;l++){var s=this._zlevelList[l],h=this._layers[s];h.isBuildin||r.call(o,h,s)}},j.prototype.getLayers=function(){return this._layers},j.prototype._updateLayerStatus=function(x){var u=this._layers,l={};this.eachBuildinLayer(function(i,a){l[a]=i.elCount,i.elCount=0});for(var z=0,h=x.length;h>z;z++){var y=x[z],w=y.zlevel,v=u[w];if(v){if(v.elCount++,v.dirty){continue}v.dirty=y.__dirty}}this.eachBuildinLayer(function(i,a){l[a]!==i.elCount&&(i.dirty=!0)})},j.prototype.refreshShapes=function(r,o){for(var l=0,s=r.length;s>l;l++){var h=r[l];h.modSelf()}return this.refresh(o),this},j.prototype.setLoadingEffect=function(a){return this._loadingEffect=a,this},j.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},j.prototype._clearLayer=function(a){a.clear()},j.prototype.modLayer=function(l,h){if(h){this._layerConfig[l]?c.merge(this._layerConfig[l],h,!0):this._layerConfig[l]=h;var a=this._layers[l];a&&c.merge(a,this._layerConfig[l],!0)}},j.prototype.delLayer=function(h){var a=this._layers[h];a&&(this.modLayer(h,{position:a.position,rotation:a.rotation,scale:a.scale}),a.dom.parentNode.removeChild(a.dom),delete this._layers[h],this._zlevelList.splice(c.indexOf(this._zlevelList,h),1))},j.prototype.refreshHover=function(){this.clearHover();for(var l=this.storage.getHoverShapes(!0),h=0,a=l.length;a>h;h++){this._brushHover(l[h])}var o=this._layers.hover.ctx;return o.flush&&o.flush(),this.storage.delHover(),this},j.prototype.clearHover=function(){var a=this._layers.hover;return a&&a.clear(),this},j.prototype.showLoading=function(a){return this._loadingEffect&&this._loadingEffect.stop(),a&&this.setLoadingEffect(a),this._loadingEffect.start(this),this.loading=!0,this},j.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},j.prototype.isLoading=function(){return this.loading},j.prototype.resize=function(){var l=this._domRoot;l.style.display="none";var h=this._getWidth(),a=this._getHeight();if(l.style.display="",this._width!=h||a!=this._height){this._width=h,this._height=a,l.style.width=h+"px",l.style.height=a+"px";for(var o in this._layers){this._layers[o].resize(h,a)}this.refresh(null,!0)}return this},j.prototype.clearLayer=function(h){var a=this._layers[h];a&&a.clear()},j.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},j.prototype.getDomHover=function(){return this._layers.hover.dom},j.prototype.toDataURL=function(v,l,a){if(window.G_vmlCanvasManager){return null}var x=new f("image",this);this._bgDom.appendChild(x.dom),x.initContext();var w=x.ctx;x.clearColor=l||"#fff",x.clear();var u=this;this.storage.iterShape(function(i){if(!i.invisible&&(!i.onbrush||i.onbrush&&!i.onbrush(w,!1))){if(m.catchBrushException){try{i.brush(w,!1,u.refreshNextFrame)}catch(h){b(h,"brush error of "+i.type,i)}}else{i.brush(w,!1,u.refreshNextFrame)}}},{normal:"up",update:!0});var r=x.dom.toDataURL(v,a);return w=null,this._bgDom.removeChild(x.dom),r},j.prototype.getWidth=function(){return this._width},j.prototype.getHeight=function(){return this._height},j.prototype._getWidth=function(){var h=this.root,a=h.currentStyle||document.defaultView.getComputedStyle(h);return((h.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10)).toFixed(0)-0},j.prototype._getHeight=function(){var h=this.root,a=h.currentStyle||document.defaultView.getComputedStyle(h);return((h.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)).toFixed(0)-0},j.prototype._brushHover=function(l){var h=this._layers.hover.ctx;if(!l.onbrush||l.onbrush&&!l.onbrush(h,!0)){var a=this.getLayer(l.zlevel);if(a.needTransform&&(h.save(),a.setTransform(h)),m.catchBrushException){try{l.brush(h,!0,this.refreshNextFrame)}catch(o){b(o,"hoverBrush error of "+l.type,l)}}else{l.brush(h,!0,this.refreshNextFrame)}a.needTransform&&h.restore()}},j.prototype._shapeToImage=function(B,x,v,A,u){var e=document.createElement("canvas"),C=e.getContext("2d");e.style.width=v+"px",e.style.height=A+"px",e.setAttribute("width",v*u),e.setAttribute("height",A*u),C.clearRect(0,0,v*u,A*u);var w={position:x.position,rotation:x.rotation,scale:x.scale};x.position=[0,0,0],x.rotation=0,x.scale=[1,1],x&&x.brush(C,!1);var y=k("./shape/Image"),z=new y({id:B,style:{x:0,y:0,image:e}});return null!=w.position&&(z.position=x.position=w.position),null!=w.rotation&&(z.rotation=x.rotation=w.rotation),null!=w.scale&&(z.scale=x.scale=w.scale),z},j.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager){return g}var a=this;return function(h,e,r,l){return a._shapeToImage(h,e,r,l,m.devicePixelRatio)}},j}),define("zrender/Storage",["require","./tool/util","./Group"],function(f){function d(i,a){return i.zlevel==a.zlevel?i.z==a.z?i.__renderidx-a.__renderidx:i.z-a.z:i.zlevel-a.zlevel}var c=f("./tool/util"),h=f("./Group"),b={hover:!1,normal:"down",update:!1},g=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return g.prototype.iterShape=function(k,j){if(j||(j=b),j.hover){for(var a=0,m=this._hoverElements.length;m>a;a++){var l=this._hoverElements[a];if(l.updateTransform(),k(l)){return this}}}switch(j.update&&this.updateShapeList(),j.normal){case"down":for(var m=this._shapeList.length;m--;){if(k(this._shapeList[m])){return this}}break;default:for(var a=0,m=this._shapeList.length;m>a;a++){if(k(this._shapeList[a])){return this}}}return this},g.prototype.getHoverShapes=function(t){for(var m=[],v=0,k=this._hoverElements.length;k>v;v++){m.push(this._hoverElements[v]);var u=this._hoverElements[v].hoverConnect;if(u){var q;u=u instanceof Array?u:[u];for(var p=0,j=u.length;j>p;p++){q=u[p].id?u[p]:this.get(u[p]),q&&m.push(q)}}}if(m.sort(d),t){for(var v=0,k=m.length;k>v;v++){m[v].updateTransform()}}return m},g.prototype.getShapeList=function(a){return a&&this.updateShapeList(),this._shapeList},g.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var j=0,a=this._roots.length;a>j;j++){var k=this._roots[j];this._updateAndAddShape(k)}this._shapeList.length=this._shapeListOffset;for(var j=0,a=this._shapeList.length;a>j;j++){this._shapeList[j].__renderidx=j}this._shapeList.sort(d)},g.prototype._updateAndAddShape=function(k,j){if(!k.ignore){if(k.updateTransform(),k.clipShape&&(k.clipShape.parent=k,k.clipShape.updateTransform(),j?(j=j.slice(),j.push(k.clipShape)):j=[k.clipShape]),"group"==k.type){for(var a=0;a<k._children.length;a++){var l=k._children[a];l.__dirty=k.__dirty||l.__dirty,this._updateAndAddShape(l,j)}k.__dirty=!1}else{k.__clipShapes=j,this._shapeList[this._shapeListOffset++]=k}}},g.prototype.mod=function(k,j){if("string"==typeof k&&(k=this._elements[k]),k&&(k.modSelf(),j)){if(j.parent||j._storage||j.__clipShapes){var l={};for(var i in j){"parent"!==i&&"_storage"!==i&&"__clipShapes"!==i&&j.hasOwnProperty(i)&&(l[i]=j[i])}c.merge(k,l,!0)}else{c.merge(k,j,!0)}}return this},g.prototype.drift=function(k,j,a){var l=this._elements[k];return l&&(l.needTransform=!0,"horizontal"===l.draggable?a=0:"vertical"===l.draggable&&(j=0),(!l.ondrift||l.ondrift&&!l.ondrift(j,a))&&l.drift(j,a)),this},g.prototype.addHover=function(a){return a.updateNeedTransform(),this._hoverElements.push(a),this},g.prototype.delHover=function(){return this._hoverElements=[],this},g.prototype.hasHoverShape=function(){return this._hoverElements.length>0},g.prototype.addRoot=function(a){this._elements[a.id]||(a instanceof h&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},g.prototype.delRoot=function(m){if("undefined"==typeof m){for(var j=0;j<this._roots.length;j++){var i=this._roots[j];i instanceof h&&i.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void (this._shapeListOffset=0)}if(m instanceof Array){for(var j=0,n=m.length;n>j;j++){this.delRoot(m[j])}}else{var l;l="string"==typeof m?this._elements[m]:m;var k=c.indexOf(this._roots,l);k>=0&&(this.delFromMap(l.id),this._roots.splice(k,1),l instanceof h&&l.delChildrenFromStorage(this))}},g.prototype.addToMap=function(a){return a instanceof h&&(a._storage=this),a.modSelf(),this._elements[a.id]=a,this},g.prototype.get=function(a){return this._elements[a]},g.prototype.delFromMap=function(i){var a=this._elements[i];return a&&(delete this._elements[i],a instanceof h&&(a._storage=null)),this},g.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},g}),define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(E){function k(c,a){return c[a]}function B(d,c,a){d[c]=a}function y(d,c,a){return(c-d)*a+d}function H(p,I,m,u,d){var c=p.length;if(1==d){for(var J=0;c>J;J++){u[J]=y(p[J],I[J],m)}}else{for(var g=p[0].length,J=0;c>J;J++){for(var n=0;g>n;n++){u[J][n]=y(p[J][n],I[J][n],m)}}}}function x(a){switch(typeof a){case"undefined":case"string":return !1}return"undefined"!=typeof a.length}function v(N,R,L,I,Q,u,g,K,M){var O=N.length;if(1==M){for(var P=0;O>P;P++){K[P]=q(N[P],R[P],L[P],I[P],Q,u,g)}}else{for(var J=N[0].length,P=0;O>P;P++){for(var s=0;J>s;s++){K[P][s]=q(N[P][s],R[P][s],L[P][s],I[P][s],Q,u,g)}}}}function q(p,I,m,g,u,d,c){var J=0.5*(m-p),h=0.5*(g-I);return(2*(I-m)+J+h)*c+(-3*(I-m)-2*J-h)*d+J*u+I}function A(d){if(x(d)){var c=d.length;if(x(d[0])){for(var a=[],g=0;c>g;g++){a.push(b.call(d[g]))}return a}return b.call(d)}return d}function C(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}var F=E("./Clip"),G=E("../tool/color"),z=E("../tool/util"),w=E("../tool/event").Dispatcher,j=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){setTimeout(a,16)},b=Array.prototype.slice,f=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time=0,w.call(this)};f.prototype={add:function(a){this._clips.push(a)},remove:function(c){if(c.__inStep){c.__needsRemove=!0}else{var a=z.indexOf(this._clips,c);a>=0&&this._clips.splice(a,1)}},_update:function(){for(var p=(new Date).getTime(),I=p-this._time,m=this._clips,g=m.length,u=[],d=[],c=0;g>c;c++){var J=m[c];J.__inStep=!0;var h=J.step(p);J.__inStep=!1,h&&(u.push(h),d.push(J))}for(var c=0;g>c;){m[c].__needsRemove?(m[c]=m[g-1],m.pop(),g--):c++}g=u.length;for(var c=0;g>c;c++){d[c].fire(u[c])}this._time=p,this.onframe(I),this.dispatch("frame",I),this.stage.update&&this.stage.update()},start:function(){function c(){a._running&&(j(c),a._update())}var a=this;this._running=!0,this._time=(new Date).getTime(),j(c)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(d,c){c=c||{};var a=new D(d,c.loop,c.getter,c.setter);return a.animation=this,a},constructor:f},z.merge(f.prototype,w.prototype,!0);var D=function(d,h,c,g){this._tracks={},this._target=d,this._loop=h||!1,this._getter=c||k,this._setter=g||B,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return D.prototype={when:function(d,c){for(var a in c){this._tracks[a]||(this._tracks[a]=[],0!==d&&this._tracks[a].push({time:0,value:A(this._getter(this._target,a))})),this._tracks[a].push({time:parseInt(d,10),value:c[a]})}return this},during:function(a){return this._onframeList.push(a),this},start:function(r){var n=this,h=this._setter,d=this._getter,a="spline"===r,o=function(){if(n._clipCount--,0===n._clipCount){n._tracks={};for(var m=n._doneList.length,l=0;m>l;l++){n._doneList[l].call(n)}}},g=function(Y,l){var m=Y.length;if(m){var ad=Y[0].value,ae=x(ad),N=!1,af=ae&&x(ad[0])?2:1;Y.sort(function(I,u){return I.time-u.time});var ag;if(m){ag=Y[m-1].time;for(var P=[],ac=[],R=0;m>R;R++){P.push(Y[R].time/ag);var t=Y[R].value;"string"==typeof t&&(t=G.toArray(t),0===t.length&&(t[0]=t[1]=t[2]=0,t[3]=1),N=!0),ac.push(t)}var Q,R,i,e,O,s,M,aa=0,p=0;if(N){var Z=[0,0,0,0]}var J=function(u,K){if(p>K){for(Q=Math.min(aa+1,m-1),R=Q;R>=0&&!(P[R]<=K);R--){}R=Math.min(R,m-2)}else{for(R=aa;m>R&&!(P[R]>K);R++){}R=Math.min(R-1,m-2)}aa=R,p=K;var I=P[R+1]-P[R];if(0!==I){if(i=(K-P[R])/I,a){if(O=ac[R],e=ac[0===R?R:R-1],s=ac[R>m-2?m-1:R+1],M=ac[R>m-3?m-1:R+2],ae){v(e,O,s,M,i,i*i,i*i*i,d(u,l),af)}else{var L;N?(L=v(e,O,s,M,i,i*i,i*i*i,Z,1),L=C(Z)):L=q(e,O,s,M,i,i*i,i*i*i),h(u,l,L)}}else{if(ae){H(ac[R],ac[R+1],i,d(u,l),af)}else{var L;N?(H(ac[R],ac[R+1],i,Z,1),L=C(Z)):L=y(ac[R],ac[R+1],i),h(u,l,L)}}for(R=0;R<n._onframeList.length;R++){n._onframeList[R](u,K)}}},ab=new F({target:n._target,life:ag,loop:n._loop,delay:n._delay,onframe:J,ondestroy:o});r&&"spline"!==r&&(ab.easing=r),n._clipList.push(ab),n._clipCount++,n.animation.add(ab)}}};for(var c in this._tracks){g(this._tracks[c],c)}return this},stop:function(){for(var c=0;c<this._clipList.length;c++){var a=this._clipList[c];this.animation.remove(a)}this._clipList=[]},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this}},f}),define("zrender/tool/vector",[],function(){var b="undefined"==typeof Float32Array?Array:Float32Array,a={create:function(d,c){var e=new b(2);return e[0]=d||0,e[1]=c||0,e},copy:function(d,c){return d[0]=c[0],d[1]=c[1],d},clone:function(d){var c=new b(2);return c[0]=d[0],c[1]=d[1],c},set:function(f,d,c){return f[0]=d,f[1]=c,f},add:function(f,d,c){return f[0]=d[0]+c[0],f[1]=d[1]+c[1],f},scaleAndAdd:function(f,d,c,g){return f[0]=d[0]+c[0]*g,f[1]=d[1]+c[1]*g,f},sub:function(f,d,c){return f[0]=d[0]-c[0],f[1]=d[1]-c[1],f},len:function(c){return Math.sqrt(this.lenSquare(c))},lenSquare:function(c){return c[0]*c[0]+c[1]*c[1]},mul:function(f,d,c){return f[0]=d[0]*c[0],f[1]=d[1]*c[1],f},div:function(f,d,c){return f[0]=d[0]/c[0],f[1]=d[1]/c[1],f},dot:function(d,c){return d[0]*c[0]+d[1]*c[1]},scale:function(f,d,c){return f[0]=d[0]*c,f[1]=d[1]*c,f},normalize:function(d,c){var f=a.len(c);return 0===f?(d[0]=0,d[1]=0):(d[0]=c[0]/f,d[1]=c[1]/f),d},distance:function(d,c){return Math.sqrt((d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1]))},distanceSquare:function(d,c){return(d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1])},negate:function(d,c){return d[0]=-c[0],d[1]=-c[1],d},lerp:function(f,d,c,g){return f[0]=d[0]+g*(c[0]-d[0]),f[1]=d[1]+g*(c[1]-d[1]),f},applyTransform:function(g,f,d){var h=f[0],c=f[1];return g[0]=d[0]*h+d[2]*c+d[4],g[1]=d[1]*h+d[3]*c+d[5],g},min:function(f,d,c){return f[0]=Math.min(d[0],c[0]),f[1]=Math.min(d[1],c[1]),f},max:function(f,d,c){return f[0]=Math.max(d[0],c[0]),f[1]=Math.max(d[1],c[1]),f}};return a.length=a.len,a.lengthSquare=a.lenSquare,a.dist=a.distance,a.distSquare=a.distanceSquare,a}),define("zrender/tool/matrix",[],function(){var b="undefined"==typeof Float32Array?Array:Float32Array,a={create:function(){var c=new b(6);return a.identity(c),c},identity:function(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=1,c[4]=0,c[5]=0,c},copy:function(d,c){return d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],d[5]=c[5],d},mul:function(f,d,c){return f[0]=d[0]*c[0]+d[2]*c[1],f[1]=d[1]*c[0]+d[3]*c[1],f[2]=d[0]*c[2]+d[2]*c[3],f[3]=d[1]*c[2]+d[3]*c[3],f[4]=d[0]*c[4]+d[2]*c[5]+d[4],f[5]=d[1]*c[4]+d[3]*c[5]+d[5],f},translate:function(f,d,c){return f[0]=d[0],f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4]+c[0],f[5]=d[5]+c[1],f},rotate:function(p,v,k){var g=v[0],u=v[2],f=v[4],c=v[1],w=v[3],j=v[5],m=Math.sin(k),q=Math.cos(k);return p[0]=g*q+c*m,p[1]=-g*m+c*q,p[2]=u*q+w*m,p[3]=-u*m+q*w,p[4]=q*f+m*j,p[5]=q*j-m*f,p},scale:function(g,f,d){var h=d[0],c=d[1];return g[0]=f[0]*h,g[1]=f[1]*c,g[2]=f[2]*h,g[3]=f[3]*c,g[4]=f[4]*h,g[5]=f[5]*c,g},invert:function(j,m){var h=m[0],f=m[2],k=m[4],d=m[1],c=m[3],p=m[5],g=h*c-d*f;return g?(g=1/g,j[0]=c*g,j[1]=-d*g,j[2]=-f*g,j[3]=h*g,j[4]=(f*p-c*k)*g,j[5]=(d*k-h*p)*g,j):null}};return a}),define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(g){function d(a){this.setOptions(a)}var c=g("../tool/util"),j=g("../shape/Text"),b=g("../shape/Rectangle"),h="Loading...",f="normal 16px Arial";return d.prototype.createTextShape=function(a){return new j({highlightStyle:c.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:h,textAlign:"center",textBaseline:"middle",textFont:f,color:"#333",brushType:"fill"},a,!0)})},d.prototype.createBackgroundShape=function(a){return new b({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:a}})},d.prototype.start=function(l){function k(e){l.storage.addHover(e)}function a(){l.refreshHover()}this.canvasWidth=l._width,this.canvasHeight=l._height,this.loadingTimer=this._start(k,a)},d.prototype._start=function(){return setInterval(function(){},10000)},d.prototype.stop=function(){clearInterval(this.loadingTimer)},d.prototype.setOptions=function(a){this.options=a||{}},d.prototype.adjust=function(i,a){return i<=a[0]?i=a[0]:i>=a[1]&&(i=a[1]),i},d.prototype.getLocation=function(o,m,l){var p=null!=o.x?o.x:"center";switch(p){case"center":p=Math.floor((this.canvasWidth-m)/2);break;case"left":p=0;break;case"right":p=this.canvasWidth-m}var k=null!=o.y?o.y:"center";switch(k){case"center":k=Math.floor((this.canvasHeight-l)/2);break;case"top":k=0;break;case"bottom":k=this.canvasHeight-l}return{x:p,y:k,width:m,height:l}},d}),define("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(h){function d(){return !1}function c(q,p,m){var s=document.createElement(p),l=m.getWidth(),r=m.getHeight();return s.style.position="absolute",s.style.left=0,s.style.top=0,s.style.width=l+"px",s.style.height=r+"px",s.width=l*g.devicePixelRatio,s.height=r*g.devicePixelRatio,s.setAttribute("data-zr-dom-id",q),s}var k=h("./mixin/Transformable"),b=h("./tool/util"),j=window.G_vmlCanvasManager,g=h("./config"),f=function(l,i){this.id=l,this.dom=c(l,"canvas",i),this.dom.onselectstart=d,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",this.dom.className=g.elementClassName,j&&j.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=i,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,k.call(this)};return f.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var a=g.devicePixelRatio;1!=a&&this.ctx.scale(a,a)},f.prototype.createBackBuffer=function(){if(!j){this.domBack=c("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var a=g.devicePixelRatio;1!=a&&this.ctxBack.scale(a,a)}},f.prototype.resize=function(m,l){var a=g.devicePixelRatio;this.dom.style.width=m+"px",this.dom.style.height=l+"px",this.dom.setAttribute("width",m*a),this.dom.setAttribute("height",l*a),1!=a&&this.ctx.scale(a,a),this.domBack&&(this.domBack.setAttribute("width",m*a),this.domBack.setAttribute("height",l*a),1!=a&&this.ctxBack.scale(a,a))},f.prototype.clear=function(){var r=this.dom,w=this.ctx,p=r.width,m=r.height,v=this.clearColor&&!j,x=this.motionBlur&&!j,o=this.lastFrameAlpha,q=g.devicePixelRatio;if(x&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,p/q,m/q)),w.clearRect(0,0,p/q,m/q),v&&(w.save(),w.fillStyle=this.clearColor,w.fillRect(0,0,p/q,m/q),w.restore()),x){var u=this.domBack;w.save(),w.globalAlpha=o,w.drawImage(u,0,0,p/q,m/q),w.restore()}},b.merge(f.prototype,k.prototype),f}),define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(c){var b=c("../tool/area"),a=c("./Base"),d=function(f){a.call(this,f)};return d.prototype={type:"text",brush:function(q,m){var j=this.style;if(m&&(j=this.getHighlightStyle(j,this.highlightStyle||{})),"undefined"!=typeof j.text&&j.text!==!1){q.save(),this.doClip(q),this.setContext(q,j),this.setTransform(q),j.textFont&&(q.font=j.textFont),q.textAlign=j.textAlign||"start",q.textBaseline=j.textBaseline||"middle";var u,g=(j.text+"").split("\n"),f=b.getTextHeight("国",j.textFont),v=this.getRect(j),k=j.x;u="top"==j.textBaseline?v.y:"bottom"==j.textBaseline?v.y+f:v.y+f/2;for(var p=0,t=g.length;t>p;p++){if(j.maxWidth){switch(j.brushType){case"fill":q.fillText(g[p],k,u,j.maxWidth);break;case"stroke":q.strokeText(g[p],k,u,j.maxWidth);break;case"both":q.fillText(g[p],k,u,j.maxWidth),q.strokeText(g[p],k,u,j.maxWidth);break;default:q.fillText(g[p],k,u,j.maxWidth)}}else{switch(j.brushType){case"fill":q.fillText(g[p],k,u);break;case"stroke":q.strokeText(g[p],k,u);break;case"both":q.fillText(g[p],k,u),q.strokeText(g[p],k,u);break;default:q.fillText(g[p],k,u)}}u+=f}q.restore()}},getRect:function(h){if(h.__rect){return h.__rect}var g=b.getTextWidth(h.text,h.textFont),k=b.getTextHeight(h.text,h.textFont),f=h.x;"end"==h.textAlign||"right"==h.textAlign?f-=g:"center"==h.textAlign&&(f-=g/2);var j;return j="top"==h.textBaseline?h.y:"bottom"==h.textBaseline?h.y-k:h.y-k/2,h.__rect={x:f,y:j,width:g,height:k},h.__rect}},c("../tool/util").inherits(d,a),d}),define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"rectangle",_buildRadiusPath:function(q,x){var m,j,w,g,f=x.x,y=x.y,k=x.width,p=x.height,u=x.radius;"number"==typeof u?m=j=w=g=u:u instanceof Array?1===u.length?m=j=w=g=u[0]:2===u.length?(m=w=u[0],j=g=u[1]):3===u.length?(m=u[0],j=g=u[1],w=u[2]):(m=u[0],j=u[1],w=u[2],g=u[3]):m=j=w=g=0;var v;m+j>k&&(v=m+j,m*=k/v,j*=k/v),w+g>k&&(v=w+g,w*=k/v,g*=k/v),j+w>p&&(v=j+w,j*=p/v,w*=p/v),m+g>p&&(v=m+g,m*=p/v,g*=p/v),q.moveTo(f+m,y),q.lineTo(f+k-j,y),0!==j&&q.quadraticCurveTo(f+k,y,f+k,y+j),q.lineTo(f+k,y+p-w),0!==w&&q.quadraticCurveTo(f+k,y+p,f+k-w,y+p),q.lineTo(f+g,y+p),0!==g&&q.quadraticCurveTo(f,y+p,f,y+p-g),q.lineTo(f,y+m),0!==m&&q.quadraticCurveTo(f,y,f+m,y)},buildPath:function(f,d){d.radius?this._buildRadiusPath(f,d):(f.moveTo(d.x,d.y),f.lineTo(d.x+d.width,d.y),f.lineTo(d.x+d.width,d.y+d.height),f.lineTo(d.x,d.y+d.height),f.lineTo(d.x,d.y)),f.closePath()},getRect:function(f){if(f.__rect){return f.__rect}var d;return d="stroke"==f.brushType||"fill"==f.brushType?f.lineWidth||1:0,f.__rect={x:Math.round(f.x-d/2),y:Math.round(f.y-d/2),width:f.width+d,height:f.height+d},f.__rect}},c("../tool/util").inherits(a,b),a}),define("zrender/tool/area",["require","./util","./curve"],function(al){function R(a){return a%=Z,0>a&&(a+=Z),a}function ah(g,c,b,h){if(!c||!g){return !1}var f=g.type;O=O||F.getContext();var d=ad(g,c,b,h);if("undefined"!=typeof d){return d}if(g.buildPath&&O.isPointInPath){return ap(g,O,c,b,h)}switch(f){case"ellipse":return !0;case"trochoid":var a="out"==c.location?c.r1+c.r2+c.d:c.r1-c.r2+c.d;return ab(c,b,h,a);case"rose":return ab(c,b,h,c.maxr);default:return !1}}function ad(k,f,d,m){var b=k.type;switch(b){case"bezier-curve":return"undefined"==typeof f.cpX2?af(f.xStart,f.yStart,f.cpX1,f.cpY1,f.xEnd,f.yEnd,f.lineWidth,d,m):Y(f.xStart,f.yStart,f.cpX1,f.cpY1,f.cpX2,f.cpY2,f.xEnd,f.yEnd,f.lineWidth,d,m);case"line":return aa(f.xStart,f.yStart,f.xEnd,f.yEnd,f.lineWidth,d,m);case"polyline":return am(f.pointList,f.lineWidth,d,m);case"ring":return an(f.x,f.y,f.r0,f.r,d,m);case"circle":return ab(f.x,f.y,f.r,d,m);case"sector":var l=f.startAngle*Math.PI/180,g=f.endAngle*Math.PI/180;return f.clockWise||(l=-l,g=-g),P(f.x,f.y,f.r0,f.r,l,g,!f.clockWise,d,m);case"path":return f.pathArray&&aq(f.pathArray,Math.max(f.lineWidth,5),f.brushType,d,m);case"polygon":case"star":case"isogon":return z(f.pointList,d,m);case"text":var c=f.__rect||k.getRect(f);return ae(c.x,c.y,c.width,c.height,d,m);case"rectangle":case"image":return ae(f.x,f.y,f.width,f.height,d,m)}}function ap(f,d,c,g,b){return d.beginPath(),f.buildPath(d,c),d.closePath(),d.isPointInPath(g,b)}function ac(d,c,f,b){return !ah(d,c,f,b)}function aa(u,y,m,g,x,f,b){if(0===x){return !1}var C=Math.max(x,5),k=0,p=u;if(b>y+C&&b>g+C||y-C>b&&g-C>b||f>u+C&&f>m+C||u-C>f&&m-C>f){return !1}if(u===m){return Math.abs(f-u)<=C/2}k=(y-g)/(u-m),p=(u*g-m*y)/(u-m);var v=k*f-b+p,w=v*v/(k*k+1);return C/2*C/2>=w}function Y(w,E,u,g,C,f,b,I,p,v,x){if(0===p){return !1}var y=Math.max(p,5);if(x>E+y&&x>g+y&&x>f+y&&x>I+y||E-y>x&&g-y>x&&f-y>x&&I-y>x||v>w+y&&v>u+y&&v>C+y&&v>b+y||w-y>v&&u-y>v&&C-y>v&&b-y>v){return !1}var k=N.cubicProjectPoint(w,E,u,g,C,f,b,I,v,x,null);return y/2>=k}function af(p,w,k,f,v,c,b,x,g){if(0===b){return !1}var m=Math.max(b,5);if(g>w+m&&g>f+m&&g>c+m||w-m>g&&f-m>g&&c-m>g||x>p+m&&x>k+m&&x>v+m||p-m>x&&k-m>x&&v-m>x){return !1}var u=N.quadraticProjectPoint(p,w,k,f,v,c,x,g,null);return m/2>=u}function ai(x,v,k,E,g,b,I,u,w){if(0===I){return !1}var y=Math.max(I,5);u-=x,w-=v;var C=Math.sqrt(u*u+w*w);if(C-y>k||k>C+y){return !1}if(Math.abs(E-g)>=Z){return !0}if(b){var t=E;E=R(g),g=R(t)}else{E=R(E),g=R(g)}E>g&&(g+=Z);var f=Math.atan2(w,u);return 0>f&&(f+=Z),f>=E&&g>=f||f+Z>=E&&g>=f+Z}function am(m,u,g,c){for(var u=Math.max(u,10),r=0,b=m.length-1;b>r;r++){var v=m[r][0],f=m[r][1],k=m[r+1][0],p=m[r+1][1];if(aa(v,f,k,p,u,g,c)){return !0}}return !1}function an(g,d,c,k,b,h){var f=(b-g)*(b-g)+(h-d)*(h-d);return k*k>f&&f>c*c}function ae(f,d,c,h,b,g){return b>=f&&f+c>=b&&g>=d&&d+h>=g}function ab(f,d,c,g,b){return c*c>(g-f)*(g-f)+(b-d)*(b-d)}function P(h,m,g,d,k,c,b,p,f){return ai(h,m,(g+d)/2,k,c,b,d-g,p,f)}function z(p,w,k){for(var f=p.length,v=0,c=0,b=f-1;f>c;c++){var x=p[b][0],g=p[b][1],m=p[c][0],u=p[c][1];v+=A(x,g,m,u,w,k),b=c}return 0!==v}function A(h,m,g,d,k,c){if(c>m&&c>d||m>c&&d>c){return 0}if(d==m){return 0}var b=m>d?1:-1,p=(c-m)/(d-m),f=p*(g-h)+h;return f>k?b:0}function aj(){var a=Q[0];Q[0]=Q[1],Q[1]=a}function ak(W,v,L,E,at,C,x,w,K,S){if(S>v&&S>E&&S>C&&S>w||v>S&&E>S&&C>S&&w>S){return 0}var X=N.cubicRootAt(v,E,C,w,S,B);if(0===X){return 0}for(var ar,I,y=0,k=-1,b=0;X>b;b++){var g=B[b],T=N.cubicAt(W,L,at,x,g);K>T||(0>k&&(k=N.cubicExtrema(v,E,C,w,Q),Q[1]<Q[0]&&k>1&&aj(),ar=N.cubicAt(v,E,C,w,Q[0]),k>1&&(I=N.cubicAt(v,E,C,w,Q[1]))),y+=2==k?g<Q[0]?v>ar?1:-1:g<Q[1]?ar>I?1:-1:I>w?1:-1:g<Q[0]?v>ar?1:-1:ar>w?1:-1)}return y}function H(y,K,w,k,I,g,b,L){if(L>K&&L>k&&L>g||K>L&&k>L&&g>L){return 0}var v=N.quadraticRootAt(K,k,g,L,B);if(0===v){return 0}var x=N.quadraticExtremum(K,k,g);if(x>=0&&1>=x){for(var C=0,E=N.quadraticAt(K,k,g,x),u=0;v>u;u++){var f=N.quadraticAt(y,w,I,B[u]);b>f||(C+=B[u]<x?K>E?1:-1:E>g?1:-1)}return C}var f=N.quadraticAt(y,w,I,B[0]);return b>f?0:K>g?1:-1}function ao(y,w,k,I,g,b,L,v){if(v-=w,v>k||-k>v){return 0}var x=Math.sqrt(k*k-v*v);if(B[0]=-x,B[1]=x,Math.abs(I-g)>=Z){I=0,g=Z;var C=b?1:-1;return L>=B[0]+y&&L<=B[1]+y?C:0}if(b){var x=I;I=R(g),g=R(x)}else{I=R(I),g=R(g)}I>g&&(g+=Z);for(var E=0,t=0;2>t;t++){var f=B[t];if(f+y>L){var K=Math.atan2(v,f),C=b?1:-1;0>K&&(K=Z+K),(K>=I&&g>=K||K+Z>=I&&g>=K+Z)&&(K>Math.PI/2&&K<1.5*Math.PI&&(C=-C),E+=C)}}return E}function aq(aE,av,aC,az,aH){var ay=0,aF=0,aG=0,aA=0,ax=0,au=!0,h=!0;aC=aC||"fill";for(var aD="stroke"===aC||"both"===aC,aI="fill"===aC||"both"===aC,U=0;U<aE.length;U++){var aB=aE[U],at=aB.points;if(au||"M"===aB.command){if(U>0&&(aI&&(ay+=A(aF,aG,aA,ax,az,aH)),0!==ay)){return !0}aA=at[at.length-2],ax=at[at.length-1],au=!1,h&&"A"!==aB.command&&(h=!1,aF=aA,aG=ax)}switch(aB.command){case"M":aF=at[0],aG=at[1];break;case"L":if(aD&&aa(aF,aG,at[0],at[1],av,az,aH)){return !0}aI&&(ay+=A(aF,aG,at[0],at[1],az,aH)),aF=at[0],aG=at[1];break;case"C":if(aD&&Y(aF,aG,at[0],at[1],at[2],at[3],at[4],at[5],av,az,aH)){return !0}aI&&(ay+=ak(aF,aG,at[0],at[1],at[2],at[3],at[4],at[5],az,aH)),aF=at[4],aG=at[5];break;case"Q":if(aD&&af(aF,aG,at[0],at[1],at[2],at[3],av,az,aH)){return !0}aI&&(ay+=H(aF,aG,at[0],at[1],at[2],at[3],az,aH)),aF=at[2],aG=at[3];break;case"A":var s=at[0],ar=at[1],f=at[2],b=at[3],E=at[4],r=at[5],y=Math.cos(E)*f+s,aw=Math.sin(E)*b+ar;h?(h=!1,aA=y,ax=aw):ay+=A(aF,aG,y,aw);var l=(az-s)*b/f+s;if(aD&&ai(s,ar,b,E,E+r,1-at[7],av,l,aH)){return !0}aI&&(ay+=ao(s,ar,b,E,E+r,1-at[7],l,aH)),aF=Math.cos(E+r)*f+s,aG=Math.sin(E+r)*b+ar;break;case"z":if(aD&&aa(aF,aG,aA,ax,av,az,aH)){return !0}au=!0}}return aI&&(ay+=A(aF,aG,aA,ax,az,aH)),0!==ay}function M(f,d){var c=f+":"+d;if(q[c]){return q[c]}O=O||F.getContext(),O.save(),d&&(O.font=d),f=(f+"").split("\n");for(var h=0,b=0,g=f.length;g>b;b++){h=Math.max(O.measureText(f[b]).width,h)}return O.restore(),q[c]=h,++J>G&&(J=0,q={}),h}function ag(c,b){var a=c+":"+b;if(j[a]){return j[a]}O=O||F.getContext(),O.save(),b&&(O.font=b),c=(c+"").split("\n");var d=(O.measureText("国").width+2)*c.length;return O.restore(),j[a]=d,++D>G&&(D=0,j={}),d}var O,F=al("./util"),N=al("./curve"),q={},j={},J=0,D=0,G=5000,Z=2*Math.PI,B=[-1,-1,-1],Q=[-1,-1];return{isInside:ah,isOutside:ac,getTextWidth:M,getTextHeight:ag,isInsidePath:aq,isInsidePolygon:z,isInsideSector:P,isInsideCircle:ab,isInsideLine:aa,isInsideRect:ae,isInsidePolyline:am,isInsideCubicStroke:Y,isInsideQuadraticStroke:af}}),define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(u){function y(H,A,G,i,e,I,C){e&&(H.font=e),H.textAlign=I,H.textBaseline=C;var D=p(A,G,i,e,I,C);A=(A+"").split("\n");var E=u("../tool/area").getTextHeight("国",e);switch(C){case"top":i=D.y;break;case"bottom":i=D.y+E;break;default:i=D.y+E/2}for(var F=0,B=A.length;B>F;F++){H.fillText(A[F],G,i),i+=E}}function p(D,A,e,C,d,c){var E=u("../tool/area"),m=E.getTextWidth(D,C),B=E.getTextHeight("国",C);switch(D=(D+"").split("\n"),d){case"end":case"right":A-=m;break;case"center":A-=m/2}switch(c){case"top":break;case"bottom":e-=B*D.length;break;default:e-=B*D.length/2}return{x:A,y:e,width:m,height:B*D.length}}var g=window.G_vmlCanvasManager,x=u("../tool/matrix"),f=u("../tool/guid"),b=u("../tool/util"),z=u("../tool/log"),k=u("../mixin/Transformable"),q=u("../mixin/Eventful"),v=function(c){c=c||{},this.id=c.id||f();for(var a in c){this[a]=c[a]}this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],k.call(this),q.call(this)};v.prototype.invisible=!1,v.prototype.ignore=!1,v.prototype.zlevel=0,v.prototype.draggable=!1,v.prototype.clickable=!1,v.prototype.hoverable=!0,v.prototype.z=0,v.prototype.brush=function(d,c){var a=this.beforeBrush(d,c);switch(d.beginPath(),this.buildPath(d,a),a.brushType){case"both":d.fill();case"stroke":a.lineWidth>0&&d.stroke();break;default:d.fill()}this.drawText(d,a,this.style),this.afterBrush(d)},v.prototype.beforeBrush=function(d,c){var a=this.style;return this.brushTypeOnly&&(a.brushType=this.brushTypeOnly),c&&(a=this.getHighlightStyle(a,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(a.strokeColor=a.strokeColor||a.color),d.save(),this.doClip(d),this.setContext(d,a),this.setTransform(d),a},v.prototype.afterBrush=function(a){a.restore()};var w=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];v.prototype.setContext=function(m,h){for(var d=0,A=w.length;A>d;d++){var c=w[d][0],s=h[c],l=w[d][1];"undefined"!=typeof s&&(m[l]=s)}};var j=x.create();return v.prototype.doClip=function(d){if(this.__clipShapes&&!g){for(var c=0;c<this.__clipShapes.length;c++){var a=this.__clipShapes[c];if(a.needTransform){var h=a.transform;x.invert(j,h),d.transform(h[0],h[1],h[2],h[3],h[4],h[5])}if(d.beginPath(),a.buildPath(d,a.style),d.clip(),a.needTransform){var h=j;d.transform(h[0],h[1],h[2],h[3],h[4],h[5])}}}},v.prototype.getHighlightStyle=function(e,d,A){var c={};for(var m in e){c[m]=e[m]}var l=u("../tool/color"),h=l.getHighlightColor();"stroke"!=e.brushType?(c.strokeColor=h,c.lineWidth=(e.lineWidth||1)+this.getHighlightZoom(),c.brushType="both"):"stroke"!=A?(c.strokeColor=h,c.lineWidth=(e.lineWidth||1)+this.getHighlightZoom()):c.strokeColor=d.strokeColor||l.mix(e.strokeColor,l.toRGB(h));for(var m in d){"undefined"!=typeof d[m]&&(c[m]=d[m])}return c},v.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},v.prototype.drift=function(c,a){this.position[0]+=c,this.position[1]+=a},v.prototype.buildPath=function(){z("buildPath not implemented in "+this.type)},v.prototype.getRect=function(){z("getRect not implemented in "+this.type)},v.prototype.isCover=function(c,a){var d=this.transformCoordToLocal(c,a);return c=d[0],a=d[1],this.isCoverRect(c,a)?u("../tool/area").isInside(this,this.style,c,a):!1},v.prototype.isCoverRect=function(d,c){var a=this.style.__rect;return a||(a=this.style.__rect=this.getRect(this.style)),d>=a.x&&d<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},v.prototype.drawText=function(N,J,G){if("undefined"!=typeof J.text&&J.text!==!1){var Q=J.textColor||J.color||J.strokeColor;N.fillStyle=Q;var F,D,C,I,K=10,O=J.textPosition||this.textPosition||"top";switch(O){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var P=(G||J).__rect||this.getRect(G||J);switch(O){case"inside":C=P.x+P.width/2,I=P.y+P.height/2,F="center",D="middle","stroke"!=J.brushType&&Q==J.color&&(N.fillStyle="#fff");break;case"left":C=P.x-K,I=P.y+P.height/2,F="end",D="middle";break;case"right":C=P.x+P.width+K,I=P.y+P.height/2,F="start",D="middle";break;case"top":C=P.x+P.width/2,I=P.y-K,F="center",D="bottom";break;case"bottom":C=P.x+P.width/2,I=P.y+P.height+K,F="center",D="top"}}break;case"start":case"end":var H=J.pointList||[[J.xStart||0,J.yStart||0],[J.xEnd||0,J.yEnd||0]],E=H.length;if(2>E){return}var B,t,A,L;switch(O){case"start":B=H[1][0],t=H[0][0],A=H[1][1],L=H[0][1];break;case"end":B=H[E-2][0],t=H[E-1][0],A=H[E-2][1],L=H[E-1][1]}C=t,I=L;var M=Math.atan((A-L)/(t-B))/Math.PI*180;0>t-B?M+=180:0>A-L&&(M+=360),K=5,M>=30&&150>=M?(F="center",D="bottom",I-=K):M>150&&210>M?(F="right",D="middle",C-=K):M>=210&&330>=M?(F="center",D="top",I+=K):(F="left",D="middle",C+=K);break;case"specific":C=J.textX||0,I=J.textY||0,F="start",D="middle"}null!=C&&null!=I&&y(N,J.text,C,I,J.textFont,J.textAlign||F,J.textBaseline||D)}},v.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},v.prototype.isSilent=function(){return !(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},b.merge(v.prototype,k.prototype,!0),b.merge(v.prototype,q.prototype,!0),v}),define("zrender/tool/curve",["require","./vector"],function(J){function w(a){return a>-k&&k>a}function F(a){return a>k||-k>a}function C(f,d,c,h,b){var g=1-b;return g*g*(g*f+3*b*d)+b*b*(b*h+3*g*c)}function N(f,d,c,h,b){var g=1-b;return 3*(((d-f)*g+2*(c-d)*b)*g+(h-c)*b*b)}function B(ak,ai,ae,ao,ad,ab){var aa=ao+3*(ai-ae)-ak,ag=3*(ae-2*ai+ak),aj=3*(ai-ak),al=ak-ad,am=ag*ag-3*aa*aj,af=ag*aj-9*aa*al,ac=aj*aj-3*ag*al,Z=0;if(w(am)&&w(af)){if(w(ag)){ab[0]=0}else{var t=-aj/ag;t>=0&&1>=t&&(ab[Z++]=t)}}else{var P=af*af-4*am*ac;if(w(P)){var R=af/am,t=-ag/aa+R,an=-R/2;t>=0&&1>=t&&(ab[Z++]=t),an>=0&&1>=an&&(ab[Z++]=an)}else{if(P>0){var ap=Math.sqrt(P),S=am*ag+1.5*aa*(-af+ap),ah=am*ag+1.5*aa*(-af-ap);S=0>S?-Math.pow(-S,I):Math.pow(S,I),ah=0>ah?-Math.pow(-ah,I):Math.pow(ah,I);var t=(-ag-(S+ah))/(3*aa);t>=0&&1>=t&&(ab[Z++]=t)}else{var Y=(2*am*ag-3*aa*af)/(2*Math.sqrt(am*am*am)),Q=Math.acos(Y)/3,T=Math.sqrt(am),g=Math.cos(Q),t=(-ag-2*T*g)/(3*aa),an=(-ag+T*(g+H*Math.sin(Q)))/(3*aa),f=(-ag+T*(g-H*Math.sin(Q)))/(3*aa);t>=0&&1>=t&&(ab[Z++]=t),an>=0&&1>=an&&(ab[Z++]=an),f>=0&&1>=f&&(ab[Z++]=f)}}}return Z}function z(Q,i,T,g,b){var V=6*T-12*i+6*Q,y=9*i+3*g-3*Q-9*T,P=3*i-3*Q,R=0;if(w(y)){if(F(V)){var S=-P/V;S>=0&&1>=S&&(b[R++]=S)}}else{var t=V*V-4*y*P;if(w(t)){b[0]=-V/(2*y)}else{if(t>0){var f=Math.sqrt(t),S=(-V+f)/(2*y),U=(-V-f)/(2*y);S>=0&&1>=S&&(b[R++]=S),U>=0&&1>=U&&(b[R++]=U)}}}return R}function x(y,S,p,g,R,f){var b=(S-y)*R+y,T=(p-S)*R+S,m=(g-p)*R+p,u=(T-b)*R+b,P=(m-T)*R+T,Q=(P-u)*R+u;f[0]=y,f[1]=b,f[2]=u,f[3]=Q,f[4]=Q,f[5]=P,f[6]=m,f[7]=g}function E(ac,Q,Y,af,U,S,R,W,Z,ad,ae){var V,T=0.005,P=1/0;q[0]=Z,q[1]=ad;for(var aa=0;1>aa;aa+=0.05){M[0]=C(ac,Y,U,R,aa),M[1]=C(Q,af,S,W,aa);var ab=j.distSquare(q,M);P>ab&&(V=aa,P=ab)}P=1/0;for(var n=0;32>n&&!(k>T);n++){var X=V-T,y=V+T;M[0]=C(ac,Y,U,R,X),M[1]=C(Q,af,S,W,X);var ab=j.distSquare(M,q);if(X>=0&&P>ab){V=X,P=ab}else{O[0]=C(ac,Y,U,R,y),O[1]=C(Q,af,S,W,y);var b=j.distSquare(O,q);1>=y&&P>b?(V=y,P=b):T*=0.5}}return ae&&(ae[0]=C(ac,Y,U,R,V),ae[1]=C(Q,af,S,W,V)),Math.sqrt(P)}function G(f,d,c,g){var b=1-g;return b*(b*f+2*g*d)+g*g*c}function K(c,b,a,d){return 2*((1-d)*(b-c)+d*(a-b))}function L(Q,i,T,g,b){var V=Q-2*i+T,y=2*(i-Q),P=Q-g,R=0;if(w(V)){if(F(y)){var S=-P/y;S>=0&&1>=S&&(b[R++]=S)}}else{var t=y*y-4*V*P;if(w(t)){var S=-y/(2*V);S>=0&&1>=S&&(b[R++]=S)}else{if(t>0){var f=Math.sqrt(t),S=(-y+f)/(2*V),U=(-y-f)/(2*V);S>=0&&1>=S&&(b[R++]=S),U>=0&&1>=U&&(b[R++]=U)}}}return R}function D(c,b,a){var d=c+a-2*b;return 0===d?0.5:(c-b)/d}function A(h,d,c,m,b){var l=(d-h)*m+h,g=(c-d)*m+d,f=(g-l)*m+l;b[0]=h,b[1]=l,b[2]=f,b[3]=f,b[4]=g,b[5]=c}function v(aa,y,X,T,ad,S,Q,P,V){var ab,ac=0.005,U=1/0;q[0]=Q,q[1]=P;for(var R=0;1>R;R+=0.05){M[0]=G(aa,X,ad,R),M[1]=G(y,T,S,R);var h=j.distSquare(q,M);U>h&&(ab=R,U=h)}U=1/0;for(var Y=0;32>Y&&!(k>ac);Y++){var Z=ab-ac,b=ab+ac;M[0]=G(aa,X,ad,Z),M[1]=G(y,T,S,Z);var h=j.distSquare(M,q);if(Z>=0&&U>h){ab=Z,U=h}else{O[0]=G(aa,X,ad,b),O[1]=G(y,T,S,b);var W=j.distSquare(O,q);1>=b&&U>W?(ab=b,U=W):ac*=0.5}}return V&&(V[0]=G(aa,X,ad,ab),V[1]=G(y,T,S,ab)),Math.sqrt(U)}var j=J("./vector"),k=0.0001,H=Math.sqrt(3),I=1/3,q=j.create(),M=j.create(),O=j.create();return{cubicAt:C,cubicDerivativeAt:N,cubicRootAt:B,cubicExtrema:z,cubicSubdivide:x,cubicProjectPoint:E,quadraticAt:G,quadraticDerivativeAt:K,quadraticRootAt:L,quadraticExtremum:D,quadraticSubdivide:A,quadraticProjectPoint:v}}),define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(h){function k(a){return a>-m&&m>a}function g(a){return a>m||-m>a}var d=h("../tool/matrix"),j=h("../tool/vector"),c=[0,0],b=d.translate,m=0.00005,f=function(){this.position||(this.position=[0,0]),"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return f.prototype={constructor:f,updateNeedTransform:function(){this.needLocalTransform=g(this.rotation[0])||g(this.position[0])||g(this.position[1])||g(this.scale[0]-1)||g(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var o=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||o,this.needTransform){var l=this.transform||d.create();if(d.identity(l),this.needLocalTransform){var i=this.scale;if(g(i[0])||g(i[1])){c[0]=-i[2]||0,c[1]=-i[3]||0;var n=g(c[0])||g(c[1]);n&&b(l,l,c),d.scale(l,l,i),n&&(c[0]=-c[0],c[1]=-c[1],b(l,l,c))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){c[0]=-this.rotation[1]||0,c[1]=-this.rotation[2]||0;var n=g(c[0])||g(c[1]);n&&b(l,l,c),d.rotate(l,l,this.rotation[0]),n&&(c[0]=-c[0],c[1]=-c[1],b(l,l,c))}}else{0!==this.rotation&&d.rotate(l,l,this.rotation)}(g(this.position[0])||g(this.position[1]))&&b(l,l,this.position)}o&&(this.needLocalTransform?d.mul(l,this.parent.transform,l):d.copy(l,this.parent.transform)),this.transform=l,this.invTransform=this.invTransform||d.create(),d.invert(this.invTransform,l)}},setTransform:function(i){if(this.needTransform){var a=this.transform;i.transform(a[0],a[1],a[2],a[3],a[4],a[5])}},lookAt:function(){var a=j.create();return function(e){this.transform||(this.transform=d.create());var n=this.transform;if(j.sub(a,e,this.position),!k(a[0])||!k(a[1])){j.normalize(a,a);var l=this.scale;n[2]=a[0]*l[1],n[3]=a[1]*l[1],n[0]=a[1]*l[0],n[1]=-a[0]*l[0],n[4]=this.position[0],n[5]=this.position[1],this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var q=this.transform,l=q[0]*q[0]+q[1]*q[1],u=this.position,i=this.scale,s=this.rotation;g(l-1)&&(l=Math.sqrt(l));var p=q[2]*q[2]+q[3]*q[3];g(p-1)&&(p=Math.sqrt(p)),u[0]=q[4],u[1]=q[5],i[0]=l,i[1]=p,i[2]=i[3]=0,s[0]=Math.atan2(-q[1]/p,q[0]/l),s[1]=s[2]=0}},transformCoordToLocal:function(n,l){var a=[n,l];return this.needTransform&&this.invTransform&&j.applyTransform(a,a,this.invTransform),a}},f}),define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(f){var d=f("./tool/guid"),c=f("./tool/util"),h=f("./mixin/Transformable"),b=f("./mixin/Eventful"),g=function(j){j=j||{},this.id=j.id||d();for(var a in j){this[a]=j[a]}this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,h.call(this),b.call(this)};return g.prototype.ignore=!1,g.prototype.children=function(){return this._children.slice()},g.prototype.childAt=function(a){return this._children[a]},g.prototype.addChild=function(a){a!=this&&a.parent!=this&&(a.parent&&a.parent.removeChild(a),this._children.push(a),a.parent=this,this._storage&&this._storage!==a._storage&&(this._storage.addToMap(a),a instanceof g&&a.addChildrenToStorage(this._storage)))},g.prototype.removeChild=function(i){var a=c.indexOf(this._children,i);a>=0&&this._children.splice(a,1),i.parent=null,this._storage&&(this._storage.delFromMap(i.id),i instanceof g&&i.delChildrenFromStorage(this._storage))},g.prototype.clearChildren=function(){for(var i=0;i<this._children.length;i++){var a=this._children[i];this._storage&&(this._storage.delFromMap(a.id),a instanceof g&&a.delChildrenFromStorage(this._storage))}this._children.length=0},g.prototype.eachChild=function(m,l){for(var k=!!l,o=0;o<this._children.length;o++){var j=this._children[o];k?m.call(l,j):m(j)}},g.prototype.traverse=function(m,l){for(var k=!!l,o=0;o<this._children.length;o++){var j=this._children[o];k?m.call(l,j):m(j),"group"===j.type&&j.traverse(m,l)}},g.prototype.addChildrenToStorage=function(k){for(var j=0;j<this._children.length;j++){var a=this._children[j];k.addToMap(a),a instanceof g&&a.addChildrenToStorage(k)}},g.prototype.delChildrenFromStorage=function(k){for(var j=0;j<this._children.length;j++){var a=this._children[j];k.delFromMap(a.id),a instanceof g&&a.delChildrenFromStorage(k)}},g.prototype.modSelf=function(){this.__dirty=!0},c.merge(g.prototype,h.prototype,!0),c.merge(g.prototype,b.prototype,!0),g}),define("zrender/animation/Clip",["require","./easing"],function(c){function b(d){this._targetPool=d.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=d.life||1000,this._delay=d.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1000*this._life,this.loop="undefined"==typeof d.loop?!1:d.loop,this.gap=d.gap||0,this.easing=d.easing||"Linear",this.onframe=d.onframe,this.ondestroy=d.ondestroy,this.onrestart=d.onrestart}var a=c("./easing");return b.prototype={step:function(g){var f=(g-this._startTime)/this._life;if(!(0>f)){f=Math.min(f,1);var h="string"==typeof this.easing?a[this.easing]:this.easing,d="function"==typeof h?h(f):f;return this.fire("frame",d),1==f?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null}},restart:function(){var f=(new Date).getTime(),d=(f-this._startTime)%this._life;this._startTime=(new Date).getTime()-d+this.gap,this.__needsRemove=!1},fire:function(g,f){for(var d=0,h=this._targetPool.length;h>d;d++){this["on"+g]&&this["on"+g](this._targetPool[d],f)}},constructor:b},b}),define("zrender/animation/easing",[],function(){var a={Linear:function(b){return b},QuadraticIn:function(b){return b*b},QuadraticOut:function(b){return b*(2-b)},QuadraticInOut:function(b){return(b*=2)<1?0.5*b*b:-0.5*(--b*(b-2)-1)},CubicIn:function(b){return b*b*b},CubicOut:function(b){return --b*b*b+1},CubicInOut:function(b){return(b*=2)<1?0.5*b*b*b:0.5*((b-=2)*b*b+2)},QuarticIn:function(b){return b*b*b*b},QuarticOut:function(b){return 1- --b*b*b*b},QuarticInOut:function(b){return(b*=2)<1?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)},QuinticIn:function(b){return b*b*b*b*b},QuinticOut:function(b){return --b*b*b*b*b+1},QuinticInOut:function(b){return(b*=2)<1?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)},SinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},SinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},SinusoidalInOut:function(b){return 0.5*(1-Math.cos(Math.PI*b))},ExponentialIn:function(b){return 0===b?0:Math.pow(1024,b-1)},ExponentialOut:function(b){return 1===b?1:1-Math.pow(2,-10*b)},ExponentialInOut:function(b){return 0===b?0:1===b?1:(b*=2)<1?0.5*Math.pow(1024,b-1):0.5*(-Math.pow(2,-10*(b-1))+2)},CircularIn:function(b){return 1-Math.sqrt(1-b*b)},CircularOut:function(b){return Math.sqrt(1- --b*b)},CircularInOut:function(b){return(b*=2)<1?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)},ElasticIn:function(d){var c,b=0.1,f=0.4;return 0===d?0:1===d?1:(!b||1>b?(b=1,c=f/4):c=f*Math.asin(1/b)/(2*Math.PI),-(b*Math.pow(2,10*(d-=1))*Math.sin(2*(d-c)*Math.PI/f)))},ElasticOut:function(d){var c,b=0.1,f=0.4;return 0===d?0:1===d?1:(!b||1>b?(b=1,c=f/4):c=f*Math.asin(1/b)/(2*Math.PI),b*Math.pow(2,-10*d)*Math.sin(2*(d-c)*Math.PI/f)+1)},ElasticInOut:function(d){var c,b=0.1,f=0.4;return 0===d?0:1===d?1:(!b||1>b?(b=1,c=f/4):c=f*Math.asin(1/b)/(2*Math.PI),(d*=2)<1?-0.5*b*Math.pow(2,10*(d-=1))*Math.sin(2*(d-c)*Math.PI/f):b*Math.pow(2,-10*(d-=1))*Math.sin(2*(d-c)*Math.PI/f)*0.5+1)},BackIn:function(c){var b=1.70158;return c*c*((b+1)*c-b)},BackOut:function(c){var b=1.70158;return --c*c*((b+1)*c+b)+1},BackInOut:function(c){var b=2.5949095;return(c*=2)<1?0.5*c*c*((b+1)*c-b):0.5*((c-=2)*c*((b+1)*c+b)+2)},BounceIn:function(b){return 1-a.BounceOut(1-b)},BounceOut:function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+0.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},BounceInOut:function(b){return 0.5>b?0.5*a.BounceIn(2*b):0.5*a.BounceOut(2*b-1)+0.5}};return a}),define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(E){function k(a){return null!=a.x&&null!=a.y}function B(h,g,d,m,c){j.call(this,h,g,d,m,c);var l=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){l.isClick=!0},ondragover:function(I){var s=I.target;s.highlightStyle=s.highlightStyle||{};var p=s.highlightStyle,J=p.brushTyep,o=p.strokeColor,u=p.lineWidth;p.brushType="stroke",p.strokeColor=l.ecTheme.calculableColor||C.calculableColor,p.lineWidth="icon"===s.type?30:10,l.zr.addHoverShape(s),setTimeout(function(){p&&(p.brushType=J,p.strokeColor=o,p.lineWidth=u)},20)},ondrop:function(a){null!=F.get(a.dragged,"data")&&(l.isDrop=!0)},ondragend:function(){l.isDragend=!0}}}var y=E("zrender/shape/Image"),H=E("../util/shape/Icon"),x=E("../util/shape/MarkLine"),v=E("../util/shape/Symbol"),q=E("zrender/shape/Polyline"),A=E("zrender/shape/ShapeBundle"),C=E("../config"),F=E("../util/ecData"),G=E("../util/ecAnimation"),z=E("../util/ecEffect"),w=E("../util/accMath"),j=E("../component/base"),b=E("../layout/EdgeBundling"),f=E("zrender/tool/util"),D=E("zrender/tool/area");return B.prototype={setCalculable:function(a){return a.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||C.DRAG_ENABLE_TIME,a.ondragover=this.shapeHandler.ondragover,a.ondragend=this.shapeHandler.ondragend,a.ondrop=this.shapeHandler.ondrop,a},ondrop:function(M,Q){if(this.isDrop&&M.target&&!Q.dragIn){var L,h=M.target,O=M.dragged,g=F.get(h,"seriesIndex"),d=F.get(h,"dataIndex"),R=this.series,K=this.component.legend;if(-1===d){if(F.get(O,"seriesIndex")==g){return Q.dragOut=Q.dragIn=Q.needRefresh=!0,void (this.isDrop=!1)}L={value:F.get(O,"value"),name:F.get(O,"name")},this.type===C.CHART_TYPE_PIE&&L.value<0&&(L.value=0);for(var N=!1,I=R[g].data,P=0,p=I.length;p>P;P++){I[P].name===L.name&&"-"===I[P].value&&(R[g].data[P].value=L.value,N=!0)}!N&&R[g].data.push(L),K&&K.add(L.name,O.style.color||O.style.strokeColor)}else{L=R[g].data[d]||"-",null!=L.value?(R[g].data[d].value="-"!=L.value?w.accAdd(R[g].data[d].value,F.get(O,"value")):F.get(O,"value"),(this.type===C.CHART_TYPE_FUNNEL||this.type===C.CHART_TYPE_PIE)&&(K&&1===K.getRelatedAmount(L.name)&&this.component.legend.del(L.name),L.name+=this.option.nameConnector+F.get(O,"name"),K&&K.add(L.name,O.style.color||O.style.strokeColor))):R[g].data[d]="-"!=L?w.accAdd(R[g].data[d],F.get(O,"value")):F.get(O,"value")}Q.dragIn=Q.dragIn||!0,this.isDrop=!1;var J=this;setTimeout(function(){J.zr.trigger("mousemove",M.event)},300)}},ondragend:function(m,g){if(this.isDragend&&m.target&&!g.dragOut){var d=m.target,u=F.get(d,"seriesIndex"),c=F.get(d,"dataIndex"),p=this.series;if(null!=p[u].data[c].value){p[u].data[c].value="-";var l=p[u].data[c].name,h=this.component.legend;h&&0===h.getRelatedAmount(l)&&h.del(l)}else{p[u].data[c]="-"}g.dragOut=!0,g.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(d,c){var a=d.selected;for(var g in this.selectedMap){this.selectedMap[g]!=a[g]&&(c.needRefresh=!0),this.selectedMap[g]=a[g]}},_buildPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var p,I,m,g,u=this.series,d={top:[],bottom:[],left:[],right:[],other:[]},c=0,J=u.length;J>c;c++){u[c].type===this.type&&(u[c]=this.reformOption(u[c]),this.legendHoverLink=u[c].legendHoverLink||this.legendHoverLink,p=u[c].xAxisIndex,I=u[c].yAxisIndex,m=this.component.xAxis.getAxis(p),g=this.component.yAxis.getAxis(I),m.type===C.COMPONENT_TYPE_AXIS_CATEGORY?d[m.getPosition()].push(c):g.type===C.COMPONENT_TYPE_AXIS_CATEGORY?d[g.getPosition()].push(c):d.other.push(c))}for(var h in d){d[h].length>0&&this._buildSinglePosition(h,d[h])}this.addShapeList()},_buildSinglePosition:function(l,g){var d=this._mapData(g),p=d.locationMap,c=d.maxDataLength;if(0!==c&&0!==p.length){switch(l){case"bottom":case"top":this._buildHorizontal(g,c,p,this.xMarkMap);break;case"left":case"right":this._buildVertical(g,c,p,this.xMarkMap);break;case"other":this._buildOther(g,c,p,this.xMarkMap)}for(var m=0,h=g.length;h>m;m++){this.buildMark(g[m])}}},_mapData:function(P){for(var W,O,J,S,I=this.series,g=0,X={},N="__kener__stack__",Q=this.component.legend,R=[],L=0,h=0,T=P.length;T>h;h++){if(W=I[P[h]],J=W.name,this._sIndex2ShapeMap[P[h]]=this._sIndex2ShapeMap[P[h]]||this.query(W,"symbol")||this._symbol[h%this._symbol.length],Q){if(this.selectedMap[J]=Q.isSelected(J),this._sIndex2ColorMap[P[h]]=Q.getColor(J),S=Q.getItemShape(J)){var K=S.style;if(this.type==C.CHART_TYPE_LINE){K.iconType="legendLineIcon",K.symbol=this._sIndex2ShapeMap[P[h]]}else{if(W.itemStyle.normal.barBorderWidth>0){var M=S.highlightStyle;K.brushType="both",K.x+=1,K.y+=1,K.width-=2,K.height-=2,K.strokeColor=M.strokeColor=W.itemStyle.normal.barBorderColor,M.lineWidth=3}}Q.setItemShape(J,S)}}else{this.selectedMap[J]=!0,this._sIndex2ColorMap[P[h]]=this.zr.getColor(P[h])}this.selectedMap[J]&&(O=W.stack||N+P[h],null==X[O]?(X[O]=g,R[g]=[P[h]],g++):R[X[O]].push(P[h])),L=Math.max(L,W.data.length)}return{locationMap:R,maxDataLength:L}},_calculMarkMapXY:function(O,S,M){for(var J=this.series,R=0,I=S.length;I>R;R++){for(var g=0,T=S[R].length;T>g;g++){var L=S[R][g],N="xy"==M?0:"",P=this.component.grid,Q=O[L];if("-1"!=M.indexOf("x")){Q["counter"+N]>0&&(Q["average"+N]=Q["sum"+N]/Q["counter"+N]);var K=this.component.xAxis.getAxis(J[L].xAxisIndex||0).getCoord(Q["average"+N]);Q["averageLine"+N]=[[K,P.getYend()],[K,P.getY()]],Q["minLine"+N]=[[Q["minX"+N],P.getYend()],[Q["minX"+N],P.getY()]],Q["maxLine"+N]=[[Q["maxX"+N],P.getYend()],[Q["maxX"+N],P.getY()]],Q.isHorizontal=!1}if(N="xy"==M?1:"","-1"!=M.indexOf("y")){Q["counter"+N]>0&&(Q["average"+N]=Q["sum"+N]/Q["counter"+N]);var u=this.component.yAxis.getAxis(J[L].yAxisIndex||0).getCoord(Q["average"+N]);Q["averageLine"+N]=[[P.getX(),u],[P.getXend(),u]],Q["minLine"+N]=[[P.getX(),Q["minY"+N]],[P.getXend(),Q["minY"+N]]],Q["maxLine"+N]=[[P.getX(),Q["maxY"+N]],[P.getXend(),Q["maxY"+N]]],Q.isHorizontal=!0}}}},addLabel:function(K,O,I,p,N){var m=[I,O],g=this.deepMerge(m,"itemStyle.normal.label"),P=this.deepMerge(m,"itemStyle.emphasis.label"),u=g.textStyle||{},J=P.textStyle||{};if(g.show){var L=K.style;L.text=this._getLabelText(O,I,p,"normal"),L.textPosition=null==g.position?"horizontal"===N?"right":"top":g.position,L.textColor=u.color,L.textFont=this.getFont(u),L.textAlign=u.align,L.textBaseline=u.baseline}if(P.show){var M=K.highlightStyle;M.text=this._getLabelText(O,I,p,"emphasis"),M.textPosition=g.show?K.style.textPosition:null==P.position?"horizontal"===N?"right":"top":P.position,M.textColor=J.color,M.textFont=this.getFont(J),M.textAlign=J.align,M.textBaseline=J.baseline}return K},_getLabelText:function(h,g,d,m){var c=this.deepQuery([g,h],"itemStyle."+m+".label.formatter");c||"emphasis"!==m||(c=this.deepQuery([g,h],"itemStyle.normal.label.formatter"));var l=this.getDataFromOption(g,"-");return c?"function"==typeof c?c.call(this.myChart,{seriesName:h.name,series:h,name:d,value:l,data:g,status:m}):"string"==typeof c?c=c.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",h.name).replace("{b0}",d).replace("{c0}",this.numAddCommas(l)):void 0:l instanceof Array?null!=l[2]?this.numAddCommas(l[2]):l[0]+" , "+l[1]:this.numAddCommas(l)},buildMark:function(c){var a=this.series[c];this.selectedMap[a.name]&&(a.markLine&&this._buildMarkLine(c),a.markPoint&&this._buildMarkPoint(c))},_buildMarkPoint:function(I){for(var M,u,m=(this.markAttachStyle||{})[I],L=this.series[I],h=f.clone(L.markPoint),g=0,N=h.data.length;N>g;g++){M=h.data[g],u=this.getMarkCoord(I,M),M.x=null!=M.x?M.x:u[0],M.y=null!=M.y?M.y:u[1],!M.type||"max"!==M.type&&"min"!==M.type||(M.value=u[3],M.name=M.name||M.type,M.symbolSize=M.symbolSize||D.getTextWidth(u[3],this.getFont())/2+5)}for(var p=this._markPoint(I,h),g=0,N=p.length;N>g;g++){var J=p[g];J.zlevel=L.zlevel,J.z=L.z+1;for(var K in m){J[K]=f.clone(m[K])}this.shapeList.push(J)}if(this.type===C.CHART_TYPE_FORCE||this.type===C.CHART_TYPE_CHORD){for(var g=0,N=p.length;N>g;g++){this.zr.addShape(p[g])}}},_buildMarkLine:function(O){for(var T,M=(this.markAttachStyle||{})[O],J=this.series[O],R=f.clone(J.markLine),I=0,h=R.data.length;h>I;I++){var U=R.data[I];!U.type||"max"!==U.type&&"min"!==U.type&&"average"!==U.type?T=[this.getMarkCoord(O,U[0]),this.getMarkCoord(O,U[1])]:(T=this.getMarkCoord(O,U),R.data[I]=[f.clone(U),{}],R.data[I][0].name=U.name||U.type,R.data[I][0].value="average"!==U.type?T[3]:+T[3].toFixed(null!=R.precision?R.precision:this.deepQuery([this.ecTheme,C],"markLine.precision")),T=T[2],U=[{},{}]),null!=T&&null!=T[0]&&null!=T[1]&&(R.data[I][0].x=null!=U[0].x?U[0].x:T[0][0],R.data[I][0].y=null!=U[0].y?U[0].y:T[0][1],R.data[I][1].x=null!=U[1].x?U[1].x:T[1][0],R.data[I][1].y=null!=U[1].y?U[1].y:T[1][1])}var P=this._markLine(O,R),Q=R.large;if(Q){var L=new A({style:{shapeList:P}}),l=P[0];if(l){f.merge(L.style,l.style),f.merge(L.highlightStyle={},l.highlightStyle),L.style.brushType="stroke",L.zlevel=J.zlevel,L.z=J.z+1,L.hoverable=!1;for(var S in M){L[S]=f.clone(M[S])}}this.shapeList.push(L),this.zr.addShape(L),L._mark="largeLine";var K=R.effect;K.show&&(L.effect=K)}else{for(var I=0,h=P.length;h>I;I++){var N=P[I];N.zlevel=J.zlevel,N.z=J.z+1;for(var S in M){N[S]=f.clone(M[S])}this.shapeList.push(N)}if(this.type===C.CHART_TYPE_FORCE||this.type===C.CHART_TYPE_CHORD){for(var I=0,h=P.length;h>I;I++){this.zr.addShape(P[I])}}}},_markPoint:function(U,J){var R=this.series[U],O=this.component;f.merge(f.merge(J,f.clone(this.ecTheme.markPoint||{})),f.clone(C.markPoint)),J.name=R.name;var Y,N,L,K,Q,W,P,M=[],I=J.data,d=O.dataRange,S=O.legend,T=this.zr.getWidth(),h=this.zr.getHeight();if(J.large){Y=this.getLargeMarkPointShape(U,J),Y._mark="largePoint",Y&&M.push(Y)}else{for(var X=0,Z=I.length;Z>X;X++){null!=I[X].x&&null!=I[X].y&&(L=null!=I[X].value?I[X].value:"",S&&(N=S.getColor(R.name)),d&&(N=isNaN(L)?N:d.getColor(L),K=[I[X],J],Q=this.deepQuery(K,"itemStyle.normal.color")||N,W=this.deepQuery(K,"itemStyle.emphasis.color")||Q,null==Q&&null==W)||(N=null==N?this.zr.getColor(U):N,I[X].tooltip=I[X].tooltip||J.tooltip||{trigger:"item"},I[X].name=null!=I[X].name?I[X].name:"",I[X].value=L,Y=this.getSymbolShape(J,U,I[X],X,I[X].name,this.parsePercent(I[X].x,T),this.parsePercent(I[X].y,h),"pin",N,"rgba(0,0,0,0)","horizontal"),Y._mark="point",P=this.deepMerge([I[X],J],"effect"),P.show&&(Y.effect=P),R.type===C.CHART_TYPE_MAP&&(Y._geo=this.getMarkGeo(I[X])),F.pack(Y,R,U,I[X],X,I[X].name,L),M.push(Y)))}}return M},_markLine:function(){function a(d,c){d[c]=d[c] instanceof Array?d[c].length>1?d[c]:[d[c][0],d[c][0]]:[d[c],d[c]]}return function(ae,aa){var aj=this.series[ae],Z=this.component,V=Z.dataRange,T=Z.legend;f.merge(f.merge(aa,f.clone(this.ecTheme.markLine||{})),f.clone(C.markLine));var ac=T?T.getColor(aj.name):this.zr.getColor(ae);a(aa,"symbol"),a(aa,"symbolSize"),a(aa,"symbolRotate");for(var ah=aa.data,ab=[],Y=this.zr.getWidth(),R=this.zr.getHeight(),af=0;af<ah.length;af++){var ag=ah[af];if(k(ag[0])&&k(ag[1])){var M=this.deepMerge(ag),ai=[M,aa],ak=ac,O=null!=M.value?M.value:"";if(V){ak=isNaN(O)?ak:V.getColor(O);var ad=this.deepQuery(ai,"itemStyle.normal.color")||ak,Q=this.deepQuery(ai,"itemStyle.emphasis.color")||ad;if(null==ad&&null==Q){continue}}ag[0].tooltip=M.tooltip||aa.tooltip||{trigger:"item"},ag[0].name=ag[0].name||"",ag[1].name=ag[1].name||"",ag[0].value=O,ab.push({points:[[this.parsePercent(ag[0].x,Y),this.parsePercent(ag[0].y,R)],[this.parsePercent(ag[1].x,Y),this.parsePercent(ag[1].y,R)]],rawData:ag,color:ak})}}var t=this.query(aa,"bundling.enable");if(t){var P=new b;P.maxTurningAngle=this.query(aa,"bundling.maxTurningAngle")/180*Math.PI,ab=P.run(ab)}aa.name=aj.name;for(var e=[],af=0,d=ab.length;d>af;af++){var N=ab[af],h=N.rawEdge||N,ag=h.rawData,O=null!=ag.value?ag.value:"",J=this.getMarkLineShape(aa,ae,ag,af,N.points,t,h.color);J._mark="line";var U=this.deepMerge([ag[0],ag[1],aa],"effect");U.show&&(J.effect=U,J.effect.large=aa.large),aj.type===C.CHART_TYPE_MAP&&(J._geo=[this.getMarkGeo(ag[0]),this.getMarkGeo(ag[1])]),F.pack(J,aj,ae,ag[0],af,ag[0].name+(""!==ag[1].name?" > "+ag[1].name:""),O),e.push(J)}return e}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(ac,O,Y,S,Q,P,W,Z,ad,T,R){var N=[Y,ac],a=this.getDataFromOption(Y,"-");Z=this.deepQuery(N,"symbol")||Z;var d=this.deepQuery(N,"symbolSize");d="function"==typeof d?d(a):d,"number"==typeof d&&(d=[d,d]);var aa=this.deepQuery(N,"symbolRotate"),ab=this.deepMerge(N,"itemStyle.normal"),I=this.deepMerge(N,"itemStyle.emphasis"),ae=null!=ab.borderWidth?ab.borderWidth:ab.lineStyle&&ab.lineStyle.width;null==ae&&(ae=Z.match("empty")?2:0);var af=null!=I.borderWidth?I.borderWidth:I.lineStyle&&I.lineStyle.width;null==af&&(af=ae+2);var J=this.getItemStyleColor(ab.color,O,S,Y),X=this.getItemStyleColor(I.color,O,S,Y),M=d[0],n=d[1],K=new H({style:{iconType:Z.replace("empty","").toLowerCase(),x:P-M,y:W-n,width:2*M,height:2*n,brushType:"both",color:Z.match("empty")?T:J||ad,strokeColor:ab.borderColor||J||ad,lineWidth:ae},highlightStyle:{color:Z.match("empty")?T:X||J||ad,strokeColor:I.borderColor||ab.borderColor||X||J||ad,lineWidth:af},clickable:this.deepQuery(N,"clickable")});return Z.match("image")&&(K.style.image=Z.replace(new RegExp("^image:\\/\\/"),""),K=new y({style:K.style,highlightStyle:K.highlightStyle,clickable:this.deepQuery(N,"clickable")})),null!=aa&&(K.rotation=[aa*Math.PI/180,P,W]),Z.match("star")&&(K.style.iconType="star",K.style.n=Z.replace("empty","").replace("star","")-0||5),"none"===Z&&(K.invisible=!0,K.hoverable=!1),K=this.addLabel(K,ac,Y,Q,R),Z.match("empty")&&(null==K.style.textColor&&(K.style.textColor=K.style.strokeColor),null==K.highlightStyle.textColor&&(K.highlightStyle.textColor=K.highlightStyle.strokeColor)),F.pack(K,ac,O,Y,S,Q),K._x=P,K._y=W,K._dataIndex=S,K._seriesIndex=O,K},getMarkLineShape:function(Z,M,T,P,ad,N,R){var W=null!=T[0].value?T[0].value:"-",aa=null!=T[1].value?T[1].value:"-",ab=[T[0].symbol||Z.symbol[0],T[1].symbol||Z.symbol[1]],Q=[T[0].symbolSize||Z.symbolSize[0],T[1].symbolSize||Z.symbolSize[1]];Q[0]="function"==typeof Q[0]?Q[0](W):Q[0],Q[1]="function"==typeof Q[1]?Q[1](aa):Q[1];var O=[this.query(T[0],"symbolRotate")||Z.symbolRotate[0],this.query(T[1],"symbolRotate")||Z.symbolRotate[1]],L=[T[0],T[1],Z],o=this.deepMerge(L,"itemStyle.normal");o.color=this.getItemStyleColor(o.color,M,P,T);var s=this.deepMerge(L,"itemStyle.emphasis");s.color=this.getItemStyleColor(s.color,M,P,T);var X=o.lineStyle,Y=s.lineStyle,I=X.width;null==I&&(I=o.borderWidth);var ac=Y.width;null==ac&&(ac=null!=s.borderWidth?s.borderWidth:I+2);var ae=this.deepQuery(L,"smoothness");this.deepQuery(L,"smooth")||(ae=0);var J=N?q:x,S=new J({style:{symbol:ab,symbolSize:Q,symbolRotate:O,brushType:"both",lineType:X.type,shadowColor:X.shadowColor||X.color||o.borderColor||o.color||R,shadowBlur:X.shadowBlur,shadowOffsetX:X.shadowOffsetX,shadowOffsetY:X.shadowOffsetY,color:o.color||R,strokeColor:X.color||o.borderColor||o.color||R,lineWidth:I,symbolBorderColor:o.borderColor||o.color||R,symbolBorder:o.borderWidth},highlightStyle:{shadowColor:Y.shadowColor,shadowBlur:Y.shadowBlur,shadowOffsetX:Y.shadowOffsetX,shadowOffsetY:Y.shadowOffsetY,color:s.color||o.color||R,strokeColor:Y.color||X.color||s.borderColor||o.borderColor||s.color||o.color||R,lineWidth:ac,symbolBorderColor:s.borderColor||o.borderColor||s.color||o.color||R,symbolBorder:null==s.borderWidth?o.borderWidth+2:s.borderWidth},clickable:this.deepQuery(L,"clickable")}),K=S.style;return N?(K.pointList=ad,K.smooth=ae):(K.xStart=ad[0][0],K.yStart=ad[0][1],K.xEnd=ad[1][0],K.yEnd=ad[1][1],K.curveness=ae,S.updatePoints(S.style)),S=this.addLabel(S,Z,T[0],T[0].name+" : "+T[1].name)},getLargeMarkPointShape:function(P,W){var N,I,S,r,X,M,O=this.series[P],Q=this.component,R=W.data,K=Q.dataRange,g=Q.legend,T=[R[0],W];if(g&&(I=g.getColor(O.name)),!K||(S=null!=R[0].value?R[0].value:"",I=isNaN(S)?I:K.getColor(S),r=this.deepQuery(T,"itemStyle.normal.color")||I,X=this.deepQuery(T,"itemStyle.emphasis.color")||r,null!=r||null!=X)){I=this.deepMerge(T,"itemStyle.normal").color||I;var J=this.deepQuery(T,"symbol")||"circle";J=J.replace("empty","").replace(/\d/g,""),M=this.deepMerge([R[0],W],"effect");var L=window.devicePixelRatio||1;return N=new v({style:{pointList:R,color:I,strokeColor:I,shadowColor:M.shadowColor||I,shadowBlur:(null!=M.shadowBlur?M.shadowBlur:8)*L,size:this.deepQuery(T,"symbolSize"),iconType:J,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),M.show&&(N.effect=M),N}},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var K,O,J=this.option.animationThreshold/(this.canvasSupported?2:4),p=this.lastShapeList,N=this.shapeList,h=p.length>0,g=h?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),P=this.query(this.option,"animationEasing"),I={},L={};if(this.option.animation&&!this.option.renderAsImage&&N.length<J&&!this.motionlessOnce){for(var M=0,u=p.length;u>M;M++){O=this._getAnimationKey(p[M]),O.match("undefined")?this.zr.delShape(p[M].id):(O+=p[M].type,I[O]?this.zr.delShape(p[M].id):I[O]=p[M])}for(var M=0,u=N.length;u>M;M++){O=this._getAnimationKey(N[M]),O.match("undefined")?this.zr.addShape(N[M]):(O+=N[M].type,L[O]=N[M])}for(O in I){L[O]||this.zr.delShape(I[O].id)}for(O in L){I[O]?(this.zr.delShape(I[O].id),this._animateMod(I[O],L[O],g,P,0,h)):(K=this.type!=C.CHART_TYPE_LINE&&this.type!=C.CHART_TYPE_RADAR||0===O.indexOf("icon")?0:g/2,this._animateMod(!1,L[O],g,P,K,h))}this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(p);for(var M=0,u=N.length;u>M;M++){this.zr.addShape(N[M])}}},_getAnimationKey:function(a){return this.type!=C.CHART_TYPE_MAP&&this.type!=C.CHART_TYPE_TREEMAP&&this.type!=C.CHART_TYPE_VENN&&this.type!=C.CHART_TYPE_TREE?F.get(a,"seriesIndex")+"_"+F.get(a,"dataIndex")+(a._mark?a._mark:"")+(this.type===C.CHART_TYPE_RADAR?F.get(a,"special"):""):F.get(a,"seriesIndex")+"_"+F.get(a,"dataIndex")+(a._mark?a._mark:"undefined")},_animateMod:function(h,g,d,m,c,l){switch(g.type){case"polyline":case"half-smooth-polygon":G.pointList(this.zr,h,g,d,m);break;case"rectangle":G.rectangle(this.zr,h,g,d,m);break;case"image":case"icon":G.icon(this.zr,h,g,d,m,c);break;case"candle":l?this.zr.addShape(g):G.candle(this.zr,h,g,d,m);break;case"ring":case"sector":case"circle":l?"sector"===g.type?G.sector(this.zr,h,g,d,m):this.zr.addShape(g):G.ring(this.zr,h,g,d+(F.get(g,"dataIndex")||0)%20*100,m);break;case"text":G.text(this.zr,h,g,d,m);break;case"polygon":l?G.pointList(this.zr,h,g,d,m):G.polygon(this.zr,h,g,d,m);break;case"ribbon":G.ribbon(this.zr,h,g,d,m);break;case"gauge-pointer":G.gaugePointer(this.zr,h,g,d,m);break;case"mark-line":G.markline(this.zr,h,g,d,m);break;case"bezier-curve":case"line":G.line(this.zr,h,g,d,m);break;default:this.zr.addShape(g)}},animationMark:function(h,g,d){for(var d=d||this.shapeList,l=0,c=d.length;c>l;l++){d[l]._mark&&this._animateMod(!1,d[l],h,g,0,!0)}this.animationEffect(d)},animationEffect:function(h){if(!h&&this.clearEffectShape(),h=h||this.shapeList,null!=h){var g=C.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(g,{motionBlur:!0,lastFrameAlpha:this.option.effectBlendAlpha||C.effectBlendAlpha});for(var d,l=0,c=h.length;c>l;l++){d=h[l],d._mark&&d.effect&&d.effect.show&&z[d._mark]&&(z[d._mark](this.zr,this.effectList,d,g),this.effectList[this.effectList.length-1]._mark=d._mark)}}},clearEffectShape:function(d){var c=this.effectList;if(this.zr&&c&&c.length>0){d&&this.zr.modLayer(C.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(c);for(var a=0;a<c.length;a++){c[a].effectAnimator&&c[a].effectAnimator.stop()}}this.effectList=[]},addMark:function(I,K,p){var g=this.series[I];if(this.selectedMap[g.name]){var J=this.query(this.option,"animationDurationUpdate"),d=this.query(this.option,"animationEasing"),c=g[p].data,L=this.shapeList.length;if(g[p].data=K.data,this["_build"+p.replace("m","M")](I),this.option.animation&&!this.option.renderAsImage){this.animationMark(J,d,this.shapeList.slice(L))}else{for(var m=L,u=this.shapeList.length;u>m;m++){this.zr.addShape(this.shapeList[m])}this.zr.refreshNextFrame()}g[p].data=c}},delMark:function(p,I,m){m=m.replace("mark","").replace("large","").toLowerCase();var g=this.series[p];if(this.selectedMap[g.name]){for(var u=!1,d=[this.shapeList,this.effectList],c=2;c--;){for(var J=0,h=d[c].length;h>J;J++){if(d[c][J]._mark==m&&F.get(d[c][J],"seriesIndex")==p&&F.get(d[c][J],"name")==I){this.zr.delShape(d[c][J].id),d[c].splice(J,1),u=!0;break}}}u&&this.zr.refreshNextFrame()}}},f.inherits(B,j),B}),define("zrender/shape/Circle",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"circle",buildPath:function(f,d){f.moveTo(d.x+d.r,d.y),f.arc(d.x,d.y,d.r,0,2*Math.PI,!0)},getRect:function(f){if(f.__rect){return f.__rect}var d;return d="stroke"==f.brushType||"fill"==f.brushType?f.lineWidth||1:0,f.__rect={x:Math.round(f.x-f.r-d/2),y:Math.round(f.y-f.r-d/2),width:2*f.r+d,height:2*f.r+d},f.__rect}},c("../tool/util").inherits(a,b),a}),define("echarts/util/accMath",[],function(){function c(j,h){var g=j.toString(),l=h.toString(),f=0;try{f=l.split(".")[1].length}catch(k){}try{f-=g.split(".")[1].length}catch(k){}return(g.replace(".","")-0)/(l.replace(".","")-0)*Math.pow(10,f)}function b(j,h){var g=j.toString(),l=h.toString(),f=0;try{f+=g.split(".")[1].length}catch(k){}try{f+=l.split(".")[1].length}catch(k){}return(g.replace(".","")-0)*(l.replace(".","")-0)/Math.pow(10,f)}function a(j,h){var g=0,l=0;try{g=j.toString().split(".")[1].length}catch(f){}try{l=h.toString().split(".")[1].length}catch(f){}var k=Math.pow(10,Math.max(g,l));return(Math.round(j*k)+Math.round(h*k))/k}function d(g,f){return a(g,-f)}return{accDiv:c,accMul:b,accAdd:a,accSub:d}}),define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(ad){function K(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h+d.height),f.lineTo(c+5*b,h+14*g),f.lineTo(c+d.width,h+3*g),f.lineTo(c+13*b,h),f.lineTo(c+2*b,h+11*g),f.lineTo(c,h+d.height),f.moveTo(c+6*b,h+10*g),f.lineTo(c+14*b,h+2*g),f.moveTo(c+10*b,h+13*g),f.lineTo(c+d.width,h+13*g),f.moveTo(c+13*b,h+10*g),f.lineTo(c+13*b,h+d.height)}function Z(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h+d.height),f.lineTo(c+5*b,h+14*g),f.lineTo(c+d.width,h+3*g),f.lineTo(c+13*b,h),f.lineTo(c+2*b,h+11*g),f.lineTo(c,h+d.height),f.moveTo(c+6*b,h+10*g),f.lineTo(c+14*b,h+2*g),f.moveTo(c+10*b,h+13*g),f.lineTo(c+d.width,h+13*g)}function Q(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c+4*b,h+15*g),f.lineTo(c+9*b,h+13*g),f.lineTo(c+14*b,h+8*g),f.lineTo(c+11*b,h+5*g),f.lineTo(c+6*b,h+10*g),f.lineTo(c+4*b,h+15*g),f.moveTo(c+5*b,h),f.lineTo(c+11*b,h),f.moveTo(c+5*b,h+g),f.lineTo(c+11*b,h+g),f.moveTo(c,h+2*g),f.lineTo(c+d.width,h+2*g),f.moveTo(c,h+5*g),f.lineTo(c+3*b,h+d.height),f.lineTo(c+13*b,h+d.height),f.lineTo(c+d.width,h+5*g)}function ah(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h+3*g),f.lineTo(c+6*b,h+3*g),f.moveTo(c+3*b,h),f.lineTo(c+3*b,h+6*g),f.moveTo(c+3*b,h+8*g),f.lineTo(c+3*b,h+d.height),f.lineTo(c+d.width,h+d.height),f.lineTo(c+d.width,h+3*g),f.lineTo(c+8*b,h+3*g)}function P(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c+6*b,h),f.lineTo(c+2*b,h+3*g),f.lineTo(c+6*b,h+6*g),f.moveTo(c+2*b,h+3*g),f.lineTo(c+14*b,h+3*g),f.lineTo(c+14*b,h+11*g),f.moveTo(c+2*b,h+5*g),f.lineTo(c+2*b,h+13*g),f.lineTo(c+14*b,h+13*g),f.moveTo(c+10*b,h+10*g),f.lineTo(c+14*b,h+13*g),f.lineTo(c+10*b,h+d.height)}function N(g,d){var c=d.x,k=d.y,b=d.width/16,h=d.height/16,f=d.width/2;g.lineWidth=1.5,g.arc(c+f,k+f,f-b,0,2*Math.PI/3),g.moveTo(c+3*b,k+d.height),g.lineTo(c+0*b,k+12*h),g.lineTo(c+5*b,k+11*h),g.moveTo(c,k+8*h),g.arc(c+f,k+f,f-b,Math.PI,5*Math.PI/3),g.moveTo(c+13*b,k),g.lineTo(c+d.width,k+4*h),g.lineTo(c+11*b,k+5*h)}function M(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h),f.lineTo(c,h+d.height),f.lineTo(c+d.width,h+d.height),f.moveTo(c+2*b,h+14*g),f.lineTo(c+7*b,h+6*g),f.lineTo(c+11*b,h+11*g),f.lineTo(c+15*b,h+2*g)}function T(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h),f.lineTo(c,h+d.height),f.lineTo(c+d.width,h+d.height),f.moveTo(c+3*b,h+14*g),f.lineTo(c+3*b,h+6*g),f.lineTo(c+4*b,h+6*g),f.lineTo(c+4*b,h+14*g),f.moveTo(c+7*b,h+14*g),f.lineTo(c+7*b,h+2*g),f.lineTo(c+8*b,h+2*g),f.lineTo(c+8*b,h+14*g),f.moveTo(c+11*b,h+14*g),f.lineTo(c+11*b,h+9*g),f.lineTo(c+12*b,h+9*g),f.lineTo(c+12*b,h+14*g)}function aa(g,d){var c=d.x,k=d.y,b=d.width-2,h=d.height-2,f=Math.min(b,h)/2;k+=2,g.moveTo(c+f+3,k+f-3),g.arc(c+f+3,k+f-3,f-1,0,-Math.PI/2,!0),g.lineTo(c+f+3,k+f-3),g.moveTo(c+f,k),g.lineTo(c+f,k+f),g.arc(c+f,k+f,f,-Math.PI/2,2*Math.PI,!0),g.lineTo(c+f,k+f),g.lineWidth=1.5}function ae(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;h-=g,f.moveTo(c+1*b,h+2*g),f.lineTo(c+15*b,h+2*g),f.lineTo(c+14*b,h+3*g),f.lineTo(c+2*b,h+3*g),f.moveTo(c+3*b,h+6*g),f.lineTo(c+13*b,h+6*g),f.lineTo(c+12*b,h+7*g),f.lineTo(c+4*b,h+7*g),f.moveTo(c+5*b,h+10*g),f.lineTo(c+11*b,h+10*g),f.lineTo(c+10*b,h+11*g),f.lineTo(c+6*b,h+11*g),f.moveTo(c+7*b,h+14*g),f.lineTo(c+9*b,h+14*g),f.lineTo(c+8*b,h+15*g),f.lineTo(c+7*b,h+15*g)}function af(h,m){var g=m.x,d=m.y,k=m.width,c=m.height,b=k/16,p=c/16,f=2*Math.min(b,p);h.moveTo(g+b+f,d+p+f),h.arc(g+b,d+p,f,Math.PI/4,3*Math.PI),h.lineTo(g+7*b-f,d+6*p-f),h.arc(g+7*b,d+6*p,f,Math.PI/4*5,4*Math.PI),h.arc(g+7*b,d+6*p,f/2,Math.PI/4*5,4*Math.PI),h.moveTo(g+7*b-f/2,d+6*p+f),h.lineTo(g+b+f,d+14*p-f),h.arc(g+b,d+14*p,f,-Math.PI/4,2*Math.PI),h.moveTo(g+7*b+f/2,d+6*p),h.lineTo(g+14*b-f,d+10*p-f/2),h.moveTo(g+16*b,d+10*p),h.arc(g+14*b,d+10*p,f,0,3*Math.PI),h.lineWidth=1.5}function R(g,d){var c=d.x,k=d.y,b=d.width,h=d.height,f=Math.min(b,h)/2;g.moveTo(c+b,k+h/2),g.arc(c+f,k+f,f,0,2*Math.PI),g.arc(c+f,k,f,Math.PI/4,Math.PI/5*4),g.arc(c,k+f,f,-Math.PI/3,Math.PI/3),g.arc(c+b,k+h,f,Math.PI,Math.PI/2*3),g.lineWidth=1.5}function O(h,m){for(var g=m.x,d=m.y,k=m.width,c=m.height,b=Math.round(c/3),p=Math.round((b-2)/2),f=3;f--;){h.rect(g,d+b*f+p,k,2)}}function J(h,m){for(var g=m.x,d=m.y,k=m.width,c=m.height,b=Math.round(k/3),p=Math.round((b-2)/2),f=3;f--;){h.rect(g+b*f+p,d,2,c)}}function z(f,d){var c=d.x,g=d.y,b=d.width/16;f.moveTo(c+b,g),f.lineTo(c+b,g+d.height),f.lineTo(c+15*b,g+d.height),f.lineTo(c+15*b,g),f.lineTo(c+b,g),f.moveTo(c+3*b,g+3*b),f.lineTo(c+13*b,g+3*b),f.moveTo(c+3*b,g+6*b),f.lineTo(c+13*b,g+6*b),f.moveTo(c+3*b,g+9*b),f.lineTo(c+13*b,g+9*b),f.moveTo(c+3*b,g+12*b),f.lineTo(c+9*b,g+12*b)}function A(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h),f.lineTo(c,h+d.height),f.lineTo(c+d.width,h+d.height),f.lineTo(c+d.width,h),f.lineTo(c,h),f.moveTo(c+4*b,h),f.lineTo(c+4*b,h+8*g),f.lineTo(c+12*b,h+8*g),f.lineTo(c+12*b,h),f.moveTo(c+6*b,h+11*g),f.lineTo(c+6*b,h+13*g),f.lineTo(c+10*b,h+13*g),f.lineTo(c+10*b,h+11*g),f.lineTo(c+6*b,h+11*g)}function ab(f,d){var c=d.x,h=d.y,b=d.width,g=d.height;f.moveTo(c,h+g/2),f.lineTo(c+b,h+g/2),f.moveTo(c+b/2,h),f.lineTo(c+b/2,h+g)}function ac(f,d){var c=d.width/2,g=d.height/2,b=Math.min(c,g);f.moveTo(d.x+c+b,d.y+g),f.arc(d.x+c,d.y+g,b,0,2*Math.PI),f.closePath()}function D(b,a){b.rect(a.x,a.y,a.width,a.height),b.closePath()}function ag(g,d){var c=d.width/2,k=d.height/2,b=d.x+c,h=d.y+k,f=Math.min(c,k);g.moveTo(b,h-f),g.lineTo(b+f,h+f),g.lineTo(b-f,h+f),g.lineTo(b,h-f),g.closePath()}function ai(g,d){var c=d.width/2,k=d.height/2,b=d.x+c,h=d.y+k,f=Math.min(c,k);g.moveTo(b,h-f),g.lineTo(b+f,h),g.lineTo(b,h+f),g.lineTo(b-f,h),g.lineTo(b,h-f),g.closePath()}function F(f,d){var c=d.x,g=d.y,b=d.width/16;f.moveTo(c+8*b,g),f.lineTo(c+b,g+d.height),f.lineTo(c+8*b,g+d.height/4*3),f.lineTo(c+15*b,g+d.height),f.lineTo(c+8*b,g),f.closePath()}function Y(d,c){var f=ad("zrender/shape/Star"),b=c.width/2,e=c.height/2;f.prototype.buildPath(d,{x:c.x+b,y:c.y+e,r:Math.min(b,e),n:c.n||5})}function H(b,a){var c=ad("zrender/shape/Heart");c.prototype.buildPath(b,{x:a.x+a.width/2,y:a.y+0.2*a.height,a:a.width/2,b:0.8*a.height})}function C(b,a){var c=ad("zrender/shape/Droplet");c.prototype.buildPath(b,{x:a.x+0.5*a.width,y:a.y+0.5*a.height,a:0.5*a.width,b:0.8*a.height})}function G(g,d){var c=d.x,k=d.y-d.height/2*1.5,b=d.width/2,h=d.height/2,f=Math.min(b,h);g.arc(c+b,k+h,f,Math.PI/5*4,Math.PI/5),g.lineTo(c+b,k+h+1.5*f),g.closePath()}function q(d,c,f){var b=ad("zrender/shape/Image");this._imageShape=this._imageShape||new b({style:{}});for(var e in c){this._imageShape.style[e]=c[e]}this._imageShape.brush(d,!1,f)}function j(a){B.call(this,a)}var E=ad("zrender/tool/util"),B=ad("zrender/shape/Base");return j.prototype={type:"icon",iconLibrary:{mark:K,markUndo:Z,markClear:Q,dataZoom:ah,dataZoomReset:P,restore:N,lineChart:M,barChart:T,pieChart:aa,funnelChart:ae,forceChart:af,chordChart:R,stackChart:O,tiledChart:J,dataView:z,saveAsImage:A,cross:ab,circle:ac,rectangle:D,triangle:ag,diamond:ai,arrow:F,star:Y,heart:H,droplet:C,pin:G,image:q},brush:function(d,c,g){var b=c?this.highlightStyle:this.style;b=b||{};var f=b.iconType||this.style.iconType;if("image"===f){var e=ad("zrender/shape/Image");e.prototype.brush.call(this,d,c,g)}else{var b=this.beforeBrush(d,c);switch(d.beginPath(),this.buildPath(d,b,g),b.brushType){case"both":d.fill();case"stroke":b.lineWidth>0&&d.stroke();break;default:d.fill()}this.drawText(d,b,this.style),this.afterBrush(d)}},buildPath:function(c,b,a){this.iconLibrary[b.iconType]?this.iconLibrary[b.iconType].call(this,c,b,a):(c.moveTo(b.x,b.y),c.lineTo(b.x+b.width,b.y),c.lineTo(b.x+b.width,b.y+b.height),c.lineTo(b.x,b.y+b.height),c.lineTo(b.x,b.y),c.closePath())},getRect:function(a){return a.__rect?a.__rect:(a.__rect={x:Math.round(a.x),y:Math.round(a.y-("pin"==a.iconType?a.height/2*1.5:0)),width:a.width,height:a.height*("pin"===a.iconType?1.25:1)},a.__rect)},isCover:function(f,d){var c=this.transformCoordToLocal(f,d);f=c[0],d=c[1];var g=this.style.__rect;g||(g=this.style.__rect=this.getRect(this.style));var b=g.height<8||g.width<8?4:0;return f>=g.x-b&&f<=g.x+g.width+b&&d>=g.y-b&&d<=g.y+g.height+b}},E.inherits(j,B),j}),define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(p){function w(a){k.call(this,a),this.style.curveness>0&&this.updatePoints(this.style),this.highlightStyle.curveness>0&&this.updatePoints(this.highlightStyle)}var k=p("zrender/shape/Base"),g=p("./Icon"),v=p("zrender/shape/Line"),f=new v({}),b=p("zrender/shape/BezierCurve"),x=new b({}),j=p("zrender/tool/area"),m=p("zrender/shape/util/dashedLineTo"),q=p("zrender/tool/util"),u=p("zrender/tool/curve");return w.prototype={type:"mark-line",brush:function(d,c){var a=this.style;c&&(a=this.getHighlightStyle(a,this.highlightStyle||{})),d.save(),this.setContext(d,a),this.setTransform(d),d.save(),d.beginPath(),this.buildPath(d,a),d.stroke(),d.restore(),this.brushSymbol(d,a,0),this.brushSymbol(d,a,1),this.drawText(d,a,this.style),d.restore()},buildPath:function(l,h){var d=h.lineType||"solid";if(l.moveTo(h.xStart,h.yStart),h.curveness>0){var o=null;switch(d){case"dashed":o=[5,5];break;case"dotted":o=[1,1]}o&&l.setLineDash&&l.setLineDash(o),l.quadraticCurveTo(h.cpX1,h.cpY1,h.xEnd,h.yEnd)}else{if("solid"==d){l.lineTo(h.xEnd,h.yEnd)}else{var c=(h.lineWidth||1)*("dashed"==h.lineType?5:1);m(l,h.xStart,h.yStart,h.xEnd,h.yEnd,c)}}},updatePoints:function(A){var C=A.curveness||0,z=1,h=A.xStart,B=A.yStart,d=A.xEnd,c=A.yEnd,D=(h+d)/2-z*(B-c)*C,y=(B+c)/2-z*(d-h)*C;A.cpX1=D,A.cpY1=y},brushSymbol:function(M,B,I){if("none"!=B.symbol[I]){M.save(),M.beginPath(),M.lineWidth=B.symbolBorder,M.strokeStyle=B.symbolBorderColor;var P=B.symbol[I].replace("empty","").toLowerCase();B.symbol[I].match("empty")&&(M.fillStyle="#fff");var F=B.xStart,D=B.yStart,C=B.xEnd,H=B.yEnd,J=0===I?F:C,N=0===I?D:H,G=B.curveness||0,E=null!=B.symbolRotate[I]?B.symbolRotate[I]-0:0;if(E=E/180*Math.PI,"arrow"==P&&0===E){if(0===G){var A=0===I?-1:1;E=Math.PI/2+Math.atan2(A*(H-D),A*(C-F))}else{var c=B.cpX1,n=B.cpY1,K=u.quadraticDerivativeAt,L=K(F,c,C,I),z=K(D,n,H,I);E=Math.PI/2+Math.atan2(z,L)}}M.translate(J,N),0!==E&&M.rotate(E);var O=B.symbolSize[I];g.prototype.buildPath(M,{x:-O,y:-O,width:2*O,height:2*O,iconType:P}),M.closePath(),M.fill(),M.stroke(),M.restore()}},getRect:function(a){return a.curveness>0?x.getRect(a):f.getRect(a),a.__rect},isCover:function(d,c){var a=this.transformCoordToLocal(d,c);return d=a[0],c=a[1],this.isCoverRect(d,c)?this.style.curveness>0?j.isInside(x,this.style,d,c):j.isInside(f,this.style,d,c):!1}},q.inherits(w,k),w}),define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(f){function d(a){c.call(this,a)}var c=f("zrender/shape/Base"),h=f("zrender/shape/Polygon"),b=new h({}),g=f("zrender/tool/util");return d.prototype={type:"symbol",buildPath:function(G,v){var D=v.pointList,A=D.length;if(0!==A){for(var J,z,x,w,C,E=10000,H=Math.ceil(A/E),I=D[0] instanceof Array,B=v.size?v.size:2,y=B,q=B/2,j=2*Math.PI,k=0;H>k;k++){G.beginPath(),J=k*E,z=J+E,z=z>A?A:z;for(var F=J;z>F;F++){if(v.random&&(x=v["randomMap"+F%20]/100,y=B*x*x,q=y/2),I?(w=D[F][0],C=D[F][1]):(w=D[F].x,C=D[F].y),3>y){G.rect(w-q,C-q,y,y)}else{switch(v.iconType){case"circle":G.moveTo(w,C),G.arc(w,C,q,0,j,!0);break;case"diamond":G.moveTo(w,C-q),G.lineTo(w+q/3,C-q/3),G.lineTo(w+q,C),G.lineTo(w+q/3,C+q/3),G.lineTo(w,C+q),G.lineTo(w-q/3,C+q/3),G.lineTo(w-q,C),G.lineTo(w-q/3,C-q/3),G.lineTo(w,C-q);break;default:G.rect(w-q,C-q,y,y)}}}if(G.closePath(),H-1>k){switch(v.brushType){case"both":G.fill(),v.lineWidth>0&&G.stroke();break;case"stroke":v.lineWidth>0&&G.stroke();break;default:G.fill()}}}}},getRect:function(a){return a.__rect||b.getRect(a)},isCover:f("./normalIsCover")},g.inherits(d,c),d}),define("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(f){var d=f("./Base"),c=f("./util/smoothSpline"),h=f("./util/smoothBezier"),b=f("./util/dashedLineTo"),g=function(a){this.brushTypeOnly="stroke",this.textPosition="end",d.call(this,a)};return g.prototype={type:"polyline",buildPath:function(p,v){var j=v.pointList;if(!(j.length<2)){var i=Math.min(v.pointList.length,Math.round(v.pointListLength||v.pointList.length));if(v.smooth&&"spline"!==v.smooth){v.controlPointList||this.updateControlPoints(v);var a=v.controlPointList;p.moveTo(j[0][0],j[0][1]);for(var w,k,m,q=0;i-1>q;q++){w=a[2*q],k=a[2*q+1],m=j[q+1],p.bezierCurveTo(w[0],w[1],k[0],k[1],m[0],m[1])}}else{if("spline"===v.smooth&&(j=c(j),i=j.length),v.lineType&&"solid"!=v.lineType){if("dashed"==v.lineType||"dotted"==v.lineType){var u=(v.lineWidth||1)*("dashed"==v.lineType?5:1);p.moveTo(j[0][0],j[0][1]);for(var q=1;i>q;q++){b(p,j[q-1][0],j[q-1][1],j[q][0],j[q][1],u)}}}else{p.moveTo(j[0][0],j[0][1]);for(var q=1;i>q;q++){p.lineTo(j[q][0],j[q][1])}}}}},updateControlPoints:function(a){a.controlPointList=h(a.pointList,a.smooth,!1,a.smoothConstraint)},getRect:function(a){return f("./Polygon").prototype.getRect(a)}},f("../tool/util").inherits(g,d),g}),define("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={constructor:a,type:"shape-bundle",brush:function(h,g){var f=this.beforeBrush(h,g);h.beginPath();for(var k=0;k<f.shapeList.length;k++){var d=f.shapeList[k],j=d.style;g&&(j=d.getHighlightStyle(j,d.highlightStyle||{},d.brushTypeOnly)),d.buildPath(h,j)}switch(f.brushType){case"both":h.fill();case"stroke":f.lineWidth>0&&h.stroke();break;default:h.fill()}this.drawText(h,f,this.style),this.afterBrush(h)},getRect:function(k){if(k.__rect){return k.__rect}for(var g=1/0,f=-(1/0),m=1/0,d=-(1/0),l=0;l<k.shapeList.length;l++){var j=k.shapeList[l],h=j.getRect(j.style),g=Math.min(h.x,g),m=Math.min(h.y,m),f=Math.max(h.x+h.width,f),d=Math.max(h.y+h.height,d)}return k.__rect={x:g,y:m,width:f-g,height:d-m},k.__rect},isCover:function(h,g){var f=this.transformCoordToLocal(h,g);if(h=f[0],g=f[1],this.isCoverRect(h,g)){for(var j=0;j<this.style.shapeList.length;j++){var d=this.style.shapeList[j];if(d.isCover(h,g)){return !0}}}return !1}},c("../tool/util").inherits(a,b),a}),define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(y){function D(I,M,G,u,L){var p,m=G.style.pointList,N=m.length;if(!M){if(p=[],"vertical"!=G._orient){for(var F=m[0][1],H=0;N>H;H++){p[H]=[m[H][0],F]}}else{for(var J=m[0][0],H=0;N>H;H++){p[H]=[J,m[H][1]]}}"half-smooth-polygon"==G.type&&(p[N-1]=C.clone(m[N-1]),p[N-2]=C.clone(m[N-2])),M={style:{pointList:p}}}p=M.style.pointList;var K=p.length;G.style.pointList=K==N?p:N>K?p.concat(m.slice(K)):p.slice(0,N),I.addShape(G),G.__animating=!0,I.animate(G.id,"style").when(u,{pointList:m}).during(function(){G.updateControlPoints&&G.updateControlPoints(G.style)}).done(function(){G.__animating=!1}).start(L)}function w(l,h){for(var d=arguments.length,m=2;d>m;m++){var c=arguments[m];l.style[c]=h.style[c]}}function j(G,K,p,J,m){var i=p.style;K||(K={position:p.position,style:{x:i.x,y:"vertical"==p._orient?i.y+i.height:i.y,width:"vertical"==p._orient?i.width:0,height:"vertical"!=p._orient?i.height:0}});var L=i.x,u=i.y,F=i.width,H=i.height,I=[p.position[0],p.position[1]];w(p,K,"x","y","width","height"),p.position=K.position,G.addShape(p),(I[0]!=K.position[0]||I[1]!=K.position[1])&&G.animate(p.id,"").when(J,{position:I}).start(m),p.__animating=!0,G.animate(p.id,"style").when(J,{x:L,y:u,width:F,height:H}).done(function(){p.__animating=!1}).start(m)}function B(m,h,d,s,c){if(!h){var p=d.style.y;h={style:{y:[p[0],p[0],p[0],p[0]]}}}var l=d.style.y;d.style.y=h.style.y,m.addShape(d),d.__animating=!0,m.animate(d.id,"style").when(s,{y:l}).done(function(){d.__animating=!1}).start(c)}function g(u,G,p,h,F){var d=p.style.x,c=p.style.y,H=p.style.r0,m=p.style.r;p.__animating=!0,"r"!=p._animationAdd?(p.style.r0=0,p.style.r=0,p.rotation=[2*Math.PI,d,c],u.addShape(p),u.animate(p.id,"style").when(h,{r0:H,r:m}).done(function(){p.__animating=!1}).start(F),u.animate(p.id,"").when(h,{rotation:[0,d,c]}).start(F)):(p.style.r0=p.style.r,u.addShape(p),u.animate(p.id,"style").when(h,{r0:H}).done(function(){p.__animating=!1}).start(F))}function b(l,d,p,c,m){d||(d="r"!=p._animationAdd?{style:{startAngle:p.style.startAngle,endAngle:p.style.startAngle}}:{style:{r0:p.style.r}});var i=p.style.startAngle,h=p.style.endAngle;w(p,d,"startAngle","endAngle"),l.addShape(p),p.__animating=!0,l.animate(p.id,"style").when(c,{startAngle:i,endAngle:h}).done(function(){p.__animating=!1}).start(m)}function E(l,d,p,c,m){d||(d={style:{x:"left"==p.style.textAlign?p.style.x+100:p.style.x-100,y:p.style.y}});var i=p.style.x,h=p.style.y;w(p,d,"x","y"),l.addShape(p),p.__animating=!0,l.animate(p.id,"style").when(c,{x:i,y:h}).done(function(){p.__animating=!1}).start(m)}function v(h,e,F,d,u){var p=y("zrender/shape/Polygon").prototype.getRect(F.style),m=p.x+p.width/2,c=p.y+p.height/2;F.scale=[0.1,0.1,m,c],h.addShape(F),F.__animating=!0,h.animate(F.id,"").when(d,{scale:[1,1,m,c]}).done(function(){F.__animating=!1}).start(u)}function x(u,G,i,F,d){G||(G={style:{source0:0,source1:i.style.source1>0?360:-360,target0:0,target1:i.style.target1>0?360:-360}});var c=i.style.source0,H=i.style.source1,m=i.style.target0,p=i.style.target1;G.style&&w(i,G,"source0","source1","target0","target1"),u.addShape(i),i.__animating=!0,u.animate(i.id,"style").when(F,{source0:c,source1:H,target0:m,target1:p}).done(function(){i.__animating=!1}).start(d)}function z(l,h,d,p,c){h||(h={style:{angle:d.style.startAngle}});var m=d.style.angle;d.style.angle=h.style.angle,l.addShape(d),d.__animating=!0,l.animate(d.id,"style").when(p,{angle:m}).done(function(){d.__animating=!1}).start(c)}function A(u,m,h,d,F,p){if(h.style._x=h.style.x,h.style._y=h.style.y,h.style._width=h.style.width,h.style._height=h.style.height,m){j(u,m,h,d,F)}else{var n=h._x||0,c=h._y||0;h.scale=[0.01,0.01,n,c],u.addShape(h),h.__animating=!0,u.animate(h.id,"").delay(p).when(d,{scale:[1,1,n,c]}).done(function(){h.__animating=!1}).start(F||"QuinticOut")}}function q(u,G,i,F,d){G||(G={style:{xStart:i.style.xStart,yStart:i.style.yStart,xEnd:i.style.xStart,yEnd:i.style.yStart}});var c=i.style.xStart,H=i.style.xEnd,m=i.style.yStart,p=i.style.yEnd;w(i,G,"xStart","xEnd","yStart","yEnd"),u.addShape(i),i.__animating=!0,u.animate(i.id,"style").when(F,{xStart:c,xEnd:H,yStart:m,yEnd:p}).done(function(){i.__animating=!1}).start(d)}function f(P,V,M,I,S){S=S||"QuinticOut",M.__animating=!0,P.addShape(M);var H=M.style,F=function(){M.__animating=!1},W=H.xStart,L=H.yStart,N=H.xEnd,Q=H.yEnd;if(H.curveness>0){M.updatePoints(H);var R={p:0},J=H.cpX1,G=H.cpY1,T=[],K=[],O=k.quadraticSubdivide;P.animation.animate(R).when(I,{p:1}).during(function(){O(W,J,N,R.p,T),O(L,G,Q,R.p,K),H.cpX1=T[1],H.cpY1=K[1],H.xEnd=T[2],H.yEnd=K[2],P.modShape(M)}).done(F).start(S)}else{P.animate(M.id,"style").when(0,{xEnd:W,yEnd:L}).when(I,{xEnd:N,yEnd:Q}).done(F).start(S)}}var C=y("zrender/tool/util"),k=y("zrender/tool/curve");return{pointList:D,rectangle:j,candle:B,ring:g,sector:b,text:E,polygon:v,ribbon:x,gaugePointer:z,icon:A,line:q,markline:f}}),define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(x){function C(K,P,H,s){var O,h=H.effect,G=h.color||H.style.strokeColor||H.style.color,L=h.shadowColor||G,M=h.scaleSize,E=h.bounceDistance,o="undefined"!=typeof h.shadowBlur?h.shadowBlur:M;"image"!==H.type?(O=new w({zlevel:s,style:{brushType:"stroke",iconType:"droplet"!=H.style.iconType?H.style.iconType:"circle",x:o+1,y:o+1,n:H.style.n,width:H.style._width*M,height:H.style._height*M,lineWidth:1,strokeColor:G,shadowColor:L,shadowBlur:o},draggable:!1,hoverable:!1}),"pin"==H.style.iconType&&(O.style.y+=O.style.height/2*1.5),B&&(O.style.image=K.shapeToImage(O,O.style.width+2*o+2,O.style.height+2*o+2).style.image,O=new D({zlevel:O.zlevel,style:O.style,draggable:!1,hoverable:!1}))):O=new D({zlevel:s,style:H.style,draggable:!1,hoverable:!1}),g.clone(H,O),O.position=H.position,P.push(O),K.addShape(O);var u="image"!==H.type?window.devicePixelRatio||1:1,F=(O.style.width/u-H.style._width)/2;O.style.x=H.style._x-F,O.style.y=H.style._y-F,"pin"==H.style.iconType&&(O.style.y-=H.style.height/2*1.5);var I=100*(h.period+10*Math.random());K.modShape(H.id,{invisible:!0});var J=O.style.x+O.style.width/2/u,N=O.style.y+O.style.height/2/u;"scale"===h.type?(K.modShape(O.id,{scale:[0.1,0.1,J,N]}),K.animate(O.id,"",h.loop).when(I,{scale:[1,1,J,N]}).done(function(){H.effect.show=!1,K.delShape(O.id)}).start()):K.animate(O.id,"style",h.loop).when(I,{y:O.style.y-E}).when(2*I,{y:O.style.y}).done(function(){H.effect.show=!1,K.delShape(O.id)}).start()}function v(M,Q,K,G){var O=K.effect,F=O.color||K.style.strokeColor||K.style.color,d=O.scaleSize,R=O.shadowColor||F,J="undefined"!=typeof O.shadowBlur?O.shadowBlur:2*d,L=window.devicePixelRatio||1,N=new y({zlevel:G,position:K.position,scale:K.scale,style:{pointList:K.style.pointList,iconType:K.style.iconType,color:F,strokeColor:F,shadowColor:R,shadowBlur:J*L,random:!0,brushType:"fill",lineWidth:1,size:K.style.size},draggable:!1,hoverable:!1});Q.push(N),M.addShape(N),M.modShape(K.id,{invisible:!0});for(var I=Math.round(100*O.period),E={},P={},H=0;20>H;H++){N.style["randomMap"+H]=0,E={},E["randomMap"+H]=100,P={},P["randomMap"+H]=0,N.style["randomMap"+H]=100*Math.random(),M.animate(N.id,"style",!0).when(I,E).when(2*I,P).when(3*I,E).when(4*I,E).delay(Math.random()*I*H).start()}}function j(ah,R,ad,ab,al){var Y=ad.effect,ae=ad.style,ai=Y.color||ae.strokeColor||ae.color,aj=Y.shadowColor||ae.strokeColor||ai,o=ae.lineWidth*Y.scaleSize,p="undefined"!=typeof Y.shadowBlur?Y.shadowBlur:o,af=new b({zlevel:ab,style:{x:p,y:p,r:o,color:ai,shadowColor:aj,shadowBlur:p},hoverable:!1}),ag=0;if(B&&!al){var ab=af.zlevel;af=ah.shapeToImage(af,2*(o+p),2*(o+p)),af.zlevel=ab,af.hoverable=!1,ag=p}al||(g.clone(ad,af),af.position=ad.position,R.push(af),ah.addShape(af));var J=function(){al||(ad.effect.show=!1,ah.delShape(af.id)),af.effectAnimator=null};if(ad instanceof k){for(var ak=[0],am=0,N=ae.pointList,ac=ae.controlPointList,P=1;P<N.length;P++){if(ac){var F=ac[2*(P-1)],O=ac[2*(P-1)+1];am+=f.dist(N[P-1],F)+f.dist(F,O)+f.dist(O,N[P])}else{am+=f.dist(N[P-1],N[P])}ak.push(am)}for(var m={p:0},l=ah.animation.animate(m,{loop:Y.loop}),P=0;P<ak.length;P++){l.when(ak[P]*Y.period,{p:P})}l.during(function(){var c,a,S=Math.floor(m.p);if(S==N.length-1){c=N[S][0],a=N[S][1]}else{var L=m.p-S,I=N[S],E=N[S+1];if(ac){var e=ac[2*S],K=ac[2*S+1];c=q.cubicAt(I[0],e[0],K[0],E[0],L),a=q.cubicAt(I[1],e[1],K[1],E[1],L)}else{c=(E[0]-I[0])*L+I[0],a=(E[1]-I[1])*L+I[1]}}af.style.x=c,af.style.y=a,al||ah.modShape(af)}).done(J).start(),l.duration=am*Y.period,af.effectAnimator=l}else{var M=ae.xStart-ag,u=ae.yStart-ag,H=ae.xEnd-ag,Z=ae.yEnd-ag;af.style.x=M,af.style.y=u;var r=(H-M)*(H-M)+(Z-u)*(Z-u),Q=Math.round(Math.sqrt(Math.round(r*Y.period*Y.period)));if(ad.style.curveness>0){var G=ae.cpX1-ag,aa=ae.cpY1-ag;af.effectAnimator=ah.animation.animate(af,{loop:Y.loop}).when(Q,{p:1}).during(function(c,a){af.style.x=q.quadraticAt(M,G,H,a),af.style.y=q.quadraticAt(u,aa,Z,a),al||ah.modShape(af)}).done(J).start()}else{af.effectAnimator=ah.animation.animate(af.style,{loop:Y.loop}).when(Q,{x:H,y:Z}).during(function(){al||ah.modShape(af)}).done(J).start()}af.effectAnimator.duration=Q}return af}function A(L,P,J,N){var E=new z({style:{shapeList:[]},zlevel:N,hoverable:!1}),c=J.style.shapeList,Q=J.effect;E.position=J.position;for(var I=0,K=[],M=0;M<c.length;M++){c[M].effect=Q;var G=j(L,null,c[M],N,!0),n=G.effectAnimator;E.style.shapeList.push(G),n.duration>I&&(I=n.duration),0===M&&(E.style.color=G.style.color,E.style.shadowBlur=G.style.shadowBlur,E.style.shadowColor=G.style.shadowColor),K.push(n)}P.push(E),L.addShape(E);var O=function(){for(var a=0;a<K.length;a++){K[a].stop()}};if(I){E.__dummy=0;var F=L.animate(E.id,"",Q.loop).when(I,{__dummy:1}).during(function(){L.modShape(E)}).done(function(){J.effect.show=!1,L.delShape(E.id)}).start(),H=F.stop;F.stop=function(){O(),H.call(this)}}}var g=x("../util/ecData"),b=x("zrender/shape/Circle"),D=x("zrender/shape/Image"),q=x("zrender/tool/curve"),w=x("../util/shape/Icon"),y=x("../util/shape/Symbol"),z=x("zrender/shape/ShapeBundle"),k=x("zrender/shape/Polyline"),f=x("zrender/tool/vector"),B=x("zrender/tool/env").canvasSupported;return{point:C,largePoint:v,line:j,largeLine:A}}),define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(g){function d(n,k,i,p,m){this.ecTheme=n,this.messageCenter=k,this.zr=i,this.option=p,this.series=p.series,this.myChart=m,this.component=m.component,this.shapeList=[],this.effectList=[];var l=this;l._onlegendhoverlink=function(s){if(l.legendHoverLink){for(var r,q=s.target,u=l.shapeList.length-1;u>=0;u--){r=l.type==c.CHART_TYPE_PIE||l.type==c.CHART_TYPE_FUNNEL?j.get(l.shapeList[u],"name"):(j.get(l.shapeList[u],"series")||{}).name,r!=q||l.shapeList[u].invisible||l.shapeList[u].__animating||l.zr.addHoverShape(l.shapeList[u])}}},k&&k.bind(c.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var c=g("../config"),j=g("../util/ecData"),b=g("../util/ecQuery"),h=g("../util/number"),f=g("zrender/tool/util");return d.prototype={canvasSupported:g("zrender/tool/env").canvasSupported,_getZ:function(i){if(null!=this[i]){return this[i]}var a=this.ecTheme[this.type];return a&&null!=a[i]?a[i]:(a=c[this.type],a&&null!=a[i]?a[i]:0)},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(a){return a=f.merge(f.merge(a||{},f.clone(this.ecTheme[this.type]||{})),f.clone(c[this.type]||{})),this.z=a.z,this.zlevel=a.zlevel,a},reformCssArray:function(a){if(!(a instanceof Array)){return[a,a,a,a]}switch(a.length+""){case"4":return a;case"3":return[a[0],a[1],a[2],a[1]];case"2":return[a[0],a[1],a[0],a[1]];case"1":return[a[0],a[0],a[0],a[0]];case"0":return[0,0,0,0]}},getShapeById:function(l){for(var k=0,a=this.shapeList.length;a>k;k++){if(this.shapeList[k].id===l){return this.shapeList[k]}}return null},getFont:function(i){var a=this.getTextStyle(f.clone(i));return a.fontStyle+" "+a.fontWeight+" "+a.fontSize+"px "+a.fontFamily},getTextStyle:function(a){return f.merge(f.merge(a||{},this.ecTheme.textStyle),c.textStyle)},getItemStyleColor:function(l,k,a,m){return"function"==typeof l?l.call(this.myChart,{seriesIndex:k,series:this.series[k],dataIndex:a,data:m}):l},getDataFromOption:function(i,a){return null!=i?null!=i.value?i.value:i:a},subPixelOptimize:function(i,a){return i=a%2===1?Math.floor(i)+0.5:Math.round(i)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var a=this;setTimeout(function(){a.animationEffect&&a.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(c.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:b.query,deepQuery:b.deepQuery,deepMerge:b.deepMerge,parsePercent:h.parsePercent,parseCenter:h.parseCenter,parseRadius:h.parseRadius,numAddCommas:h.addCommas,getPrecision:h.getPrecision},d}),define("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(u){function y(l,h){l=l.array,h=h.array;var d=h[0]-l[0],r=h[1]-l[1],c=h[2]-l[2],m=h[3]-l[3];return d*d+r*r+c*c+m*m}function p(a){this.points=[a.mp0,a.mp1],this.group=a}function g(c){var a=c.points;a[0][1]<a[1][1]||c instanceof p?(this.array=[a[0][0],a[0][1],a[1][0],a[1][1]],this._startPoint=a[0],this._endPoint=a[1]):(this.array=[a[1][0],a[1][1],a[0][0],a[0][1]],this._startPoint=a[1],this._endPoint=a[0]),this.ink=v(a[0],a[1]),this.edge=c,this.group=null}function x(){this.edgeList=[],this.mp0=k(),this.mp1=k(),this.ink=0}function f(){this.maxNearestEdge=6,this.maxTurningAngle=Math.PI/4,this.maxIteration=20}var b=u("../data/KDTree"),z=u("zrender/tool/vector"),k=z.create,q=z.distSquare,v=z.dist,w=z.copy,j=z.clone;return g.prototype.getStartPoint=function(){return this._startPoint},g.prototype.getEndPoint=function(){return this._endPoint},x.prototype.addEdge=function(a){a.group=this,this.edgeList.push(a)},x.prototype.removeEdge=function(a){a.group=null,this.edgeList.splice(this.edgeList.indexOf(a),1)},f.prototype={constructor:f,run:function(B){function F(c,a){return q(c,a)<1e-10}function m(l,d){for(var s=[],c=0,r=0;r<l.length;r++){c>0&&F(l[r],s[c-1])||(s[c++]=j(l[r]))}return d[0]&&!F(s[0],d[0])&&(s=s.reverse()),s}for(var E=this._iterate(B),i=0;i++<this.maxIteration;){for(var h=[],G=0;G<E.groups.length;G++){h.push(new p(E.groups[G]))}var A=this._iterate(h);if(A.savedInk<=0){break}E=A}var C=[],D=function(K,n){for(var d,L=0;L<K.length;L++){var J=K[L];if(J.edgeList[0]&&J.edgeList[0].edge instanceof p){for(var I=[],c=0;c<J.edgeList.length;c++){I.push(J.edgeList[c].edge.group)}d=n?n.slice():[],d.unshift(J.mp0),d.push(J.mp1),D(I,d)}else{for(var c=0;c<J.edgeList.length;c++){var H=J.edgeList[c];d=n?n.slice():[],d.unshift(J.mp0),d.push(J.mp1),d.unshift(H.getStartPoint()),d.push(H.getEndPoint()),C.push({points:m(d,H.edge.points),rawEdge:H.edge})}}}};return D(E.groups),C},_iterate:function(M){for(var H=[],E=[],C=0,I=0;I<M.length;I++){var N=new g(M[I]);H.push(N)}for(var F=new b(H,4),D=[],B=k(),a=k(),c=0,J=k(),K=k(),n=0,I=0;I<H.length;I++){var N=H[I];if(!N.group){F.nearestN(N,this.maxNearestEdge,y,D);for(var O=0,P=null,r=null,G=0;G<D.length;G++){var A=D[G],l=0;A.group?A.group!==r&&(r=A.group,c=this._calculateGroupEdgeInk(A.group,N,B,a),l=A.group.ink+N.ink-c):(c=this._calculateEdgeEdgeInk(N,A,B,a),l=A.ink+N.ink-c),l>O&&(O=l,P=A,w(K,a),w(J,B),n=c)}if(P){C+=O;var t;P.group||(t=new x,E.push(t),t.addEdge(P)),t=P.group,w(t.mp0,J),w(t.mp1,K),t.ink=n,P.group.addEdge(N)}else{var t=new x;E.push(t),w(t.mp0,N.getStartPoint()),w(t.mp1,N.getEndPoint()),t.ink=N.ink,t.addEdge(N)}}}return{groups:E,edges:H,savedInk:C}},_calculateEdgeEdgeInk:function(){var c=[],a=[];return function(e,m,d,l){c[0]=e.getStartPoint(),c[1]=m.getStartPoint(),a[0]=e.getEndPoint(),a[1]=m.getEndPoint(),this._calculateMeetPoints(c,a,d,l);var h=v(c[0],d)+v(d,l)+v(l,a[0])+v(c[1],d)+v(l,a[1]);return h}}(),_calculateGroupEdgeInk:function(B,D,A,h){for(var C=[],d=[],c=0;c<B.edgeList.length;c++){var E=B.edgeList[c];C.push(E.getStartPoint()),d.push(E.getEndPoint())}C.push(D.getStartPoint()),d.push(D.getEndPoint()),this._calculateMeetPoints(C,d,A,h);for(var m=v(A,h),c=0;c<C.length;c++){m+=v(C[c],A)+v(d[c],h)}return m},_calculateMeetPoints:function(){var c=k(),a=k();return function(h,t,e,s){z.set(c,0,0),z.set(a,0,0);for(var m=h.length,d=0;m>d;d++){z.add(c,c,h[d])}z.scale(c,c,1/m),m=t.length;for(var d=0;m>d;d++){z.add(a,a,t[d])}z.scale(a,a,1/m),this._limitTurningAngle(h,c,a,e),this._limitTurningAngle(t,a,c,s)}}(),_limitTurningAngle:function(){var d=k(),c=k(),a=k(),h=k();return function(H,n,e,B){var E=Math.cos(this.maxTurningAngle),t=Math.tan(this.maxTurningAngle);z.sub(d,n,e),z.normalize(d,d),z.copy(B,n);for(var i=0,I=0;I<H.length;I++){var s=H[I];z.sub(c,s,n);var A=z.len(c);z.scale(c,c,1/A);var C=z.dot(c,d);if(E>C){z.scaleAndAdd(a,n,d,A*C);var D=v(a,s),G=D/t;z.scaleAndAdd(h,a,d,-G);var F=q(h,n);F>i&&(i=F,z.copy(B,h))}}}}()},f}),define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(g){var d=g("../tool/math"),c=d.sin,j=d.cos,b=Math.PI,h=g("./Base"),f=function(a){h.call(this,a)};return f.prototype={type:"star",buildPath:function(z,D){var k=D.n;if(k&&!(2>k)){var a=D.x,E=D.y,w=D.r,x=D.r0;null==x&&(x=k>4?w*j(2*b/k)/j(b/k):w/3);var A=b/k,B=-b/2,q=a+w*j(B),i=E+w*c(B);B+=A;var C=D.pointList=[];C.push([q,i]);for(var n,v=0,y=2*k-1;y>v;v++){n=v%2===0?x:w,C.push([a+n*j(B),E+n*c(B)]),B+=A}C.push([q,i]),z.moveTo(C[0][0],C[0][1]);for(var v=0;v<C.length;v++){z.lineTo(C[v][0],C[v][1])}z.closePath()}},getRect:function(i){if(i.__rect){return i.__rect}var a;return a="stroke"==i.brushType||"fill"==i.brushType?i.lineWidth||1:0,i.__rect={x:Math.round(i.x-i.r-a/2),y:Math.round(i.y-i.r-a/2),width:2*i.r+a,height:2*i.r+a},i.__rect}},g("../tool/util").inherits(f,h),f}),define("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(f){var d=f("./Base"),c=f("./util/PathProxy"),g=f("../tool/area"),b=function(a){d.call(this,a),this._pathProxy=new c};return b.prototype={type:"heart",buildPath:function(h,a){var i=this._pathProxy||new c;i.begin(h),i.moveTo(a.x,a.y),i.bezierCurveTo(a.x+a.a/2,a.y-2*a.b/3,a.x+2*a.a,a.y+a.b/3,a.x,a.y+a.b),i.bezierCurveTo(a.x-2*a.a,a.y+a.b/3,a.x-a.a/2,a.y-2*a.b/3,a.x,a.y),i.closePath()},getRect:function(a){return a.__rect?a.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,a),this._pathProxy.fastBoundingRect())},isCover:function(j,h){var a=this.transformCoordToLocal(j,h);return j=a[0],h=a[1],this.isCoverRect(j,h)?g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,j,h):void 0}},f("../tool/util").inherits(b,d),b}),define("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(f){var d=f("./Base"),c=f("./util/PathProxy"),g=f("../tool/area"),b=function(a){d.call(this,a),this._pathProxy=new c};return b.prototype={type:"droplet",buildPath:function(h,a){var i=this._pathProxy||new c;i.begin(h),i.moveTo(a.x,a.y+a.a),i.bezierCurveTo(a.x+a.a,a.y+a.a,a.x+3*a.a/2,a.y-a.a/3,a.x,a.y-a.b),i.bezierCurveTo(a.x-3*a.a/2,a.y-a.a/3,a.x-a.a,a.y+a.a,a.x,a.y+a.a),i.closePath()},getRect:function(a){return a.__rect?a.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,a),this._pathProxy.fastBoundingRect())},isCover:function(j,h){var a=this.transformCoordToLocal(j,h);return j=a[0],h=a[1],this.isCoverRect(j,h)?g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,j,h):void 0}},f("../tool/util").inherits(b,d),b}),define("zrender/tool/math",[],function(){function f(h,a){return Math.sin(a?h*b:h)}function d(h,a){return Math.cos(a?h*b:h)}function c(a){return a*b}function g(a){return a/b}var b=Math.PI/180;return{sin:f,cos:d,degreeToRadian:c,radianToDegree:g}}),define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(c){var b=c("../../tool/vector"),a=function(g,f){this.command=g,this.points=f||null},d=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return d.prototype.fastBoundingRect=function(){var q=this._min,m=this._max;q[0]=q[1]=1/0,m[0]=m[1]=-(1/0);for(var j=0;j<this.pathCommands.length;j++){var u=this.pathCommands[j],g=u.points;switch(u.command){case"M":b.min(q,q,g),b.max(m,m,g);break;case"L":b.min(q,q,g),b.max(m,m,g);break;case"C":for(var f=0;6>f;f+=2){q[0]=Math.min(q[0],q[0],g[f]),q[1]=Math.min(q[1],q[1],g[f+1]),m[0]=Math.max(m[0],m[0],g[f]),m[1]=Math.max(m[1],m[1],g[f+1])}break;case"Q":for(var f=0;4>f;f+=2){q[0]=Math.min(q[0],q[0],g[f]),q[1]=Math.min(q[1],q[1],g[f+1]),m[0]=Math.max(m[0],m[0],g[f]),m[1]=Math.max(m[1],m[1],g[f+1])}break;case"A":var v=g[0],k=g[1],p=g[2],t=g[3];q[0]=Math.min(q[0],q[0],v-p),q[1]=Math.min(q[1],q[1],k-t),m[0]=Math.max(m[0],m[0],v+p),m[1]=Math.max(m[1],m[1],k+t)}}return{x:q[0],y:q[1],width:m[0]-q[0],height:m[1]-q[1]}},d.prototype.begin=function(f){return this._ctx=f||null,this.pathCommands.length=0,this},d.prototype.moveTo=function(g,f){return this.pathCommands.push(new a("M",[g,f])),this._ctx&&this._ctx.moveTo(g,f),this},d.prototype.lineTo=function(g,f){return this.pathCommands.push(new a("L",[g,f])),this._ctx&&this._ctx.lineTo(g,f),this},d.prototype.bezierCurveTo=function(i,g,k,f,j,h){return this.pathCommands.push(new a("C",[i,g,k,f,j,h])),this._ctx&&this._ctx.bezierCurveTo(i,g,k,f,j,h),this},d.prototype.quadraticCurveTo=function(h,g,i,f){return this.pathCommands.push(new a("Q",[h,g,i,f])),this._ctx&&this._ctx.quadraticCurveTo(h,g,i,f),this},d.prototype.arc=function(i,g,k,f,j,h){return this.pathCommands.push(new a("A",[i,g,k,k,f,j-f,0,h?0:1])),this._ctx&&this._ctx.arc(i,g,k,f,j,h),this},d.prototype.arcTo=function(j,h,g,k,f){return this._ctx&&this._ctx.arcTo(j,h,g,k,f),this},d.prototype.rect=function(h,g,f,j){return this._ctx&&this._ctx.rect(h,g,f,j),this},d.prototype.closePath=function(){return this.pathCommands.push(new a("z")),this._ctx&&this._ctx.closePath(),this},d.prototype.isEmpty=function(){return 0===this.pathCommands.length},d.PathSegment=a,d}),define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(c){var b=c("./Base"),a=c("./util/dashedLineTo"),d=function(f){this.brushTypeOnly="stroke",this.textPosition="end",b.call(this,f)};return d.prototype={type:"line",buildPath:function(g,f){if(f.lineType&&"solid"!=f.lineType){if("dashed"==f.lineType||"dotted"==f.lineType){var h=(f.lineWidth||1)*("dashed"==f.lineType?5:1);a(g,f.xStart,f.yStart,f.xEnd,f.yEnd,h)}}else{g.moveTo(f.xStart,f.yStart),g.lineTo(f.xEnd,f.yEnd)}},getRect:function(g){if(g.__rect){return g.__rect}var f=g.lineWidth||1;return g.__rect={x:Math.min(g.xStart,g.xEnd)-f,y:Math.min(g.yStart,g.yEnd)-f,width:Math.abs(g.xStart-g.xEnd)+f,height:Math.abs(g.yStart-g.yEnd)+f},g.__rect}},c("../tool/util").inherits(d,b),d}),define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){this.brushTypeOnly="stroke",this.textPosition="end",b.call(this,d)};return a.prototype={type:"bezier-curve",buildPath:function(f,d){f.moveTo(d.xStart,d.yStart),"undefined"!=typeof d.cpX2&&"undefined"!=typeof d.cpY2?f.bezierCurveTo(d.cpX1,d.cpY1,d.cpX2,d.cpY2,d.xEnd,d.yEnd):f.quadraticCurveTo(d.cpX1,d.cpY1,d.xEnd,d.yEnd)},getRect:function(k){if(k.__rect){return k.__rect}var g=Math.min(k.xStart,k.xEnd,k.cpX1),f=Math.min(k.yStart,k.yEnd,k.cpY1),m=Math.max(k.xStart,k.xEnd,k.cpX1),d=Math.max(k.yStart,k.yEnd,k.cpY1),l=k.cpX2,j=k.cpY2;"undefined"!=typeof l&&"undefined"!=typeof j&&(g=Math.min(g,l),f=Math.min(f,j),m=Math.max(m,l),d=Math.max(d,j));var h=k.lineWidth||1;return k.__rect={x:g-h,y:f-h,width:m-g+h,height:d-f+h},k.__rect}},c("../tool/util").inherits(a,b),a}),define("zrender/shape/util/dashedLineTo",[],function(){var a=[5,5];return function(u,j,f,q,e,b){if(u.setLineDash){return a[0]=a[1]=b,u.setLineDash(a),u.moveTo(j,f),void u.lineTo(q,e)}b="number"!=typeof b?5:b;var v=q-j,g=e-f,k=Math.floor(Math.sqrt(v*v+g*g)/b);v/=k,g/=k;for(var m=!0,p=0;k>p;++p){m?u.moveTo(j,f):u.lineTo(j,f),m=!m,j+=v,f+=g}u.lineTo(q,e)}}),define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(f){var d=f("./Base"),c=f("./util/smoothSpline"),h=f("./util/smoothBezier"),b=f("./util/dashedLineTo"),g=function(a){d.call(this,a)};return g.prototype={type:"polygon",buildPath:function(u,x){var j=x.pointList;if(!(j.length<2)){if(x.smooth&&"spline"!==x.smooth){var a=h(j,x.smooth,!0,x.smoothConstraint);u.moveTo(j[0][0],j[0][1]);for(var y,n,q,v=j.length,w=0;v>w;w++){y=a[2*w],n=a[2*w+1],q=j[(w+1)%v],u.bezierCurveTo(y[0],y[1],n[0],n[1],q[0],q[1])}}else{if("spline"===x.smooth&&(j=c(j,!0)),x.lineType&&"solid"!=x.lineType){if("dashed"==x.lineType||"dotted"==x.lineType){var k=x._dashLength||(x.lineWidth||1)*("dashed"==x.lineType?5:1);x._dashLength=k,u.moveTo(j[0][0],j[0][1]);for(var w=1,i=j.length;i>w;w++){b(u,j[w-1][0],j[w-1][1],j[w][0],j[w][1],k)}b(u,j[j.length-1][0],j[j.length-1][1],j[0][0],j[0][1],k)}}else{u.moveTo(j[0][0],j[0][1]);for(var w=1,i=j.length;i>w;w++){u.lineTo(j[w][0],j[w][1])}u.lineTo(j[0][0],j[0][1])}}u.closePath()}},getRect:function(u){if(u.__rect){return u.__rect}for(var w=Number.MAX_VALUE,q=Number.MIN_VALUE,m=Number.MAX_VALUE,v=Number.MIN_VALUE,k=u.pointList,j=0,x=k.length;x>j;j++){k[j][0]<w&&(w=k[j][0]),k[j][0]>q&&(q=k[j][0]),k[j][1]<m&&(m=k[j][1]),k[j][1]>v&&(v=k[j][1])}var p;return p="stroke"==u.brushType||"fill"==u.brushType?u.lineWidth||1:0,u.__rect={x:Math.round(w-p/2),y:Math.round(m-p/2),width:q-w+p,height:v-m+p},u.__rect}},f("../tool/util").inherits(g,d),g}),define("echarts/util/shape/normalIsCover",[],function(){return function(c,b){var a=this.transformCoordToLocal(c,b);return c=a[0],b=a[1],this.isCoverRect(c,b)}}),define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(c){function b(k,p,j,g,m,f,d){var q=0.5*(j-k),h=0.5*(g-p);return(2*(p-j)+q+h)*d+(-3*(p-j)-2*q-h)*f+q*m+p}var a=c("../../tool/vector");return function(z,k){for(var C=z.length,j=[],f=0,E=1;C>E;E++){f+=a.distance(z[E-1],z[E])}var w=f/5;w=C>w?C:w;for(var E=0;w>E;E++){var x,A,B,t=E/(w-1)*(k?C:C-1),i=Math.floor(t),D=t-i,q=z[i%C];k?(x=z[(i-1+C)%C],A=z[(i+1)%C],B=z[(i+2)%C]):(x=z[0===i?i:i-1],A=z[i>C-2?C-1:i+1],B=z[i>C-3?C-1:i+2]);var v=D*D,y=D*v;j.push([b(x[0],q[0],A[0],B[0],D,v,y),b(x[1],q[1],A[1],B[1],D,v,y)])}return j}}),define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(b){var a=b("../../tool/vector");return function(H,D,A,L){var z,w,v,C,E=[],I=[],J=[],B=[],x=!!L;if(x){v=[1/0,1/0],C=[-(1/0),-(1/0)];for(var t=0,j=H.length;j>t;t++){a.min(v,v,H[t]),a.max(C,C,H[t])}a.min(v,v,L[0]),a.max(C,C,L[1])}for(var t=0,j=H.length;j>t;t++){var z,w,k=H[t];if(A){z=H[t?t-1:j-1],w=H[(t+1)%j]}else{if(0===t||t===j-1){E.push(a.clone(H[t]));continue}z=H[t-1],w=H[t+1]}a.sub(I,w,z),a.scale(I,I,D);var F=a.distance(k,z),G=a.distance(k,w),q=F+G;0!==q&&(F/=q,G/=q),a.scale(J,I,-F),a.scale(B,I,G);var K=a.add([],k,J),M=a.add([],k,B);x&&(a.max(K,K,v),a.min(K,K,C),a.max(M,M,v),a.min(M,M,C)),E.push(K),E.push(M)}return A&&E.push(a.clone(E.shift())),E}}),define("echarts/util/ecQuery",["require","zrender/tool/util"],function(f){function d(j,h){if("undefined"!=typeof j){if(!h){return j}h=h.split(".");for(var a=h.length,k=0;a>k;){if(j=j[h[k]],"undefined"==typeof j){return}k++}return j}}function c(k,j){for(var m,h=0,l=k.length;l>h;h++){if(m=d(k[h],j),"undefined"!=typeof m){return m}}}function g(j,a){for(var l,k=j.length;k--;){var h=d(j[k],a);"undefined"!=typeof h&&("undefined"==typeof l?l=b.clone(h):b.merge(l,h,!0))}return l}var b=f("zrender/tool/util");return{query:d,deepQuery:c,deepMerge:g}}),define("echarts/util/number",[],function(){function f(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function d(e,a){return"string"==typeof e?f(e).match(/%$/)?parseFloat(e)/100*a:parseFloat(e):e}function c(j,a){return[d(a[0],j.getWidth()),d(a[1],j.getHeight())]}function h(j,a){a instanceof Array||(a=[0,a]);var k=Math.min(j.getWidth(),j.getHeight())/2;return[d(a[0],k),d(a[1],k)]}function b(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function g(k){for(var j=1,a=0;Math.round(k*j)/j!==k;){j*=10,a++}return a}return{parsePercent:d,parseCenter:c,parseRadius:h,addCommas:b,getPrecision:g}}),define("echarts/data/KDTree",["require","./quickSelect"],function(c){function b(g,f){this.left=null,this.right=null,this.axis=g,this.data=f}var a=c("./quickSelect"),d=function(g,f){g.length&&(f||(f=g[0].array.length),this.dimension=f,this.root=this._buildTree(g,0,g.length-1,0),this._stack=[],this._nearstNList=[])};return d.prototype._buildTree=function(j,m,g,k){if(m>g){return null}var i=Math.floor((m+g)/2);i=a(j,m,g,i,function(n,l){return n.array[k]-l.array[k]});var h=j[i],f=new b(k,h);return k=(k+1)%this.dimension,g>m&&(f.left=this._buildTree(j,m,i-1,k),f.right=this._buildTree(j,i+1,g,k)),f},d.prototype.nearest=function(q,v){var m=this.root,j=this._stack,u=0,g=1/0,f=null;for(m.data!==q&&(g=v(m.data,q),f=m),q.array[m.axis]<m.data.array[m.axis]?(m.right&&(j[u++]=m.right),m.left&&(j[u++]=m.left)):(m.left&&(j[u++]=m.left),m.right&&(j[u++]=m.right));u--;){m=j[u];var w=q.array[m.axis]-m.data.array[m.axis],k=0>w,p=!1;w*=w,g>w&&(w=v(m.data,q),g>w&&m.data!==q&&(g=w,f=m),p=!0),k?(p&&m.right&&(j[u++]=m.right),m.left&&(j[u++]=m.left)):(p&&m.left&&(j[u++]=m.left),m.right&&(j[u++]=m.right))}return f.data},d.prototype._addNearest=function(j,h,g){for(var k=this._nearstNList,f=j-1;f>0&&!(h>=k[f-1].dist);f--){k[f].dist=k[f-1].dist,k[f].node=k[f-1].node}k[f].dist=h,k[f].node=g},d.prototype.nearestN=function(v,z,q,j){if(0>=z){return j.length=0,j}for(var y=this.root,g=this._stack,f=0,A=this._nearstNList,p=0;z>p;p++){A[p]||(A[p]={}),A[p].dist=0,A[p].node=null}var u=q(y.data,v),w=0;for(y.data!==v&&(w++,this._addNearest(w,u,y)),v.array[y.axis]<y.data.array[y.axis]?(y.right&&(g[f++]=y.right),y.left&&(g[f++]=y.left)):(y.left&&(g[f++]=y.left),y.right&&(g[f++]=y.right));f--;){y=g[f];var u=v.array[y.axis]-y.data.array[y.axis],x=0>u,k=!1;u*=u,(z>w||u<A[w-1].dist)&&(u=q(y.data,v),(z>w||u<A[w-1].dist)&&y.data!==v&&(z>w&&w++,this._addNearest(w,u,y)),k=!0),x?(k&&y.right&&(g[f++]=y.right),y.left&&(g[f++]=y.left)):(k&&y.left&&(g[f++]=y.left),y.right&&(g[f++]=y.right))}for(var p=0;w>p;p++){j[p]=A[p].node.data}return j.length=w,j},d}),define("echarts/data/quickSelect",["require"],function(){function c(g,f){return g-f}function b(h,g,f){var j=h[g];h[g]=h[f],h[f]=j}function a(m,h,q,g,p){for(var k=h;q>h;){var k=Math.round((q+h)/2),j=m[k];b(m,k,q),k=h;for(var f=h;q-1>=f;f++){p(j,m[f])>=0&&(b(m,f,k),k++)}if(b(m,q,k),k===g){return k}g>k?h=k+1:q=k-1}return h}function d(f,i,e,h,g){return arguments.length<=3&&(h=i,g=2==arguments.length?c:e,i=0,e=f.length-1),a(f,i,e,h,g)}return d}),define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(f){function d(j,i,l,h,k){c.call(this,j,i,l,h,k),this.dom=k.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonRefresh.setAttribute("type","button"),this._buttonClose=document.createElement("button"),this._buttonClose.setAttribute("type","button"),this._hasShow=!1,this._zrHeight=l.getHeight(),this._zrWidth=l.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var c=f("./base"),g=f("../config"),b=f("zrender/tool/util");return d.prototype={type:g.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(j){this._hasShow=!0;var h=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=j,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(h[0]||this._lang[0])+"</p>";var a=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof a?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=a(this.option)),this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;",this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=h[1]||this._lang[1];var k=this;this._buttonClose.onclick=function(){k.hide()},this._tDom.appendChild(this._buttonClose),this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=h[2]||this._lang[2],this._buttonRefresh.onclick=function(){k._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._tDom.appendChild(this._buttonRefresh),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var q,w,n,v,k,j,x=[],m="";if(this.option.xAxis){for(x=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],q=0,v=x.length;v>q;q++){if("category"==(x[q].type||"category")){for(j=[],w=0,n=x[q].data.length;n>w;w++){j.push(this.getDataFromOption(x[q].data[w]))}m+=j.join(", ")+"\n\n"}}}if(this.option.yAxis){for(x=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],q=0,v=x.length;v>q;q++){if("category"==x[q].type){for(j=[],w=0,n=x[q].data.length;n>w;w++){j.push(this.getDataFromOption(x[q].data[w]))}m+=j.join(", ")+"\n\n"}}}var p,u=this.option.series;for(q=0,v=u.length;v>q;q++){for(j=[],w=0,n=u[q].data.length;n>w;w++){k=u[q].data[w],p=u[q].type==g.CHART_TYPE_PIE||u[q].type==g.CHART_TYPE_MAP?(k.name||"-")+":":"",u[q].type==g.CHART_TYPE_SCATTER&&(k=this.getDataFromOption(k).join(", ")),j.push(p+this.getDataFromOption(k))}m+=(u[q].name||"-")+" : \n",m+=j.join(u[q].type==g.CHART_TYPE_SCATTER?"\n":", "),m+="\n\n"}return m},_save:function(){var m=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof m){for(var k=this._textArea.value.split("\n"),j=[],h=0,n=k.length;n>h;h++){k[h]=this._trim(k[h]),""!==k[h]&&j.push(k[h])}this._contentToOption(j)}else{m(this._textArea,this.option)}this.hide();var l=this;setTimeout(function(){l.messageCenter&&l.messageCenter.dispatch(g.EVENT.DATA_VIEW_CHANGED,null,{option:l.option},l.myChart)},l.canvasSupported?800:100)},_contentToOption:function(q){var x,n,w,k,j,y,m,p=[],u=0;if(this.option.xAxis){for(p=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],x=0,k=p.length;k>x;x++){if("category"==(p[x].type||"category")){for(y=q[u].split(","),n=0,w=p[x].data.length;w>n;n++){m=this._trim(y[n]||""),j=p[x].data[n],"undefined"!=typeof p[x].data[n].value?p[x].data[n].value=m:p[x].data[n]=m}u++}}}if(this.option.yAxis){for(p=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],x=0,k=p.length;k>x;x++){if("category"==p[x].type){for(y=q[u].split(","),n=0,w=p[x].data.length;w>n;n++){m=this._trim(y[n]||""),j=p[x].data[n],"undefined"!=typeof p[x].data[n].value?p[x].data[n].value=m:p[x].data[n]=m}u++}}}var v=this.option.series;for(x=0,k=v.length;k>x;x++){if(u++,v[x].type==g.CHART_TYPE_SCATTER){for(var n=0,w=v[x].data.length;w>n;n++){y=q[u],m=y.replace(" ","").split(","),"undefined"!=typeof v[x].data[n].value?v[x].data[n].value=m:v[x].data[n]=m,u++}}else{y=q[u].split(",");for(var n=0,w=v[x].data.length;w>n;n++){m=(y[n]||"").replace(/.*:/,""),m=this._trim(m),m="-"!=m&&""!==m?m-0:"-","undefined"!=typeof v[x].data[n].value?v[x].data[n].value=m:v[x].data[n]=m}u++}}},_trim:function(h){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return h.replace(a,"")},_stop:function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},b.inherits(d,c),f("../component").define("dataView",d),d}),define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(f){function d(a){c.call(this,a)}var c=f("zrender/shape/Base"),g=f("zrender/shape/Line"),b=f("zrender/tool/util");return d.prototype={type:"cross",buildPath:function(j,h){var a=h.rect;h.xStart=a.x,h.xEnd=a.x+a.width,h.yStart=h.yEnd=h.y,g.prototype.buildPath(j,h),h.xStart=h.xEnd=h.x,h.yStart=a.y,h.yEnd=a.y+a.height,g.prototype.buildPath(j,h)},getRect:function(a){return a.rect},isCover:f("./normalIsCover")},b.inherits(d,c),d}),define("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(k){var p=k("../tool/math"),g=k("../tool/computeBoundingBox"),d=k("../tool/vector"),m=k("./Base"),c=d.create(),b=d.create(),q=d.create(),f=d.create(),j=function(a){m.call(this,a)};return j.prototype={type:"sector",buildPath:function(z,x){var v=x.x,C=x.y,u=x.r0||0,t=x.r,D=x.startAngle,w=x.endAngle,y=x.clockWise||!1;D=p.degreeToRadian(D),w=p.degreeToRadian(w),y||(D=-D,w=-w);var A=p.cos(D),B=p.sin(D);z.moveTo(A*u+v,B*u+C),z.lineTo(A*t+v,B*t+C),z.arc(v,C,t,D,w,!y),z.lineTo(p.cos(w)*u+v,p.sin(w)*u+C),0!==u&&z.arc(v,C,u,w,D,y),z.closePath()},getRect:function(s){if(s.__rect){return s.__rect}var l=s.x,o=s.y,t=s.r0||0,v=s.r,i=p.degreeToRadian(s.startAngle),r=p.degreeToRadian(s.endAngle),n=s.clockWise;return n||(i=-i,r=-r),t>1?g.arc(l,o,t,i,r,!n,c,q):(c[0]=q[0]=l,c[1]=q[1]=o),g.arc(l,o,v,i,r,!n,b,f),d.min(c,c,b),d.max(q,q,f),s.__rect={x:c[0],y:c[1],width:q[0]-c[0],height:q[1]-c[1]},s.__rect}},k("../tool/util").inherits(j,m),j}),define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(c){function b(f){a.call(this,f)}var a=c("zrender/shape/Base"),d=c("zrender/tool/util");return b.prototype={type:"candle",_numberOrder:function(g,f){return f-g},buildPath:function(h,g){var f=d.clone(g.y).sort(this._numberOrder);h.moveTo(g.x,f[3]),h.lineTo(g.x,f[2]),h.moveTo(g.x-g.width/2,f[2]),h.rect(g.x-g.width/2,f[2],g.width,f[1]-f[2]),h.moveTo(g.x,f[1]),h.lineTo(g.x,f[0])},getRect:function(h){if(!h.__rect){var g=0;("stroke"==h.brushType||"fill"==h.brushType)&&(g=h.lineWidth||1);var f=d.clone(h.y).sort(this._numberOrder);h.__rect={x:Math.round(h.x-h.width/2-g/2),y:Math.round(f[3]-g/2),width:h.width+g,height:f[0]-f[3]+g}}return h.__rect},isCover:c("./normalIsCover")},d.inherits(b,a),b}),define("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(k){function p(y,A,x){if(0!==y.length){for(var v=y[0][0],z=y[0][0],u=y[0][1],h=y[0][1],B=1;B<y.length;B++){var w=y[B];w[0]<v&&(v=w[0]),w[0]>z&&(z=w[0]),w[1]<u&&(u=w[1]),w[1]>h&&(h=w[1])}A[0]=v,A[1]=u,x[0]=z,x[1]=h}}function g(A,E,y,v,D,o){var F=[];c.cubicExtrema(A[0],E[0],y[0],v[0],F);for(var x=0;x<F.length;x++){F[x]=c.cubicAt(A[0],E[0],y[0],v[0],F[x])}var z=[];c.cubicExtrema(A[1],E[1],y[1],v[1],z);for(var x=0;x<z.length;x++){z[x]=c.cubicAt(A[1],E[1],y[1],v[1],z[x])}F.push(A[0],v[0]),z.push(A[1],v[1]);var B=Math.min.apply(null,F),C=Math.max.apply(null,F),w=Math.min.apply(null,z),u=Math.max.apply(null,z);D[0]=B,D[1]=w,o[0]=C,o[1]=u}function d(A,E,y,v,D){var o=c.quadraticExtremum(A[0],E[0],y[0]),F=c.quadraticExtremum(A[1],E[1],y[1]);o=Math.max(Math.min(o,1),0),F=Math.max(Math.min(F,1),0);var x=1-o,z=1-F,B=x*x*A[0]+2*x*o*E[0]+o*o*y[0],C=x*x*A[1]+2*x*o*E[1]+o*o*y[1],w=z*z*A[0]+2*z*F*E[0]+F*F*y[0],u=z*z*A[1]+2*z*F*E[1]+F*F*y[1];v[0]=Math.min(A[0],y[0],B,w),v[1]=Math.min(A[1],y[1],C,u),D[0]=Math.max(A[0],y[0],B,w),D[1]=Math.max(A[1],y[1],C,u)}var m=k("./vector"),c=k("./curve"),b=m.create(),q=m.create(),f=m.create(),j=function(w,z,u,r,l,v,x,y){if(Math.abs(r-l)>=2*Math.PI){return x[0]=w-u,x[1]=z-u,y[0]=w+u,void (y[1]=z+u)}if(b[0]=Math.cos(r)*u+w,b[1]=Math.sin(r)*u+z,q[0]=Math.cos(l)*u+w,q[1]=Math.sin(l)*u+z,m.min(x,b,q),m.max(y,b,q),r%=2*Math.PI,0>r&&(r+=2*Math.PI),l%=2*Math.PI,0>l&&(l+=2*Math.PI),r>l&&!v?l+=2*Math.PI:l>r&&v&&(r+=2*Math.PI),v){var s=l;l=r,r=s}for(var a=0;l>a;a+=Math.PI/2){a>r&&(f[0]=Math.cos(a)*u+w,f[1]=Math.sin(a)*u+z,m.min(x,f,x),m.max(y,f,y))}};return p.cubeBezier=g,p.quadraticBezier=d,p.arc=j,p}),define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(g){function d(a){c.call(this,a)}var c=g("zrender/shape/Base"),j=g("./Icon"),b=g("zrender/shape/util/dashedLineTo"),h=g("zrender/tool/util"),f=g("zrender/tool/matrix");return d.prototype={type:"chain",brush:function(l,k){var a=this.style;k&&(a=this.getHighlightStyle(a,this.highlightStyle||{})),l.save(),this.setContext(l,a),this.setTransform(l),l.save(),l.beginPath(),this.buildLinePath(l,a),l.stroke(),l.restore(),this.brushSymbol(l,a),l.restore()},buildLinePath:function(p,k){var a=k.x,u=k.y+5,q=k.width,m=k.height/2-10;if(p.moveTo(a,u),p.lineTo(a,u+m),p.moveTo(a+q,u),p.lineTo(a+q,u+m),p.moveTo(a,u+m/2),k.lineType&&"solid"!=k.lineType){if("dashed"==k.lineType||"dotted"==k.lineType){var l=(k.lineWidth||1)*("dashed"==k.lineType?5:1);b(p,a,u+m/2,a+q,u+m/2,l)}}else{p.lineTo(a+q,u+m/2)}},brushSymbol:function(v,p){var n=p.y+p.height/4;v.save();for(var m,w=p.chainPoint,u=0,q=w.length;q>u;u++){if(m=w[u],"none"!=m.symbol){v.beginPath();var k=m.symbolSize;j.prototype.buildPath(v,{iconType:m.symbol,x:m.x-k,y:n-k,width:2*k,height:2*k,n:m.n}),v.fillStyle=m.isEmpty?"#fff":p.strokeColor,v.closePath(),v.fill(),v.stroke()}m.showLabel&&(v.font=m.textFont,v.fillStyle=m.textColor,v.textAlign=m.textAlign,v.textBaseline=m.textBaseline,m.rotation?(v.save(),this._updateTextTransform(v,m.rotation),v.fillText(m.name,m.textX,m.textY),v.restore()):v.fillText(m.name,m.textX,m.textY))}v.restore()},_updateTextTransform:function(o,m){var l=f.create();if(f.identity(l),0!==m[0]){var p=m[1]||0,k=m[2]||0;(p||k)&&f.translate(l,l,[-p,-k]),f.rotate(l,l,m[0]),(p||k)&&f.translate(l,l,[p,k])}o.transform.apply(o,l)},isCover:function(l,k){var a=this.style;return l>=a.x&&l<=a.x+a.width&&k>=a.y&&k<=a.y+a.height?!0:!1}},h.inherits(d,c),d}),define("zrender/shape/Ring",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"ring",buildPath:function(f,d){f.arc(d.x,d.y,d.r,0,2*Math.PI,!1),f.moveTo(d.x+d.r0,d.y),f.arc(d.x,d.y,d.r0,0,2*Math.PI,!0)},getRect:function(f){if(f.__rect){return f.__rect}var d;return d="stroke"==f.brushType||"fill"==f.brushType?f.lineWidth||1:0,f.__rect={x:Math.round(f.x-f.r-d/2),y:Math.round(f.y-f.r-d/2),width:2*f.r+d,height:2*f.r+d},f.__rect}},c("../tool/util").inherits(a,b),a}),define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(h){function d(p,l,s,i,q,m){c.call(this,p,l,s,i,q),this.axisType=m,this._axisList=[],this.refresh(i)}var c=h("./base"),k=h("zrender/shape/Line"),b=h("../config"),j=h("../util/ecData"),g=h("zrender/tool/util"),f=h("zrender/tool/color");return d.prototype={type:b.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var p=this.option.axisLine.lineStyle.width,n=p/2,m={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},l=this.grid;switch(this.option.position){case"left":m.style={xStart:l.getX()-n,yStart:l.getYend(),xEnd:l.getX()-n,yEnd:l.getY(),lineCap:"round"};break;case"right":m.style={xStart:l.getXend()+n,yStart:l.getYend(),xEnd:l.getXend()+n,yEnd:l.getY(),lineCap:"round"};break;case"bottom":m.style={xStart:l.getX(),yStart:l.getYend()+n,xEnd:l.getXend(),yEnd:l.getYend()+n,lineCap:"round"};break;case"top":m.style={xStart:l.getX(),yStart:l.getY()-n,xEnd:l.getXend(),yEnd:l.getY()-n,lineCap:"round"}}var q=m.style;""!==this.option.name&&(q.text=this.option.name,q.textPosition=this.option.nameLocation,q.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(q.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(q.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(q.textColor=this.option.nameTextStyle.color)),q.strokeColor=this.option.axisLine.lineStyle.color,q.lineWidth=p,this.isHorizontal()?q.yStart=q.yEnd=this.subPixelOptimize(q.yEnd,p):q.xStart=q.xEnd=this.subPixelOptimize(q.xEnd,p),q.lineType=this.option.axisLine.lineStyle.type,m=new k(m),this.shapeList.push(m)},_axisLabelClickable:function(i,a){return i?(j.pack(a,void 0,-1,void 0,-1,a.style.text),a.hoverable=!0,a.clickable=!0,a.highlightStyle={color:f.lift(a.style.color,1),brushType:"fill"},a):a},refixAxisShape:function(p,o){if(this.option.axisLine.onZero){var m;if(this.isHorizontal()&&null!=o){for(var q=0,l=this.shapeList.length;l>q;q++){"axisLine"===this.shapeList[q]._axisShape?(this.shapeList[q].style.yStart=this.shapeList[q].style.yEnd=this.subPixelOptimize(o,this.shapeList[q].stylelineWidth),this.zr.modShape(this.shapeList[q].id)):"axisTick"===this.shapeList[q]._axisShape&&(m=this.shapeList[q].style.yEnd-this.shapeList[q].style.yStart,this.shapeList[q].style.yStart=o-m,this.shapeList[q].style.yEnd=o,this.zr.modShape(this.shapeList[q].id))}}if(!this.isHorizontal()&&null!=p){for(var q=0,l=this.shapeList.length;l>q;q++){"axisLine"===this.shapeList[q]._axisShape?(this.shapeList[q].style.xStart=this.shapeList[q].style.xEnd=this.subPixelOptimize(p,this.shapeList[q].stylelineWidth),this.zr.modShape(this.shapeList[q].id)):"axisTick"===this.shapeList[q]._axisShape&&(m=this.shapeList[q].style.xEnd-this.shapeList[q].style.xStart,this.shapeList[q].style.xStart=p,this.shapeList[q].style.xEnd=p+m,this.zr.modShape(this.shapeList[q].id))}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(m){if(!m||m instanceof Array&&0===m.length?m=[{type:b.COMPONENT_TYPE_AXIS_VALUE}]:m instanceof Array||(m=[m]),m.length>2&&(m=[m[0],m[1]]),"xAxis"===this.axisType){(!m[0].position||"bottom"!=m[0].position&&"top"!=m[0].position)&&(m[0].position="bottom"),m.length>1&&(m[1].position="bottom"===m[0].position?"top":"bottom");for(var l=0,a=m.length;a>l;l++){m[l].type=m[l].type||"category",m[l].xAxisIndex=l,m[l].yAxisIndex=-1}}else{(!m[0].position||"left"!=m[0].position&&"right"!=m[0].position)&&(m[0].position="left"),m.length>1&&(m[1].position="left"===m[0].position?"right":"left");for(var l=0,a=m.length;a>l;l++){m[l].type=m[l].type||"value",m[l].xAxisIndex=-1,m[l].yAxisIndex=l}}return m},refresh:function(m){var l;m&&(this.option=m,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(m.xAxis),l=this.option.xAxis):(this.option.yAxis=this.reformOption(m.yAxis),l=this.option.yAxis),this.series=m.series);for(var s=h("./categoryAxis"),e=h("./valueAxis"),q=Math.max(l&&l.length||0,this._axisList.length),p=0;q>p;p++){!this._axisList[p]||!m||l[p]&&this._axisList[p].type==l[p].type||(this._axisList[p].dispose&&this._axisList[p].dispose(),this._axisList[p]=!1),this._axisList[p]?this._axisList[p].refresh&&this._axisList[p].refresh(l?l[p]:!1,this.series):l&&l[p]&&(this._axisList[p]="category"===l[p].type?new s(this.ecTheme,this.messageCenter,this.zr,l[p],this.myChart,this.axisBase):new e(this.ecTheme,this.messageCenter,this.zr,l[p],this.myChart,this.axisBase,this.series))}},getAxis:function(a){return this._axisList[a]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var i=0,a=this._axisList.length;a>i;i++){this._axisList[i].dispose&&this._axisList[i].dispose()}this._axisList=[]}},g.inherits(d,c),h("../component").define("axis",d),d}),define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(f){function d(k,j,m,i,l){c.call(this,k,j,m,i,l),this.refresh(i)}var c=f("./base"),h=f("zrender/shape/Rectangle"),b=f("../config");b.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var g=f("zrender/tool/util");return d.prototype={type:b.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(l){for(var j,a,p,m=l.xAxis._axisList.concat(l.yAxis?l.yAxis._axisList:[]),k=m.length;k--;){p=m[k],p.type==b.COMPONENT_TYPE_AXIS_VALUE&&p._min<0&&p._max>=0&&(p.isHorizontal()?j=p.getCoord(0):a=p.getCoord(0))}if("undefined"!=typeof j||"undefined"!=typeof a){for(k=m.length;k--;){m[k].refixAxisShape(j,a)}}},refresh:function(m){if(m||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=m||this.option,this.option.grid=this.reformOption(this.option.grid);var l=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(l.x,this._zrWidth),this._y=this.parsePercent(l.y,this._zrHeight);var k=this.parsePercent(l.x2,this._zrWidth),j=this.parsePercent(l.y2,this._zrHeight);this._width="undefined"==typeof l.width?this._zrWidth-this._x-k:this.parsePercent(l.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof l.height?this._zrHeight-this._y-j:this.parsePercent(l.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,l.borderWidth),this._y=this.subPixelOptimize(this._y,l.borderWidth),this.shapeList.push(new h({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:l.borderWidth>0?"both":"fill",color:l.backgroundColor,strokeColor:l.borderColor,lineWidth:l.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},g.inherits(d,c),f("../component").define("grid",d),d}),define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(h){function k(q,l,u,i,s){g.call(this,q,l,u,i,s);var p=this;p._ondrift=function(n,a){return p.__ondrift(this,n,a)},p._ondragend=function(){return p.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var g=h("./base"),d=h("zrender/shape/Rectangle"),j=h("zrender/shape/Polygon"),c=h("../util/shape/Icon"),b=h("../config");b.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var m=h("../util/date"),f=h("zrender/tool/util");return k.prototype={type:b.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}this._syncFrameShape()},_getLocation:function(){var q,p,o,r,l=this.component.grid;return"horizontal"==this.zoomOption.orient?(o=this.zoomOption.width||l.getWidth(),r=this.zoomOption.height||this._fillerSize,q=null!=this.zoomOption.x?this.zoomOption.x:l.getX(),p=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-r-2):(o=this.zoomOption.width||this._fillerSize,r=this.zoomOption.height||l.getHeight(),q=null!=this.zoomOption.x?this.zoomOption.x:2,p=null!=this.zoomOption.y?this.zoomOption.y:l.getY()),{x:q,y:p,width:o,height:r}},_getZoom:function(){var B=this.option.series,G=this.option.xAxis;!G||G instanceof Array||(G=[G],this.option.xAxis=G);var z=this.option.yAxis;!z||z instanceof Array||(z=[z],this.option.yAxis=z);var v,E,r=[],H=this.zoomOption.xAxisIndex;if(G&&null==H){v=[];for(var y=0,A=G.length;A>y;y++){("category"==G[y].type||null==G[y].type)&&v.push(y)}}else{v=H instanceof Array?H:null!=H?[H]:[]}if(H=this.zoomOption.yAxisIndex,z&&null==H){E=[];for(var y=0,A=z.length;A>y;y++){"category"==z[y].type&&E.push(y)}}else{E=H instanceof Array?H:null!=H?[H]:[]}for(var C,y=0,A=B.length;A>y;y++){if(C=B[y],C.type==b.CHART_TYPE_LINE||C.type==b.CHART_TYPE_BAR||C.type==b.CHART_TYPE_SCATTER||C.type==b.CHART_TYPE_K){for(var D=0,x=v.length;x>D;D++){if(v[D]==(C.xAxisIndex||0)){r.push(y);break}}for(var D=0,x=E.length;x>D;D++){if(E[D]==(C.yAxisIndex||0)){r.push(y);break}}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&C.data&&this.getDataFromOption(C.data[0]) instanceof Array&&(C.type==b.CHART_TYPE_SCATTER||C.type==b.CHART_TYPE_LINE||C.type==b.CHART_TYPE_BAR)&&r.push(y)}}var q=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,F=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;q>F&&(q+=F,F=q-F,q-=F);var w=Math.round((F-q)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:q,end:F,start2:0,end2:100,size:w,xAxisIndex:v,yAxisIndex:E,seriesIndex:r,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var w=this.option.xAxis,y=this._zoom.xAxisIndex,u=0,q=y.length;q>u;u++){this._originalData.xAxis[y[u]]=w[y[u]].data}for(var x=this.option.yAxis,p=this._zoom.yAxisIndex,u=0,q=p.length;q>u;u++){this._originalData.yAxis[p[u]]=x[p[u]].data}for(var z,r=this.option.series,v=this._zoom.seriesIndex,u=0,q=v.length;q>u;u++){z=r[v[u]],this._originalData.series[v[u]]=z.data,z.data&&this.getDataFromOption(z.data[0]) instanceof Array&&(z.type==b.CHART_TYPE_SCATTER||z.type==b.CHART_TYPE_LINE||z.type==b.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(v[u]))}},_calculScatterMap:function(p){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[p]=this._zoom.scatterMap[p]||{};var l=h("../component"),u=l.get("axis"),e=f.clone(this.option.xAxis);"category"==e[0].type&&(e[0].type="value"),e[1]&&"category"==e[1].type&&(e[1].type="value");var s=new u(this.ecTheme,null,!1,{xAxis:e,series:this.option.series},this,"xAxis"),q=this.option.series[p].xAxisIndex||0;this._zoom.scatterMap[p].x=s.getAxis(q).getExtremum(),s.dispose(),e=f.clone(this.option.yAxis),"category"==e[0].type&&(e[0].type="value"),e[1]&&"category"==e[1].type&&(e[1].type="value"),s=new u(this.ecTheme,null,!1,{yAxis:e,series:this.option.series},this,"yAxis"),q=this.option.series[p].yAxisIndex||0,this._zoom.scatterMap[p].y=s.getAxis(q).getExtremum(),s.dispose()},_buildBackground:function(){var G=this._location.width,v=this._location.height;this.shapeList.push(new d({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:G,height:v,color:this.zoomOption.backgroundColor}}));for(var C=0,z=this._originalData.xAxis,w=this._zoom.xAxisIndex,B=0,D=w.length;D>B;B++){C=Math.max(C,z[w[B]].length)}for(var H=this._originalData.yAxis,I=this._zoom.yAxisIndex,B=0,D=I.length;D>B;B++){C=Math.max(C,H[I[B]].length)}for(var A,x=this._zoom.seriesIndex[0],r=this._originalData.series[x],a=Number.MIN_VALUE,n=Number.MAX_VALUE,B=0,D=r.length;D>B;B++){A=this.getDataFromOption(r[B],0),this.option.series[x].type==b.CHART_TYPE_K&&(A=A[1]),isNaN(A)&&(A=0),a=Math.max(a,A),n=Math.min(n,A)}var E=a-n,F=[],q=G/(C-(C>1?1:0)),J=v/(C-(C>1?1:0)),K=1;"horizontal"==this.zoomOption.orient&&1>q?K=Math.floor(3*C/G):"vertical"==this.zoomOption.orient&&1>J&&(K=Math.floor(3*C/v));for(var B=0,D=C;D>B;B+=K){A=this.getDataFromOption(r[B],0),this.option.series[x].type==b.CHART_TYPE_K&&(A=A[1]),isNaN(A)&&(A=0),F.push("horizontal"==this.zoomOption.orient?[this._location.x+q*B,this._location.y+v-1-Math.round((A-n)/E*(v-10))]:[this._location.x+1+Math.round((A-n)/E*(G-10)),this._location.y+J*(D-B-1)])}"horizontal"==this.zoomOption.orient?(F.push([this._location.x+G,this._location.y+v]),F.push([this._location.x,this._location.y+v])):(F.push([this._location.x,this._location.y]),F.push([this._location.x,this._location.y+v])),this.shapeList.push(new j({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:F,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new d(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var a=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:a.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=f.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=a.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=f.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=a.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new c(this._startShape),this._endShape=new c(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var i=this.subPixelOptimize(this._location.x,1),a=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:i,y:a,width:this._location.width-(i>this._location.x?1:0),height:this._location.height-(a>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=f.clone(this._startFrameShape),this._startFrameShape=new d(this._startFrameShape),this._endFrameShape=new d(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var i,a;"horizontal"==this.zoomOption.orient?(i=this._startShape.style.x,a=this._endShape.style.x,this._fillerShae.style.x=Math.min(i,a)+this._handleSize,this._fillerShae.style.width=Math.abs(i-a)-this._handleSize,this._zoom.start=(Math.min(i,a)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(i,a)+this._handleSize-this._location.x)/this._location.width*100):(i=this._startShape.style.y,a=this._endShape.style.y,this._fillerShae.style.y=Math.min(i,a)+this._handleSize,this._fillerShae.style.height=Math.abs(i-a)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(i,a))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(i,a)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(w){var u,r,y,q,x;for(var v in this._originalData){u=this._originalData[v];for(var p in u){x=u[p],null!=x&&(q=x.length,r=Math.floor(this._zoom.start/100*q),y=Math.ceil(this._zoom.end/100*q),this.getDataFromOption(x[0]) instanceof Array&&this.option[v][p].type!=b.CHART_TYPE_K?(this._setScale(),this.option[v][p].data=this._synScatterData(p,x)):this.option[v][p].data=x.slice(r,y))}}this._isSilence||!this.zoomOption.realtime&&!w||this.messageCenter.dispatch(b.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(z,D){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2){return D}var x,u,C,q,p,E=[],w=this._zoom.scatterMap[z];"horizontal"==this.zoomOption.orient?(x=w.x.max-w.x.min,u=this._zoom.start/100*x+w.x.min,C=this._zoom.end/100*x+w.x.min,x=w.y.max-w.y.min,q=this._zoom.start2/100*x+w.y.min,p=this._zoom.end2/100*x+w.y.min):(x=w.x.max-w.x.min,u=this._zoom.start2/100*x+w.x.min,C=this._zoom.end2/100*x+w.x.min,x=w.y.max-w.y.min,q=this._zoom.start/100*x+w.y.min,p=this._zoom.end/100*x+w.y.min);var y;(y=w.x.dataMappingMethods)&&(u=y.coord2Value(u),C=y.coord2Value(C)),(y=w.y.dataMappingMethods)&&(q=y.coord2Value(q),p=y.coord2Value(p));for(var A,B=0,v=D.length;v>B;B++){A=D[B].value||D[B],A[0]>=u&&A[0]<=C&&A[1]>=q&&A[1]<=p&&E.push(D[B])}return E},_setScale:function(){var q=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,p={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var o in p){for(var r=0,l=p[o].length;l>r;r++){p[o][r].scale=q||p[o][r]._scale}}},_backupScale:function(){var o={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var l in o){for(var a=0,p=o[l].length;p>a;a++){o[l][a]._scale=o[l][a].scale}}},_getDetail:function(){for(var D=["xAxis","yAxis"],I=0,B=D.length;B>I;I++){var w=this._originalData[D[I]];for(var G in w){var v=w[G];if(null!=v){var q=v.length,A=Math.floor(this._zoom.start/100*q),C=Math.ceil(this._zoom.end/100*q);return C-=C>0?1:0,{start:this.getDataFromOption(v[A]),end:this.getDataFromOption(v[C])}}}}D="horizontal"==this.zoomOption.orient?"xAxis":"yAxis";var E=this._zoom.seriesIndex[0],F=this.option.series[E][D+"Index"]||0,y=this.option[D][F].type,s=this._zoom.scatterMap[E][D.charAt(0)].min,H=this._zoom.scatterMap[E][D.charAt(0)].max,x=H-s;if("value"==y){return{start:s+x*this._zoom.start/100,end:s+x*this._zoom.end/100}}if("time"==y){H=s+x*this._zoom.end/100,s+=x*this._zoom.start/100;var z=m.getAutoFormatter(s,H).formatter;return{start:m.format(z,s),end:m.format(z,H)}}return{start:"",end:""}},__ondrift:function(q,p,o){this.zoomOption.zoomLock&&(q=this._fillerShae);var r="filler"==q._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?q.style.x+p-r<=this._location.x?q.style.x=this._location.x+r:q.style.x+p+q.style.width+r>=this._location.x+this._location.width?q.style.x=this._location.x+this._location.width-q.style.width-r:q.style.x+=p:q.style.y+o-r<=this._location.y?q.style.y=this._location.y+r:q.style.y+o+q.style.height+r>=this._location.y+this._location.height?q.style.y=this._location.y+this._location.height-q.style.height-r:q.style.y+=o,"filler"==q._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var l=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=l.start,this._endShape.style.text=this._endShape.highlightStyle.text=l.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return !0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(i,a){this.isDragend&&i.target&&(!this.zoomOption.realtime&&this._syncData(),a.dragOut=!0,a.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(b.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),a.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(i,a){a.needRefresh=!0},absoluteZoom:function(a){this._zoom.start=a.start,this._zoom.end=a.end,this._zoom.start2=a.start2,this._zoom.end2=a.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(w){if(!w){return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom}var q=this.component.grid.getArea(),p={x:w.x,y:w.y,width:w.width,height:w.height};if(p.width<0&&(p.x+=p.width,p.width=-p.width),p.height<0&&(p.y+=p.height,p.height=-p.height),p.x>q.x+q.width||p.y>q.y+q.height){return !1}p.x<q.x&&(p.x=q.x),p.x+p.width>q.x+q.width&&(p.width=q.x+q.width-p.x),p.y+p.height>q.y+q.height&&(p.height=q.y+q.height-p.y);var y,l=(p.x-q.x)/q.width,x=1-(p.x+p.width-q.x)/q.width,v=1-(p.y+p.height-q.y)/q.height,u=(p.y-q.y)/q.height;return"horizontal"==this.zoomOption.orient?(y=this._zoom.end-this._zoom.start,this._zoom.start+=y*l,this._zoom.end-=y*x,y=this._zoom.end2-this._zoom.start2,this._zoom.start2+=y*v,this._zoom.end2-=y*u):(y=this._zoom.end-this._zoom.start,this._zoom.start+=y*v,this._zoom.end-=y*u,y=this._zoom.end2-this._zoom.start2,this._zoom.start2+=y*l,this._zoom.end2-=y*x),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(x){for(var z,w,u=this._originalData.series,y=x.series,q=0,p=y.length;p>q;q++){w=y[q].data||y[q].eventList,z=u[q]?Math.floor(this._zoom.start/100*u[q].length):0;for(var A=0,v=w.length;v>A;A++){u[q]&&(u[q][A+z]=w[A])}}},syncOption:function(a){this.silence(!0),this.option=a,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(a){this._isSilence=a},getRealDataIndex:function(n,l){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end){return l}var a=this._originalData.series;return a[n]?Math.floor(this._zoom.start/100*a[n].length)+l:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},f.inherits(k,g),h("../component").define("dataZoom",k),k}),define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(h){function k(u,l,w,i,v,q){if(i.data.length<1){return void console.error("option.data.length < 1.")}g.call(this,u,l,w,i,v),this.grid=this.component.grid;for(var p in q){this[p]=q[p]}this.refresh(i)}var g=h("./base"),d=h("zrender/shape/Text"),j=h("zrender/shape/Line"),c=h("zrender/shape/Rectangle"),b=h("../config");b.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var m=h("zrender/tool/util"),f=h("zrender/tool/area");return k.prototype={type:b.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(n){var l=this.getDataFromOption(this.option.data[n]),a=this.option.data[n].formatter||this.option.axisLabel.formatter;return a&&("function"==typeof a?l=a.call(this.myChart,l):"string"==typeof a&&(l=a.replace("{value}",l))),l},_getInterval:function(){var z=this.option.axisLabel.interval;if("auto"==z){var E=this.option.axisLabel.textStyle.fontSize,x=this.option.data,v=this.option.data.length;if(this.isHorizontal()){if(v>3){var C,s,l=this.getGap(),y=!1,A=Math.floor(0.5/l);for(A=1>A?1:A,z=Math.floor(15/l);!y&&v>z;){z+=A,y=!0,C=Math.floor(l*z);for(var B=Math.floor((v-1)/z)*z;B>=0;B-=z){if(0!==this.option.axisLabel.rotate){s=E}else{if(x[B].textStyle){s=f.getTextWidth(this._getReformedLabel(B),this.getFont(m.merge(x[B].textStyle,this.option.axisLabel.textStyle)))}else{var w=this._getReformedLabel(B)+"",q=(w.match(/\w/g)||"").length,D=w.length-q;s=q*E*2/3+D*E}}if(s>C){y=!1;break}}}}else{z=1}}else{if(v>3){var l=this.getGap();for(z=Math.floor(11/l);E>l*z-6&&v>z;){z++}}else{z=1}}}else{z="function"==typeof z?1:z-0+1}return z},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}}},_buildAxisTick:function(){var E,I=this.option.data,B=this.option.data.length,w=this.option.axisTick,v=w.length,a=w.lineStyle.color,J=w.lineStyle.width,A="function"==typeof w.interval?w.interval:"auto"==w.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,C=A?1:"auto"==w.interval?this._interval:w.interval-0+1,F=w.onGap,G=F?this.getGap()/2:"undefined"==typeof F&&this.option.boundaryGap?this.getGap()/2:0,y=G>0?-C:0;if(this.isHorizontal()){for(var q,H="bottom"==this.option.position?w.inside?this.grid.getYend()-v-1:this.grid.getYend()+1:w.inside?this.grid.getY()+1:this.grid.getY()-v-1,x=y;B>x;x+=C){(!A||A(x,I[x]))&&(q=this.subPixelOptimize(this.getCoordByIndex(x)+(x>=0?G:0),J),E={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:q,yStart:H,xEnd:q,yEnd:H+v,strokeColor:a,lineWidth:J}},this.shapeList.push(new j(E)))}}else{for(var z,D="left"==this.option.position?w.inside?this.grid.getX()+1:this.grid.getX()-v-1:w.inside?this.grid.getXend()-v-1:this.grid.getXend()+1,x=y;B>x;x+=C){(!A||A(x,I[x]))&&(z=this.subPixelOptimize(this.getCoordByIndex(x)-(x>=0?G:0),J),E={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:D,yStart:z,xEnd:D+v,yEnd:z,strokeColor:a,lineWidth:J}},this.shapeList.push(new j(E)))}}},_buildAxisLabel:function(){var B,G,z=this.option.data,E=this.option.data.length,s=this.option.axisLabel,n=s.rotate,y=s.margin,A=s.clickable,C=s.textStyle,D="function"==typeof s.interval?s.interval:!1;if(this.isHorizontal()){var w,q;"bottom"==this.option.position?(w=this.grid.getYend()+y,q="top"):(w=this.grid.getY()-y,q="bottom");for(var F=0;E>F;F+=this._interval){D&&!D(F,z[F])||""===this._getReformedLabel(F)||(G=m.merge(z[F].textStyle||{},C),B={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(F),y:w,color:G.color,text:this._getReformedLabel(F),textFont:this.getFont(G),textAlign:G.align||"center",textBaseline:G.baseline||q}},n&&(B.style.textAlign=n>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",B.rotation=[n*Math.PI/180,B.style.x,B.style.y]),this.shapeList.push(new d(this._axisLabelClickable(A,B))))}}else{var v,x;"left"==this.option.position?(v=this.grid.getX()-y,x="right"):(v=this.grid.getXend()+y,x="left");for(var F=0;E>F;F+=this._interval){D&&!D(F,z[F])||""===this._getReformedLabel(F)||(G=m.merge(z[F].textStyle||{},C),B={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:v,y:this.getCoordByIndex(F),color:G.color,text:this._getReformedLabel(F),textFont:this.getFont(G),textAlign:G.align||x,textBaseline:G.baseline||0===F&&""!==this.option.name?"bottom":F==E-1&&""!==this.option.name?"top":"middle"}},n&&(B.rotation=[n*Math.PI/180,B.style.x,B.style.y]),this.shapeList.push(new d(this._axisLabelClickable(A,B))))}}},_buildSplitLine:function(){var I,w=this.option.data,E=this.option.data.length,B=this.option.splitLine,A=B.lineStyle.type,y=B.lineStyle.width,x=B.lineStyle.color;x=x instanceof Array?x:[x];var D=x.length,F="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,J=B.onGap,K=J?this.getGap()/2:"undefined"==typeof J&&this.option.boundaryGap?this.getGap()/2:0;if(E-=J||"undefined"==typeof J&&this.option.boundaryGap?1:0,this.isHorizontal()){for(var C,z=this.grid.getY(),v=this.grid.getYend(),a=0;E>a;a+=this._interval){(!F||F(a,w[a]))&&(C=this.subPixelOptimize(this.getCoordByIndex(a)+K,y),I={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:C,yStart:z,xEnd:C,yEnd:v,strokeColor:x[a/this._interval%D],lineType:A,lineWidth:y}},this.shapeList.push(new j(I)))}}else{for(var q,G=this.grid.getX(),H=this.grid.getXend(),a=0;E>a;a+=this._interval){(!F||F(a,w[a]))&&(q=this.subPixelOptimize(this.getCoordByIndex(a)-K,y),I={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:G,yStart:q,xEnd:H,yEnd:q,strokeColor:x[a/this._interval%D],lineType:A,lineWidth:y}},this.shapeList.push(new j(I)))}}},_buildSplitArea:function(){var H,w=this.option.data,D=this.option.splitArea,A=D.areaStyle.color;if(A instanceof Array){var K=A.length,y=this.option.data.length,x="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,C=D.onGap,E=C?this.getGap()/2:"undefined"==typeof C&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal()){for(var I,J=this.grid.getY(),B=this.grid.getHeight(),z=this.grid.getX(),v=0;y>=v;v+=this._interval){x&&!x(v,w[v])&&y>v||(I=y>v?this.getCoordByIndex(v)+E:this.grid.getXend(),H={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:z,y:J,width:I-z,height:B,color:A[v/this._interval%K]}},this.shapeList.push(new c(H)),z=I)}}else{for(var o,q=this.grid.getX(),F=this.grid.getWidth(),G=this.grid.getYend(),v=0;y>=v;v+=this._interval){x&&!x(v,w[v])&&y>v||(o=y>v?this.getCoordByIndex(v)-E:this.grid.getY(),H={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:q,y:o,width:F,height:G-o,color:A[v/this._interval%K]}},this.shapeList.push(new c(H)),G=o)}}}else{H={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:A}},this.shapeList.push(new c(H))}},refresh:function(a){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var i=this.option.data.length,a=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?a/i:a/(i>1?i-1:1)},getCoord:function(r){for(var q=this.option.data,p=q.length,u=this.getGap(),l=this.option.boundaryGap?u/2:0,s=0;p>s;s++){if(this.getDataFromOption(q[s])==r){return l=this.isHorizontal()?this.grid.getX()+l:this.grid.getYend()-l}l+=u}},getCoordByIndex:function(n){if(0>n){return this.isHorizontal()?this.grid.getX():this.grid.getYend()}if(n>this.option.data.length-1){return this.isHorizontal()?this.grid.getXend():this.grid.getY()}var l=this.getGap(),a=this.option.boundaryGap?l/2:0;return a+=n*l,a=this.isHorizontal()?this.grid.getX()+a:this.grid.getYend()-a},getNameByIndex:function(a){return this.getDataFromOption(this.option.data[a])},getIndexByName:function(o){for(var l=this.option.data,a=l.length,p=0;a>p;p++){if(this.getDataFromOption(l[p])==o){return p}}return -1},getValueFromCoord:function(){return""},isMainAxis:function(a){return a%this._interval===0}},m.inherits(k,g),h("../component").define("categoryAxis",k),k}),define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(h){function k(w,q,y,p,x,v,u){if(!u||0===u.length){return void console.err("option.series.length == 0.")}g.call(this,w,q,y,p,x),this.series=u,this.grid=this.component.grid;for(var i in v){this[i]=v[i]}this.refresh(p,u)}var g=h("./base"),d=h("zrender/shape/Text"),j=h("zrender/shape/Line"),c=h("zrender/shape/Rectangle"),b=h("../config");b.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var m=h("../util/date"),f=h("zrender/tool/util");return k.prototype={type:b.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}}},_buildAxisTick:function(){var y,B=this._valueList,w=this._valueList.length,q=this.option.axisTick,p=q.length,a=q.lineStyle.color,C=q.lineStyle.width;if(this.isHorizontal()){for(var v,x="bottom"===this.option.position?q.inside?this.grid.getYend()-p-1:this.grid.getYend()+1:q.inside?this.grid.getY()+1:this.grid.getY()-p-1,z=0;w>z;z++){v=this.subPixelOptimize(this.getCoord(B[z]),C),y={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:v,yStart:x,xEnd:v,yEnd:x+p,strokeColor:a,lineWidth:C}},this.shapeList.push(new j(y))}}else{for(var A,u="left"===this.option.position?q.inside?this.grid.getX()+1:this.grid.getX()-p-1:q.inside?this.grid.getXend()-p-1:this.grid.getXend()+1,z=0;w>z;z++){A=this.subPixelOptimize(this.getCoord(B[z]),C),y={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:A,xEnd:u+p,yEnd:A,strokeColor:a,lineWidth:C}},this.shapeList.push(new j(y))}}},_buildAxisLabel:function(){var x,B=this._valueList,v=this._valueList.length,A=this.option.axisLabel.rotate,p=this.option.axisLabel.margin,n=this.option.axisLabel.clickable,C=this.option.axisLabel.textStyle;if(this.isHorizontal()){var u,w;"bottom"===this.option.position?(u=this.grid.getYend()+p,w="top"):(u=this.grid.getY()-p,w="bottom");for(var y=0;v>y;y++){x={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(B[y]),y:u,color:"function"==typeof C.color?C.color(B[y]):C.color,text:this._valueLabel[y],textFont:this.getFont(C),textAlign:C.align||"center",textBaseline:C.baseline||w}},A&&(x.style.textAlign=A>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",x.rotation=[A*Math.PI/180,x.style.x,x.style.y]),this.shapeList.push(new d(this._axisLabelClickable(n,x)))}}else{var z,q;"left"===this.option.position?(z=this.grid.getX()-p,q="right"):(z=this.grid.getXend()+p,q="left");for(var y=0;v>y;y++){x={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:z,y:this.getCoord(B[y]),color:"function"==typeof C.color?C.color(B[y]):C.color,text:this._valueLabel[y],textFont:this.getFont(C),textAlign:C.align||q,textBaseline:C.baseline||(0===y&&""!==this.option.name?"bottom":y===v-1&&""!==this.option.name?"top":"middle")}},A&&(x.rotation=[A*Math.PI/180,x.style.x,x.style.y]),this.shapeList.push(new d(this._axisLabelClickable(n,x)))}}},_buildSplitLine:function(){var C,G=this._valueList,A=this._valueList.length,w=this.option.splitLine,v=w.lineStyle.type,a=w.lineStyle.width,H=w.lineStyle.color;H=H instanceof Array?H:[H];var z=H.length;if(this.isHorizontal()){for(var B,D=this.grid.getY(),E=this.grid.getYend(),y=0;A>y;y++){B=this.subPixelOptimize(this.getCoord(G[y]),a),C={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:B,yStart:D,xEnd:B,yEnd:E,strokeColor:H[y%z],lineType:v,lineWidth:a}},this.shapeList.push(new j(C))}}else{for(var q,F=this.grid.getX(),x=this.grid.getXend(),y=0;A>y;y++){q=this.subPixelOptimize(this.getCoord(G[y]),a),C={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:F,yStart:q,xEnd:x,yEnd:q,strokeColor:H[y%z],lineType:v,lineWidth:a}},this.shapeList.push(new j(C))}}},_buildSplitArea:function(){var A,F=this.option.splitArea.areaStyle.color;if(F instanceof Array){var y=F.length,v=this._valueList,D=this._valueList.length;if(this.isHorizontal()){for(var o,G=this.grid.getY(),x=this.grid.getHeight(),z=this.grid.getX(),B=0;D>=B;B++){o=D>B?this.getCoord(v[B]):this.grid.getXend(),A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:z,y:G,width:o-z,height:x,color:F[B%y]}},this.shapeList.push(new c(A)),z=o}}else{for(var C,w=this.grid.getX(),q=this.grid.getWidth(),E=this.grid.getYend(),B=0;D>=B;B++){C=D>B?this.getCoord(v[B]):this.grid.getY(),A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:w,y:C,width:q,height:E-C,color:F[B%y]}},this.shapeList.push(new c(A)),E=C}}}else{A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:F}},this.shapeList.push(new c(A))}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var w,A,u={},q=this.component.legend,z=0,p=this.series.length;p>z;z++){!(this.series[z].type!=b.CHART_TYPE_LINE&&this.series[z].type!=b.CHART_TYPE_BAR&&this.series[z].type!=b.CHART_TYPE_SCATTER&&this.series[z].type!=b.CHART_TYPE_K&&this.series[z].type!=b.CHART_TYPE_EVENTRIVER||q&&!q.isSelected(this.series[z].name)||(w=this.series[z].xAxisIndex||0,A=this.series[z].yAxisIndex||0,this.option.xAxisIndex!=w&&this.option.yAxisIndex!=A||!this._calculSum(u,z)))}var B;for(var z in u){B=u[z];for(var r=0,v=B.length;v>r;r++){if(!isNaN(B[r])){this._hasData=!0,this._min=B[r],this._max=B[r];break}}if(this._hasData){break}}for(var z in u){B=u[z];for(var r=0,v=B.length;v>r;r++){isNaN(B[r])||(this._min=Math.min(this._min,B[r]),this._max=Math.max(this._max,B[r]))}}var x="log"!==this.option.type?this.option.boundaryGap:[0,0],y=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(y*x[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(y*x[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._reformValue(this.option.scale)}else{this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._customerValue()}},_calculSum:function(y,C){var w,s,B=this.series[C].name||"kener";if(this.series[C].stack){var r="__Magic_Key_Positive__"+this.series[C].stack,v="__Magic_Key_Negative__"+this.series[C].stack;y[r]=y[r]||[],y[v]=y[v]||[],y[B]=y[B]||[],s=this.series[C].data;for(var x=0,z=s.length;z>x;x++){w=this.getDataFromOption(s[x]),"-"!==w&&(w-=0,w>=0?null!=y[r][x]?y[r][x]+=w:y[r][x]=w:null!=y[v][x]?y[v][x]+=w:y[v][x]=w,this.option.scale&&y[B].push(w))}}else{if(y[B]=y[B]||[],this.series[C].type!=b.CHART_TYPE_EVENTRIVER){s=this.series[C].data;for(var x=0,z=s.length;z>x;x++){w=this.getDataFromOption(s[x]),this.series[C].type===b.CHART_TYPE_K?(y[B].push(w[0]),y[B].push(w[1]),y[B].push(w[2]),y[B].push(w[3])):w instanceof Array?(-1!=this.option.xAxisIndex&&y[B].push("time"!=this.option.type?w[0]:m.getNewDate(w[0])),-1!=this.option.yAxisIndex&&y[B].push("time"!=this.option.type?w[1]:m.getNewDate(w[1]))):y[B].push(w)}}else{s=this.series[C].data;for(var x=0,z=s.length;z>x;x++){for(var A=s[x].evolution,u=0,q=A.length;q>u;u++){y[B].push(m.getNewDate(A[u].time))}}}}},_reformValue:function(o){var l=h("../util/smartSteps"),p=this.option.splitNumber;!o&&this._min>=0&&this._max>=0&&(this._min=0),!o&&this._min<=0&&this._max<=0&&(this._max=0);var e=l(this._min,this._max,p);p=null!=p?p:e.secs,this._min=e.min,this._max=e.max,this._valueList=e.pnts,this._reformLabelData()},_reformTimeValue:function(){var q=null!=this.option.splitNumber?this.option.splitNumber:5,p=m.getAutoFormatter(this._min,this._max,q),o=p.formatter,r=p.gapValue;this._valueList=[m.getNewDate(this._min)];var l;switch(o){case"week":l=m.nextMonday(this._min);break;case"month":l=m.nextNthOnMonth(this._min,1);break;case"quarter":l=m.nextNthOnQuarterYear(this._min,1);break;case"half-year":l=m.nextNthOnHalfYear(this._min,1);break;case"year":l=m.nextNthOnYear(this._min,1);break;default:7200000>=r?l=(Math.floor(this._min/r)+1)*r:(l=m.getNewDate(this._min- -r),l.setHours(6*Math.round(l.getHours()/6)),l.setMinutes(0),l.setSeconds(0))}for(l-this._min<r/2&&(l-=-r),p=m.getNewDate(l),q*=1.5;q-->=0&&(("month"==o||"quarter"==o||"half-year"==o||"year"==o)&&p.setDate(1),!(this._max-p<r/2));){this._valueList.push(p),p=m.getNewDate(p- -r)}this._valueList.push(m.getNewDate(this._max)),this._reformLabelData(function(a){return function(e){return m.format(a,e)}}(o))},_customerValue:function(){var o=h("../util/accMath"),l=null!=this.option.splitNumber?this.option.splitNumber:5,p=(this._max-this._min)/l;this._valueList=[];for(var e=0;l>=e;e++){this._valueList.push(o.accAdd(this._min,o.accMul(p,e)))}this._reformLabelData()},_reformLogValue:function(){var e=this.option,a=h("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:e.logPositive,logLabelBase:e.logLabelBase,splitNumber:e.splitNumber});this._min=a.dataMin,this._max=a.dataMax,this._valueList=a.tickList,this._dataMappingMethods=a.dataMappingMethods,this._reformLabelData(a.labelFormatter)},_reformLabelData:function(o){this._valueLabel=[];var l=this.option.axisLabel.formatter;if(l){for(var a=0,p=this._valueList.length;p>a;a++){"function"==typeof l?this._valueLabel.push(o?l.call(this.myChart,this._valueList[a],o):l.call(this.myChart,this._valueList[a])):"string"==typeof l&&this._valueLabel.push(o?m.format(l,this._valueList[a]):l.replace("{value}",this._valueList[a]))}}else{for(var a=0,p=this._valueList.length;p>a;a++){this._valueLabel.push(o?o(this._valueList[a]):this.numAddCommas(this._valueList[a]))}}},getExtremum:function(){this._calculateValue();var a=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:a?f.merge({},a):null}},refresh:function(i,a){i&&(this.option=this.reformOption(i),this.option.axisLabel.textStyle=f.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=a),this.zr&&(this.clear(),this._buildShape())},getCoord:function(i){this._dataMappingMethods&&(i=this._dataMappingMethods.value2Coord(i)),i=i<this._min?this._min:i,i=i>this._max?this._max:i;var a;return a=this.isHorizontal()?this.grid.getX()+(i-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(i-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(a){return Math.abs(this.isHorizontal()?a/(this._max-this._min)*this.grid.getWidth():a/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(i){var a;return this.isHorizontal()?(i=i<this.grid.getX()?this.grid.getX():i,i=i>this.grid.getXend()?this.grid.getXend():i,a=this._min+(i-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(i=i<this.grid.getY()?this.grid.getY():i,i=i>this.grid.getYend()?this.grid.getYend():i,a=this._max-(i-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),this._dataMappingMethods&&(a=this._dataMappingMethods.coord2Value(a)),a.toFixed(2)-0},isMaindAxis:function(n){for(var l=0,a=this._valueList.length;a>l;l++){if(this._valueList[l]===n){return !0}}return !1}},f.inherits(k,g),h("../component").define("valueAxis",k),k}),define("echarts/util/date",[],function(){function m(z,B,y){y=y>1?y:2;for(var w,A,h,d,C=0,x=p.length;x>C;C++){if(w=p[C].value,A=Math.ceil(B/w)*w-Math.floor(z/w)*w,Math.round(A/w)<=1.2*y){h=p[C].formatter,d=p[C].value;break}}return null==h&&(h="year",w=31708800000,A=Math.ceil(B/w)*w-Math.floor(z/w)*w,d=Math.round(A/(y-1)/w)*w),{formatter:h,gapValue:d}}function u(a){return 10>a?"0"+a:a}function j(z,y){("week"==z||"month"==z||"quarter"==z||"half-year"==z||"year"==z)&&(z="MM - dd\nyyyy");var w=k(y),B=w.getFullYear(),t=w.getMonth()+1,h=w.getDate(),C=w.getHours(),x=w.getMinutes(),A=w.getSeconds();return z=z.replace("MM",u(t)),z=z.toLowerCase(),z=z.replace("yyyy",B),z=z.replace("yy",B%100),z=z.replace("dd",u(h)),z=z.replace("d",h),z=z.replace("hh",u(C)),z=z.replace("h",C),z=z.replace("mm",u(x)),z=z.replace("m",x),z=z.replace("ss",u(A)),z=z.replace("s",A)}function f(a){return a=k(a),a.setDate(a.getDate()+8-a.getDay()),a}function q(h,d,a){return h=k(h),h.setMonth(Math.ceil((h.getMonth()+1)/a)*a),h.setDate(d),h}function c(d,a){return q(d,a,1)}function b(d,a){return q(d,a,3)}function v(d,a){return q(d,a,6)}function g(d,a){return q(d,a,12)}function k(a){return a instanceof Date?a:new Date("string"==typeof a?a.replace(/-/g,"/"):a)}var p=[{formatter:"hh : mm : ss",value:1000},{formatter:"hh : mm : ss",value:5000},{formatter:"hh : mm : ss",value:10000},{formatter:"hh : mm : ss",value:15000},{formatter:"hh : mm : ss",value:30000},{formatter:"hh : mm\nMM - dd",value:60000},{formatter:"hh : mm\nMM - dd",value:300000},{formatter:"hh : mm\nMM - dd",value:600000},{formatter:"hh : mm\nMM - dd",value:900000},{formatter:"hh : mm\nMM - dd",value:1800000},{formatter:"hh : mm\nMM - dd",value:3600000},{formatter:"hh : mm\nMM - dd",value:7200000},{formatter:"hh : mm\nMM - dd",value:21600000},{formatter:"hh : mm\nMM - dd",value:43200000},{formatter:"MM - dd\nyyyy",value:86400000},{formatter:"week",value:604800000},{formatter:"month",value:2678400000},{formatter:"quarter",value:8208000000},{formatter:"half-year",value:16416000000},{formatter:"year",value:32832000000}];return{getAutoFormatter:m,getNewDate:k,format:j,nextMonday:f,nextNthPerNmonth:q,nextNthOnMonth:c,nextNthOnQuarterYear:b,nextNthOnHalfYear:v,nextNthOnYear:g}}),define("echarts/util/smartSteps",[],function(){function ad(a){return G.log(B(a))/G.LN10}function K(a){return G.pow(10,a)}function Z(a){return a===j(a)}function Q(d,c,g,b){D=b||{},ag=D.steps||H,ai=D.secs||C,g=q(+g||0)%99,d=+d||0,c=+c||0,F=Y=0,"min" in D&&(d=+D.min||0,F=1),"max" in D&&(c=+D.max||0,Y=1),d>c&&(c=[d,d=c][0]);var f=c-d;if(F&&Y){return ac(d,c,g)}if((g||5)>f){if(Z(d)&&Z(c)){return O(d,c,g)}if(0===f){return J(d,c,g)}}return aa(d,c,g)}function ah(v,r,f,y){y=y||0;var L=P((r-v)/f,-1),o=P(v,-1,1),t=P(r,-1),w=G.min(L.e,o.e,t.e);0===o.c?w=G.min(L.e,t.e):0===t.c&&(w=G.min(L.e,o.e)),N(L,{c:0,e:w}),N(o,L,1),N(t,L),y+=w,v=o.c,r=t.c;for(var x=(r-v)/f,k=K(y),b=0,I=[],g=f+1;g--;){I[g]=(v+x*g)*k}if(0>y){b=A(k),x=+(x*k).toFixed(b),v=+(v*k).toFixed(b),r=+(r*k).toFixed(b);for(var g=I.length;g--;){I[g]=I[g].toFixed(b),0===+I[g]&&(I[g]="0")}}else{v*=k,r*=k,x*=k}return ai=0,ag=0,D=0,{min:v,max:r,secs:f,step:x,fix:b,exp:y,pnts:I}}function P(f,b,e){b=q(b%10)||2,0>b&&(Z(f)?b=(""+B(f)).replace(/0+$/,"").length||1:(f=f.toFixed(15).replace(/0+$/,""),b=f.replace(".","").replace(/^[-0]+/,"").length,f=+f));var d=j(ad(f))-b+1,c=+(f*K(-d)).toFixed(15)||0;return c=e?j(c):E(c),!c&&(d=0),(""+B(c)).length>b&&(d+=1,c/=10),{c:c,e:d}}function N(d,c,f){var b=c.e-d.e;b&&(d.e+=b,d.c*=K(-b),d.c=f?j(d.c):E(d.c))}function M(c,b,a){c.e<b.e?N(b,c,a):N(c,b,a)}function T(c,b){b=b||H,c=P(c);for(var a=c.c,d=0;a>b[d];){d++}if(!b[d]){for(a/=10,c.e+=1,d=0;a>b[d];){d++}}return c.c=b[d],c}function aa(g,m,a){var o,c=a||+ai.slice(-1),l=T((m-g)/c,ag),b=P(m-g),d=P(g,-1,1),i=P(m,-1);if(N(b,l),N(d,l,1),N(i,l),a?o=af(d,i,c):c=ae(d,i),Z(g)&&Z(m)&&g*m>=0){if(c>m-g){return O(g,m,c)}c=R(g,m,a,d,i,c)}var k=z(g,m,d.c,i.c);return d.c=k[0],i.c=k[1],(F||Y)&&ab(g,m,d,i),ah(d.c,i.c,c,i.e)}function ae(k,c){for(var m,b,l,g,f=[],d=ai.length;d--;){m=ai[d],b=T((c.c-k.c)/m,ag),b=b.c*K(b.e),l=j(k.c/b)*b,g=E(c.c/b)*b,f[d]={min:l,max:g,step:b,span:g-l}}return f.sort(function(n,h){var a=n.span-h.span;return 0===a&&(a=n.step-h.step),a}),f=f[0],m=f.span/f.step,k.c=f.min,c.c=f.max,3>m?2*m:m}function af(m,k,g){for(var u,f,b=k.c,v=(k.c-m.c)/g-1;b>m.c;){v=T(v+1,ag),v=v.c*K(v.e),u=v*g,f=E(k.c/v)*v,b=f-u}var l=m.c-b,p=f-k.c,t=l-p;return t>1.1*v&&(t=q(t/v/2)*v,b+=t,f+=t),m.c=b,k.c=f,v}function R(k,f,p,c,b,t){var g=b.c-c.c,i=g/t*K(b.e);if(!Z(i)&&(i=j(i),g=i*t,f-k>g&&(i+=1,g=i*t,!p&&i*(t-1)>=f-k&&(t-=1,g=i*t)),g>=f-k)){var m=g-(f-k);c.c=q(k-m/2),b.c=q(f+m/2),c.e=0,b.e=0}return t}function O(f,b,a){if(a=a||5,F){b=f+a}else{if(Y){f=b-a}else{var h=a-(b-f),g=q(f-h/2),d=q(b+h/2),c=z(f,b,g,d);f=c[0],b=c[1]}}return ah(f,b,a)}function J(c,b,a){a=a||5;var d=G.min(B(b/a),a)/2.1;return F?b=c+d:Y?c=b-d:(c-=d,b+=d),aa(c,b,a)}function z(c,b,a,d){return c>=0&&0>a?(d-=a,a=0):0>=b&&d>0&&(a-=d,d=0),[a,d]}function A(a){return a=(+a).toFixed(15).split("."),a.pop().replace(/0+$/,"").length}function ab(g,d,c,h){if(F){var b=P(g,4,1);c.e-b.e>6&&(b={c:0,e:c.e}),M(c,b),M(h,b),h.c+=b.c-c.c,c.c=b.c}else{if(Y){var f=P(d,4);h.e-f.e>6&&(f={c:0,e:h.e}),M(c,f),M(h,f),c.c+=f.c-h.c,h.c=f.c}}}function ac(L,aj,w){var b=w?[w]:ai,ak=aj-L;if(0===ak){return aj=P(aj,3),w=b[0],aj.c=q(aj.c+w/2),ah(aj.c-w,aj.c,w,aj.e)}B(aj/ak)<0.000001&&(aj=0),B(L/ak)<0.000001&&(L=0);var v,x,S,W=[[5,10],[10,2],[50,10],[100,2]],o=[],a=[],X=P(aj-L,3),k=P(L,-1,1),r=P(aj,-1);N(k,X,1),N(r,X),ak=r.c-k.c,X.c=ak;for(var y=b.length;y--;){w=b[y],v=E(ak/w),x=v*w-ak,S=3*(x+3),S+=2*(w-b[0]+2),w%5===0&&(S-=10);for(var I=W.length;I--;){v%W[I][0]===0&&(S/=W[I][1])}a[y]=[w,v,x,S].join(),o[y]={secs:w,step:v,delta:x,score:S}}return o.sort(function(d,c){return d.score-c.score}),o=o[0],k.c=q(k.c-o.delta/2),r.c=q(r.c+o.delta/2),ah(k.c,r.c,o.secs,X.e)}var D,ag,ai,F,Y,H=[10,20,25,50],C=[4,5,6],G=Math,q=G.round,j=G.floor,E=G.ceil,B=G.abs;return Q}),define("echarts/util/smartLogSteps",["require","./number"],function(ap){function ac(a){return al(),D=a||{},ah(),au(),[ag(),al()][0]}function al(){ai=D=ao=B=R=at=an=av=af=ab=null}function ah(){af=D.logLabelBase,null==af?(ab="plain",af=10,B=G):(af=+af,1>af&&(af=10),ab="exponent",B=aa(af)),an=D.splitNumber,null==an&&(an=N);var b=parseFloat(D.dataMin),a=parseFloat(D.dataMax);isFinite(b)||isFinite(a)?isFinite(b)?isFinite(a)?b>a&&(a=[b,b=a][0]):a=b:b=a:b=a=1,ai=D.logPositive,null==ai&&(ai=a>0||0===b),R=ai?b:-a,at=ai?a:-b,F>R&&(R=F),F>at&&(at=F)}function au(){function p(){an>u&&(an=u);var r=j(aj(u/an)),m=q(aj(u/r)),h=r*m,y=(h-g)/2,d=j(aj(b-y));ar(d-b)&&(d-=1),ao=-d*B;for(var o=d;c>=o-r;o+=r){av.push(H(af,o))}}function w(){for(var n=k(l,0),i=n+2;i>n&&v(n+1)+f(n+1)*O<b;){n++}for(var h=k(x,0),i=h-2;h>i&&v(h-1)+f(h-1)*O>c;){h--}ao=-(v(n)*G+f(n)*J);for(var o=n;h>=o;o++){var r=v(o),a=f(o);av.push(H(10,r)*H(2,a))}}function k(d,a){return 3*d+a}function f(a){return a-3*v(a)}function v(a){return j(aj(a/3))}av=[];var c=aj(aa(at)/B),b=aj(aa(R)/B),x=q(c),l=j(b),u=x-l,g=c-b;"exponent"===ab?p():Q>=u&&an>Q?w():p()}function ag(){for(var g=[],f=0,d=av.length;d>f;f++){g[f]=(ai?1:-1)*av[f]}!ai&&g.reverse();var k=ad(),c=k.value2Coord,h=c(g[0]),b=c(g[g.length-1]);return h===b&&(h-=1,b+=1),{dataMin:h,dataMax:b,tickList:g,logPositive:ai,labelFormatter:ae(),dataMappingMethods:k}}function ae(){if("exponent"===ab){var b=af,a=B;return function(c){if(!isFinite(parseFloat(c))){return""}var d="";return 0>c&&(c=-c,d="-"),d+b+aq(aa(c)/a)}}return function(c){return isFinite(parseFloat(c))?Y.addCommas(am(c)):""}}function ad(){var b=ai,a=ao;return{value2Coord:function(c){return null==c||isNaN(c)||!isFinite(c)?c:(c=parseFloat(c),isFinite(c)?b&&F>c?c=F:!b&&c>-F&&(c=-F):c=F,c=Z(c),(b?1:-1)*(aa(c)+a))},coord2Value:function(c){return null==c||isNaN(c)||!isFinite(c)?c:(c=parseFloat(c),isFinite(c)||(c=F),b?H(M,c-a):-H(M,-c+a))}}}function aj(a){return +Number(+a).toFixed(14)}function am(a){return Number(a).toFixed(15).replace(/\.?0*$/,"")}function aq(f){f=am(Math.round(f));for(var d=[],c=0,g=f.length;g>c;c++){var b=f.charAt(c);d.push(P[b]||"")}return d.join("")}function ar(a){return a>-F&&F>a}var ai,af,ab,B,D,an,ao,R,at,av,Y=ap("./number"),ak=Math,aa=ak.log,H=ak.pow,Z=ak.abs,q=ak.ceil,j=ak.floor,M=ak.E,G=ak.LN10,J=ak.LN2,O=J/G,F=1e-9,N=5,Q=2,P={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻"};return ac});